/*! For license information please see main.5ed959dc.js.LICENSE.txt */
!function(){var e={278:function(e,t,n){"use strict";n.d(t,{AV:function(){return Q},Ep:function(){return _},Gn:function(){return O},LX:function(){return L},PP:function(){return g},PQ:function(){return X},RQ:function(){return K},WK:function(){return te},X3:function(){return Y},Zn:function(){return F},Zq:function(){return z},aU:function(){return r},cP:function(){return I},fp:function(){return C},i3:function(){return V},kG:function(){return j},lX:function(){return k},p7:function(){return ae},pC:function(){return q},q_:function(){return b},uX:function(){return J}});var r,i=n(762),a=n(165),o=n(861),u=n(942),s=n(144),c=n(671),l=n(136),f=n(277),h=n(664),d=n(439),p=n(433);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var m,y="popstate";function g(e){void 0===e&&(e={});var t,n=e,i=n.initialEntries,a=void 0===i?["/"]:i,o=n.initialIndex,u=n.v5Compat,s=void 0!==u&&u;t=a.map((function(e,t){return p(e,"string"===typeof e?null:e.state,0===t?"default":void 0)}));var c=h(null==o?t.length-1:o),l=r.Pop,f=null;function h(e){return Math.min(Math.max(e,0),t.length-1)}function d(){return t[c]}function p(e,n,r){void 0===n&&(n=null);var i=E(t?d().pathname:"/",e,n,r);return w("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}return{get index(){return c},get action(){return l},get location(){return d()},createHref:function(e){return"string"===typeof e?e:_(e)},encodeLocation:function(e){return e},push:function(e,n){l=r.Push;var i=p(e,n);c+=1,t.splice(c,t.length,i),s&&f&&f({action:l,location:i})},replace:function(e,n){l=r.Replace;var i=p(e,n);t[c]=i,s&&f&&f({action:l,location:i})},go:function(e){l=r.Pop,c=h(c+e),f&&f({action:l,location:d()})},listen:function(e){return f=e,function(){f=null}}}}function k(e){return void 0===e&&(e={}),S((function(e,t){var n=e.location;return E("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:_(t)}),null,e)}function b(e){return void 0===e&&(e={}),S((function(e,t){var n=I(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return E("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:_(t))}),(function(e,t){w("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e){return{usr:e.state,key:e.key}}function E(e,t,n,r){return void 0===n&&(n=null),v({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?I(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function _(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function I(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Z(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:_(e);return new URL(n,t)}function S(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=r.Pop,h=null;function d(){f=r.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(y,d),h=e,function(){u.removeEventListener(y,d),h=null}},createHref:function(e){return t(u,e)},encodeLocation:function(e){var t=Z(_(e));return v({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){f=r.Push;var i=E(p.location,e,t);n&&n(i,e);var a=x(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:p.location})},replace:function(e,t){f=r.Replace;var i=E(p.location,e,t);n&&n(i,e);var a=x(i),o=p.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:p.location})},go:function(e){return l.go(e)}};return p}function T(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map((function(e,r){var i=[].concat((0,p.Z)(t),[r]),a="string"===typeof e.id?e.id:i.join("-");return j(!0!==e.index||!e.children,"Cannot specify children on an index route"),j(!n.has(a),'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),n.add(a),function(e){return!0===e.index}(e)?v({},e,{id:a}):v({},e,{id:a,children:e.children?T(e.children,i,n):void 0})}))}function C(e,t,n){void 0===n&&(n="/");var r=F(("string"===typeof t?I(t):t).pathname||"/",n);if(null==r)return null;var i=N(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=P(i[o],M(r));return a}function N(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(j(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=K([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(j(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),N(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:R(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));var A=/^:\w+$/,D=function(e){return"*"===e};function R(e,t){var n=e.split("/"),r=n.length;return n.some(D)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!D(e)})).reduce((function(e,t){return e+(A.test(t)?3:""===t?1:10)}),r)}function P(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=L({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:K([i,l.pathname]),pathnameBase:G(K([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=K([i,l.pathnameBase]))}return a}function O(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,(function(e,n){return j(null!=t[n],'Missing ":'+n+'" param'),t[n]})).replace(/(\/?)\*/,(function(e,n,r,i){return null==t["*"]?"/*"===i?"/":"":""+n+t["*"]}))}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);U("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return U(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function M(e){try{return decodeURI(e)}catch(t){return U(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function U(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function V(e,t){void 0===t&&(t="/");var n="string"===typeof e?I(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:H(a),hash:W(u)}}function B(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function q(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=I(e):(j(!(i=v({},e)).pathname||!i.pathname.includes("?"),B("?","pathname","search",i)),j(!i.pathname||!i.pathname.includes("#"),B("#","pathname","hash",i)),j(!i.search||!i.search.includes("#"),B("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=V(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var K=function(e){return e.join("/").replace(/\/\/+/g,"/")},G=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},H=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},W=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Q=function(e,t){void 0===t&&(t={});var n="number"===typeof t?{status:t}:t,r=new Headers(n.headers);return r.has("Content-Type")||r.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),v({},n,{headers:r}))},Y=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}((0,h.Z)(Error)),$=function(){function e(t){var n,r=this;(0,c.Z)(this,e),this.pendingKeys=new Set,this.subscriber=void 0,j(t&&"object"===typeof t&&!Array.isArray(t),"defer() only accepts plain objects"),this.abortPromise=new Promise((function(e,t){return n=t})),this.controller=new AbortController;var i=function(){return n(new Y("Deferred data aborted"))};this.unlistenAbortSignal=function(){return r.controller.signal.removeEventListener("abort",i)},this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((function(e,t){var n=(0,d.Z)(t,2),i=n[0],a=n[1];return Object.assign(e,(0,u.Z)({},i,r.trackPromise(i,a)))}),{})}return(0,s.Z)(e,[{key:"trackPromise",value:function(e,t){var n=this;if(!(t instanceof Promise))return t;this.pendingKeys.add(e);var r=Promise.race([t,this.abortPromise]).then((function(t){return n.onSettle(r,e,null,t)}),(function(t){return n.onSettle(r,e,t)}));return r.catch((function(){})),Object.defineProperty(r,"_tracked",{get:function(){return!0}}),r}},{key:"onSettle",value:function(e,t,n,r){if(this.controller.signal.aborted&&n instanceof Y)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:function(){return n}}),Promise.reject(n);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();var i=this.subscriber;return n?(Object.defineProperty(e,"_error",{get:function(){return n}}),i&&i(!1),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:function(){return r}}),i&&i(!1),r)}},{key:"subscribe",value:function(e){this.subscriber=e}},{key:"cancel",value:function(){var e=this;this.controller.abort(),this.pendingKeys.forEach((function(t,n){return e.pendingKeys.delete(n)}));var t=this.subscriber;t&&t(!0)}},{key:"resolveData",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r,i=this;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,this.done){e.next=7;break}return r=function(){return i.cancel()},t.addEventListener("abort",r),e.next=6,new Promise((function(e){i.subscribe((function(n){t.removeEventListener("abort",r),(n||i.done)&&e(n)}))}));case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"done",get:function(){return 0===this.pendingKeys.size}},{key:"unwrappedData",get:function(){return j(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1];return Object.assign(e,(0,u.Z)({},r,function(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}(i)))}),{})}}]),e}();function X(e){return new $(e)}var J=function(e,t){void 0===t&&(t=302);var n=t;"number"===typeof n?n={status:n}:"undefined"===typeof n.status&&(n.status=302);var r=new Headers(n.headers);return r.set("Location",e),new Response(null,v({},n,{headers:r}))},ee=(0,s.Z)((function e(t,n,r){(0,c.Z)(this,e),this.status=t,this.statusText=n||"",this.data=r}));function te(e){return e instanceof ee}var ne={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},re={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ie=!("undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement);function ae(e){j(e.routes.length>0,"You must provide a non-empty routes array to createRouter");var t=T(e.routes),n=null,s=new Set,c=null,l=null,f=null,h=!1,m=C(t,e.history.location,e.basename),y=null;if(null==m){var g=xe(t),k=g.matches,b=g.route,w=g.error;m=k,y=(0,u.Z)({},b.id,w)}var x,_,I=!m.some((function(e){return e.route.loader}))||null!=e.hydrationData,Z={historyAction:e.history.action,location:e.history.location,matches:m,initialized:I,navigation:ne,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map},S=r.Pop,N=!1,A=!1,D=!1,R=[],P=[],O=new Map,L=0,M=-1,F=new Map,U=new Set,V=new Map,B=new Map;function z(e){Z=v({},Z,e),s.forEach((function(e){return e(Z)}))}function q(t,n){var i;z(v({},null!=Z.actionData&&null!=Z.navigation.formMethod&&"loading"===Z.navigation.state&&(null==(i=Z.navigation.formAction)?void 0:i.split("?")[0])===t.pathname?{}:{actionData:null},n,n.loaderData?{loaderData:ke(Z.loaderData,n.loaderData,n.matches||[])}:{},{historyAction:S,location:t,initialized:!0,navigation:ne,revalidation:"idle",restoreScrollPosition:!Z.navigation.formData&&Me(t,n.matches||Z.matches),preventScrollReset:N})),A||S===r.Pop||(S===r.Push?e.history.push(t,t.state):S===r.Replace&&e.history.replace(t,t.state)),S=r.Pop,N=!1,A=!1,D=!1,R=[],P=[]}function K(){return K=(0,o.Z)((0,a.Z)().mark((function t(n,i){var o,u,s,c,l,f,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:return o=ue(n,i),u=o.path,s=o.submission,c=o.error,l=E(Z.location,u,i&&i.state),l=e.history.encodeLocation(l),f=!0===(i&&i.replace)||null!=s?r.Replace:r.Push,h=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,t.next=10,G(f,l,{submission:s,pendingError:c,preventScrollReset:h,replace:i&&i.replace});case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)}))),K.apply(this,arguments)}function G(e,t,n){return H.apply(this,arguments)}function H(){return H=(0,o.Z)((0,a.Z)().mark((function n(r,i,o){var s,c,l,f,h,d,p,m,y,g,k,b,w,x,E;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(_&&_.abort(),_=null,S=r,A=!0===(o&&o.startUninterruptedRevalidation),Pe(Z.location,Z.matches),N=!0===(o&&o.preventScrollReset),s=o&&o.overrideNavigation,c=C(t,i,e.basename)){n.next=13;break}return l=xe(t),f=l.matches,h=l.route,d=l.error,Re(),q(i,{matches:f,loaderData:{},errors:(0,u.Z)({},h.id,d)}),n.abrupt("return");case 13:if(!Ze(Z.location,i)){n.next=16;break}return q(i,{matches:c}),n.abrupt("return");case 16:if(_=new AbortController,p=ve(i,_.signal,o&&o.submission),!o||!o.pendingError){n.next=22;break}y=(0,u.Z)({},be(c).route.id,o.pendingError),n.next=32;break;case 22:if(!o||!o.submission){n.next=32;break}return n.next=25,W(p,i,o.submission,c,{replace:o.replace});case 25:if(!(g=n.sent).shortCircuited){n.next=28;break}return n.abrupt("return");case 28:m=g.pendingActionData,y=g.pendingActionError,k=v({state:"loading",location:i},o.submission),s=k;case 32:return n.next=34,Y(p,i,c,s,o&&o.submission,o&&o.replace,m,y);case 34:if(b=n.sent,w=b.shortCircuited,x=b.loaderData,E=b.errors,!w){n.next=40;break}return n.abrupt("return");case 40:_=null,q(i,{matches:c,loaderData:x,errors:E});case 42:case"end":return n.stop()}}),n)}))),H.apply(this,arguments)}function W(e,t,n,r,i){return Q.apply(this,arguments)}function Q(){return Q=(0,o.Z)((0,a.Z)().mark((function e(t,n,i,o,s){var c,l,f,h;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he(),z({navigation:v({state:"submitting",location:n},i)}),(l=Le(o,n)).route.action){e.next=8;break}c=Ee(n),e.next=13;break;case 8:return e.next=10,de("action",t,l,o,x.basename);case 10:if(c=e.sent,!t.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!Ce(c)){e.next=18;break}return f=v({state:"loading",location:E(Z.location,c.location)},i),e.next=17,ae(c,f,s&&s.replace);case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!Te(c)){e.next=22;break}return h=be(o,l.route.id),!0!==(s&&s.replace)&&(S=r.Push),e.abrupt("return",{pendingActionError:(0,u.Z)({},h.route.id,c.error)});case 22:if(!Se(c)){e.next=24;break}throw new Error("defer() is not supported in actions");case 24:return e.abrupt("return",{pendingActionData:(0,u.Z)({},l.route.id,c.data)});case 25:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function Y(e,t,n,r,i,a,o,u){return $.apply(this,arguments)}function $(){return $=(0,o.Z)((0,a.Z)().mark((function e(t,n,r,i,o,u,s,c){var l,f,h,p,m,y,g,k,b,w,x,E,I,S,T;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((l=i)||(l={state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0}),f=le(Z,r,o,n,D,R,P,s,c,V),h=(0,d.Z)(f,2),p=h[0],m=h[1],Re((function(e){return!(r&&r.some((function(t){return t.route.id===e})))||p&&p.some((function(t){return t.route.id===e}))})),0!==p.length||0!==m.length){e.next=7;break}return q(n,{matches:r,loaderData:ke(Z.loaderData,{},r),errors:c||null,actionData:s||null}),e.abrupt("return",{shortCircuited:!0});case 7:return A||(m.forEach((function(e){var t=(0,d.Z)(e,1)[0],n=Z.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};Z.fetchers.set(t,r)})),z(v({navigation:l,actionData:s||Z.actionData||null},m.length>0?{fetchers:new Map(Z.fetchers)}:{}))),M=++L,m.forEach((function(e){var t=(0,d.Z)(e,1)[0];return O.set(t,_)})),e.next=12,ce(Z.matches,r,p,m,t);case 12:if(y=e.sent,g=y.results,k=y.loaderResults,b=y.fetcherResults,!t.signal.aborted){e.next=18;break}return e.abrupt("return",{shortCircuited:!0});case 18:if(m.forEach((function(e){var t=(0,d.Z)(e,1)[0];return O.delete(t)})),!(w=_e(g))){e.next=25;break}return x=se(Z,w),e.next=24,ae(w,x,u);case 24:return e.abrupt("return",{shortCircuited:!0});case 25:return E=ge(Z,r,p,k,c,m,b,B),I=E.loaderData,S=E.errors,B.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&B.delete(t)}))})),Ie(),T=Ae(M),e.abrupt("return",v({loaderData:I,errors:S},T||m.length>0?{fetchers:new Map(Z.fetchers)}:{}));case 30:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function X(e){return Z.fetchers.get(e)||re}function J(){return J=(0,o.Z)((0,a.Z)().mark((function n(r,i,o,s,c,l){var f,h,p,m,y,g,k,b,w,I,T,N,A,K,G,H,W,Q,Y,$,X,J,ee,te,ne,re,ie,oe;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(he(),V.delete(r),s.route.action){n.next=6;break}return f=Ee(o),h=f.error,pe(r,i,h),n.abrupt("return");case 6:return p=Z.fetchers.get(r),m=v({state:"submitting"},l,{data:p&&p.data}),Z.fetchers.set(r,m),z({fetchers:new Map(Z.fetchers)}),y=new AbortController,g=ve(o,y.signal,l),O.set(r,y),n.next=15,de("action",g,s,c,x.basename);case 15:if(k=n.sent,!g.signal.aborted){n.next=19;break}return O.get(r)===y&&O.delete(r),n.abrupt("return");case 19:if(!Ce(k)){n.next=29;break}return O.delete(r),U.add(r),b=v({state:"loading"},l,{data:void 0}),Z.fetchers.set(r,b),z({fetchers:new Map(Z.fetchers)}),w=v({state:"loading",location:E(Z.location,k.location)},l),n.next=28,ae(k,w);case 28:return n.abrupt("return");case 29:if(!Te(k)){n.next=32;break}return pe(r,i,k.error),n.abrupt("return");case 32:return Se(k)&&j(!1,"defer() is not supported in actions"),I=Z.navigation.location||Z.location,T=ve(I,y.signal),j(N="idle"!==Z.navigation.state?C(t,Z.navigation.location,e.basename):Z.matches,"Didn't find any matches after fetcher action"),A=++L,F.set(r,A),K=v({state:"loading",data:k.data},l),Z.fetchers.set(r,K),G=le(Z,N,l,I,D,R,P,(0,u.Z)({},s.route.id,k.data),void 0,V),H=(0,d.Z)(G,2),W=H[0],(Q=H[1]).filter((function(e){return(0,d.Z)(e,1)[0]!==r})).forEach((function(e){var t=(0,d.Z)(e,1)[0],n=Z.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};Z.fetchers.set(t,r),O.set(t,y)})),z({fetchers:new Map(Z.fetchers)}),n.next=46,ce(Z.matches,N,W,Q,T);case 46:if(Y=n.sent,$=Y.results,X=Y.loaderResults,J=Y.fetcherResults,!y.signal.aborted){n.next=52;break}return n.abrupt("return");case 52:if(F.delete(r),O.delete(r),Q.forEach((function(e){var t=(0,d.Z)(e,1)[0];return O.delete(t)})),!(ee=_e($))){n.next=61;break}return w=se(Z,ee),n.next=60,ae(ee,w);case 60:return n.abrupt("return");case 61:te=ge(Z,Z.matches,W,X,void 0,Q,J,B),ne=te.loaderData,re=te.errors,ie={state:"idle",data:k.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Z.fetchers.set(r,ie),oe=Ae(A),"loading"===Z.navigation.state&&A>M?(j(S,"Expected pending action"),_&&_.abort(),q(Z.navigation.location,{matches:N,loaderData:ne,errors:re,fetchers:new Map(Z.fetchers)})):(z(v({errors:re,loaderData:ke(Z.loaderData,ne,N)},oe?{fetchers:new Map(Z.fetchers)}:{})),D=!1);case 66:case"end":return n.stop()}}),n)}))),J.apply(this,arguments)}function te(){return te=(0,o.Z)((0,a.Z)().mark((function e(t,n,r,i,o){var s,c,l,f,h,d,p,v;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Z.fetchers.get(t),c={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:s&&s.data},Z.fetchers.set(t,c),z({fetchers:new Map(Z.fetchers)}),l=new AbortController,f=ve(r,l.signal),O.set(t,l),e.next=9,de("loader",f,i,o,x.basename);case 9:if(!Se(h=e.sent)){e.next=17;break}return e.next=13,De(h,f.signal,!0);case 13:if(e.t0=e.sent,e.t0){e.next=16;break}e.t0=h;case 16:h=e.t0;case 17:if(O.get(t)===l&&O.delete(t),!f.signal.aborted){e.next=20;break}return e.abrupt("return");case 20:if(!Ce(h)){e.next=25;break}return d=se(Z,h),e.next=24,ae(h,d);case 24:return e.abrupt("return");case 25:if(!Te(h)){e.next=30;break}return p=be(Z.matches,n),Z.fetchers.delete(t),z({fetchers:new Map(Z.fetchers),errors:(0,u.Z)({},p.route.id,h.error)}),e.abrupt("return");case 30:j(!Se(h),"Unhandled fetcher deferred data"),v={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Z.fetchers.set(t,v),z({fetchers:new Map(Z.fetchers)});case 34:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ae(e,t,n){return oe.apply(this,arguments)}function oe(){return oe=(0,o.Z)((0,a.Z)().mark((function e(t,n,i){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.revalidate&&(D=!0),j(n.location,"Expected a location on the redirect navigation"),_=null,o=!0===i?r.Replace:r.Push,e.next=6,G(o,n.location,{overrideNavigation:n});case 6:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ce(e,t,n,r,i){return fe.apply(this,arguments)}function fe(){return fe=(0,o.Z)((0,a.Z)().mark((function e(t,n,r,i,o){var u,s,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([].concat((0,p.Z)(r.map((function(e){return de("loader",o,e,n,x.basename)}))),(0,p.Z)(i.map((function(e){var t=(0,d.Z)(e,4),n=t[1],r=t[2],i=t[3];return de("loader",ve(n,o.signal),r,i,x.basename)})))));case 2:return u=e.sent,s=u.slice(0,r.length),c=u.slice(r.length),e.next=7,Promise.all([Ne(t,r,s,o.signal,!1,Z.loaderData),Ne(t,i.map((function(e){return(0,d.Z)(e,3)[2]})),c,o.signal,!0)]);case 7:return e.abrupt("return",{results:u,loaderResults:s,fetcherResults:c});case 8:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function he(){var e;D=!0,(e=R).push.apply(e,(0,p.Z)(Re())),V.forEach((function(e,t){O.has(t)&&(P.push(t),ye(t))}))}function pe(e,t,n){var r=be(Z.matches,t);me(e),z({errors:(0,u.Z)({},r.route.id,n),fetchers:new Map(Z.fetchers)})}function me(e){O.has(e)&&ye(e),V.delete(e),F.delete(e),U.delete(e),Z.fetchers.delete(e)}function ye(e){var t=O.get(e);j(t,"Expected fetch controller: "+e),t.abort(),O.delete(e)}function we(e){var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a={state:"idle",data:X(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};Z.fetchers.set(r,a)}}catch(o){n.e(o)}finally{n.f()}}function Ie(){var e,t=[],n=(0,i.Z)(U);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=Z.fetchers.get(r);j(a,"Expected fetcher: "+r),"loading"===a.state&&(U.delete(r),t.push(r))}}catch(o){n.e(o)}finally{n.f()}we(t)}function Ae(e){var t,n=[],r=(0,i.Z)(F);try{for(r.s();!(t=r.n()).done;){var a=(0,d.Z)(t.value,2),o=a[0];if(a[1]<e){var u=Z.fetchers.get(o);j(u,"Expected fetcher: "+o),"loading"===u.state&&(ye(o),F.delete(o),n.push(o))}}}catch(s){r.e(s)}finally{r.f()}return we(n),n.length>0}function Re(e){var t=[];return B.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),B.delete(r))})),t}function Pe(e,t){if(c&&l&&f){var n=t.map((function(e){return Oe(e,Z.loaderData)})),r=l(e,n)||e.key;c[r]=f()}}function Me(e,t){if(c&&l&&f){var n=t.map((function(e){return Oe(e,Z.loaderData)})),r=l(e,n)||e.key,i=c[r];if("number"===typeof i)return i}return null}return x={get basename(){return e.basename},get state(){return Z},get routes(){return t},initialize:function(){return n=e.history.listen((function(e){return G(e.action,e.location)})),Z.initialized||G(r.Pop,Z.location),x},subscribe:function(e){return s.add(e),function(){return s.delete(e)}},enableScrollRestoration:function(e,t,n){if(c=e,f=t,l=n||function(e){return e.key},!h&&Z.navigation===ne){h=!0;var r=Me(Z.location,Z.matches);null!=r&&z({restoreScrollPosition:r})}return function(){c=null,f=null,l=null}},navigate:function(e,t){return K.apply(this,arguments)},fetch:function(n,r,i,a){if(ie)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(n)&&ye(n);var o=C(t,i,e.basename);if(o){var u=ue(i,a,!0),s=u.path,c=u.submission,l=Le(o,s);c?function(e,t,n,r,i,a){J.apply(this,arguments)}(n,r,s,l,o,c):(V.set(n,[s,l,o]),function(e,t,n,r,i){te.apply(this,arguments)}(n,r,s,l,o))}else pe(n,r,new ee(404,"Not Found",null))},revalidate:function(){he(),z({revalidation:"loading"}),"submitting"!==Z.navigation.state&&("idle"!==Z.navigation.state?G(S||Z.historyAction,Z.navigation.location,{overrideNavigation:Z.navigation}):G(Z.historyAction,Z.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},getFetcher:X,deleteFetcher:me,dispose:function(){n&&n(),s.clear(),_&&_.abort(),Z.fetchers.forEach((function(e,t){return me(t)}))},_internalFetchControllers:O,_internalActiveDeferreds:B},x}var oe=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat((0,p.Z)(oe)));function ue(e,t,n){void 0===n&&(n=!1);var r="string"===typeof e?e:_(e);if(!t||!("formMethod"in t)&&!("formData"in t))return{path:r};if(null!=t.formMethod&&"get"!==t.formMethod)return{path:r,submission:{formMethod:t.formMethod,formAction:Ie(r),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}};if(!t.formData)return{path:r};var i=I(r);try{var a=me(t.formData);n&&i.search&&Pe(i.search)&&a.append("index",""),i.search="?"+a}catch(o){return{path:r,error:new ee(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:_(i)}}function se(e,t){var n=e.navigation,r=n.formMethod,i=n.formAction,a=n.formEncType,o=n.formData;return{state:"loading",location:E(e.location,t.location),formMethod:r||void 0,formAction:i||void 0,formEncType:a||void 0,formData:o||void 0}}function ce(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function le(e,t,n,r,i,a,o,u,s,c){var l=s?Object.values(s)[0]:u?Object.values(u)[0]:null,f=ce(t,s?Object.keys(s)[0]:void 0).filter((function(t,o){return null!=t.route.loader&&(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(e.loaderData,e.matches[o],t)||a.some((function(e){return e===t.route.id}))||he(e.location,e.matches[o],n,r,t,i,l))})),h=[];return c&&c.forEach((function(e,t){var r=(0,d.Z)(e,3),a=r[0],u=r[1],s=r[2];if(o.includes(t))h.push([t,a,u,s]);else if(i){he(a,u,n,a,u,i,l)&&h.push([t,a,u,s])}})),[f,h]}function fe(e,t){var n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function he(e,t,n,r,i,a,o){var u=Z(e),s=t.params,c=Z(r),l=i.params,f=fe(t,i)||u.toString()===c.toString()||u.search!==c.search||a;if(i.route.shouldRevalidate){var h=i.route.shouldRevalidate(v({currentUrl:u,currentParams:s,nextUrl:c,nextParams:l},n,{actionResult:o,defaultShouldRevalidate:f}));if("boolean"===typeof h)return h}return f}function de(e,t,n,r,i,a,o){return pe.apply(this,arguments)}function pe(){return(pe=(0,o.Z)((0,a.Z)().mark((function e(t,n,r,i,o,u,s){var c,l,f,h,d,p,v,y,g,k,b,w,x,E,I;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===u&&(u=!1),void 0===s&&(s=!1),h=new Promise((function(e,t){return f=t})),d=function(){return f()},n.signal.addEventListener("abort",d),e.prev=5,j(p=r.route[t],"Could not find the "+t+' to run on the "'+r.route.id+'" route'),e.next=10,Promise.race([p({request:n,params:r.params}),h]);case 10:l=e.sent,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),c=m.error,l=e.t0;case 17:return e.prev=17,n.signal.removeEventListener("abort",d),e.finish(17);case 20:if(!(l instanceof Response)){e.next=51;break}if(!((v=l.status)>=300&&v<=399)){e.next=36;break}if(j(y=l.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),g=i.slice(0,i.indexOf(r)+1),k=z(g).map((function(e){return e.pathnameBase})),b=Z(n.url).pathname,j(_(w=q(y,k,b)),"Unable to resolve redirect location: "+l.headers.get("Location")),o&&(x=w.pathname,w.pathname="/"===x?o:K([o,x])),y=_(w),!u){e.next=35;break}throw l.headers.set("Location",y),l;case 35:return e.abrupt("return",{type:m.redirect,status:v,location:y,revalidate:null!==l.headers.get("X-Remix-Revalidate")});case 36:if(!s){e.next=38;break}throw{type:c||m.data,response:l};case 38:if(!(I=l.headers.get("Content-Type"))||!I.startsWith("application/json")){e.next=45;break}return e.next=42,l.json();case 42:E=e.sent,e.next=48;break;case 45:return e.next=47,l.text();case 47:E=e.sent;case 48:if(c!==m.error){e.next=50;break}return e.abrupt("return",{type:c,error:new ee(v,l.statusText,E),headers:l.headers});case 50:return e.abrupt("return",{type:m.data,data:E,statusCode:l.status,headers:l.headers});case 51:if(c!==m.error){e.next=53;break}return e.abrupt("return",{type:c,error:l});case 53:if(!(l instanceof $)){e.next=55;break}return e.abrupt("return",{type:m.deferred,deferredData:l});case 55:return e.abrupt("return",{type:m.data,data:l});case 56:case"end":return e.stop()}}),e,null,[[5,13,17,20]])})))).apply(this,arguments)}function ve(e,t,n){var r=Z(Ie(e)).toString(),i={signal:t};if(n){var a=n.formMethod,o=n.formEncType,u=n.formData;i.method=a.toUpperCase(),i.body="application/x-www-form-urlencoded"===o?me(u):u}return new Request(r,i)}function me(e){var t,n=new URLSearchParams,r=(0,i.Z)(e.entries());try{for(r.s();!(t=r.n()).done;){var a=(0,d.Z)(t.value,2),o=a[0],u=a[1];j("string"===typeof u,'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),n.append(o,u)}}catch(s){r.e(s)}finally{r.f()}return n}function ye(e,t,n,r,i){var a,o={},s=null,c=!1,l={};return n.forEach((function(n,f){var h=t[f].route.id;if(j(!Ce(n),"Cannot handle redirect results in processLoaderData"),Te(n)){var d=be(e,h),p=n.error;r&&(p=Object.values(r)[0],r=void 0),s=Object.assign(s||{},(0,u.Z)({},d.route.id,p)),c||(c=!0,a=te(n.error)?n.error.status:500),n.headers&&(l[h]=n.headers)}else Se(n)?(i&&i.set(h,n.deferredData),o[h]=n.deferredData.data):(o[h]=n.data,null==n.statusCode||200===n.statusCode||c||(a=n.statusCode),n.headers&&(l[h]=n.headers))})),r&&(s=r),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:l}}function ge(e,t,n,r,i,a,o,s){for(var c=ye(t,n,r,i,s),l=c.loaderData,f=c.errors,h=0;h<a.length;h++){var p=(0,d.Z)(a[h],3),m=p[0],y=p[2];j(void 0!==o&&void 0!==o[h],"Did not find corresponding fetcher result");var g=o[h];if(Te(g)){var k=be(e.matches,y.route.id);f&&f[k.route.id]||(f=v({},f,(0,u.Z)({},k.route.id,g.error))),e.fetchers.delete(m)}else{if(Ce(g))throw new Error("Unhandled fetcher revalidation redirect");if(Se(g))throw new Error("Unhandled fetcher deferred data");var b={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};e.fetchers.set(m,b)}}return{loaderData:l,errors:f}}function ke(e,t,n){var r=v({},t);return n.forEach((function(n){var i=n.route.id;void 0===t[i]&&void 0!==e[i]&&(r[i]=e[i])})),r}function be(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):(0,p.Z)(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function we(e,t,n){var r=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-"+t+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r,error:new ee(t,n,null)}}function xe(e){return we(e,404,"Not Found")}function Ee(e){var t="string"===typeof e?e:_(e);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for ["+t+"]"),{type:m.error,error:new ee(405,"Method Not Allowed","")}}function _e(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(Ce(n))return n}}function Ie(e){return _(v({},"string"===typeof e?I(e):e,{hash:""}))}function Ze(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function Se(e){return e.type===m.deferred}function Te(e){return e.type===m.error}function Ce(e){return(e&&e.type)===m.redirect}function Ne(e,t,n,r,i,a){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,o.Z)((0,a.Z)().mark((function e(t,n,r,i,o,u){var s,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(0,a.Z)().mark((function e(s){var c,l,f,h;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r[s],l=n[s],f=t.find((function(e){return e.route.id===l.route.id})),h=null!=f&&!fe(f,l)&&void 0!==(u&&u[l.route.id]),!Se(c)||!o&&!h){e.next=7;break}return e.next=7,De(c,i,o).then((function(e){e&&(r[s]=e||r[s])}));case 7:case"end":return e.stop()}}),e)})),c=0;case 2:if(!(c<r.length)){e.next=7;break}return e.delegateYield(s(c),"t0",4);case 4:c++,e.next=2;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t,n){return Re.apply(this,arguments)}function Re(){return(Re=(0,o.Z)((0,a.Z)().mark((function e(t,n,r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:m.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:m.error,error:e.t0});case 14:return e.abrupt("return",{type:m.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])})))).apply(this,arguments)}function Pe(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function Oe(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Le(e,t){var n="string"===typeof t?I(t).search:t.search;if(e[e.length-1].route.index&&Pe(n||""))return e[e.length-1];var r=z(e);return r[r.length-1]}},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case Z:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ze(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Se(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==Ee||null!==_e)&&(Ce(),Se())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Oe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,je=null,Ue={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,a,o,u,s){Le=!1,Me=null,Oe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,It,Zt=!1,St=[],Tt=null,Ct=null,Nt=null,At=new Map,Dt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Zt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(jt),Dt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Zt||(Zt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),At.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var zt=b.ReactCurrentBatchConfig,qt=!0;function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Wt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Wt=null;function Qt(e,t,n,r){if(Wt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return _n}var Zn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(Zn),Tn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Ln=l&&"TextEvent"in window&&!On,Mn=l&&(!Pn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ze(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Wn(e){Fr(e,0)}function Qn(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];Kn(t,Hn,e,we(e)),Ae(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Ir(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Zr=Ir("animationend"),Sr=Ir("animationiteration"),Tr=Ir("animationstart"),Cr=Ir("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Pr=Ar[Rr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Zr,"onAnimationEnd"),Dr(Sr,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Zr:case Sr:case Tr:s=yn;break;case Cr:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(qn(u))if($n)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Un(e,t)?(e=en(),Jt=Xt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Ii(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Zi(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Si={},Ti=_i(Si),Ci=_i(!1),Ni=Si;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Ci),Ii(Ti)}function Pi(e,t,n){if(Ti.current!==Si)throw Error(a(168));Zi(Ti,t),Zi(Ci,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ni=Ti.current,Zi(Ti,e),Zi(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ci),Ii(Ti),Zi(Ti,e)):Ii(Ci),Zi(Ci,n)}var Fi=null,ji=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Je,Bi),i}finally{kt=t,Ui=!1}}return null}var zi=[],qi=0,Ki=null,Gi=0,Hi=[],Wi=0,Qi=null,Yi=1,$i="";function Xi(e,t){zi[qi++]=Gi,zi[qi++]=Ki,Ki=e,Gi=t}function Ji(e,t,n){Hi[Wi++]=Yi,Hi[Wi++]=$i,Hi[Wi++]=Qi,Qi=e;var r=Yi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Yi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--qi],zi[qi]=null,Gi=zi[--qi],zi[qi]=null;for(;e===Qi;)Qi=Hi[--Wi],Hi[Wi]=null,$i=Hi[--Wi],Hi[Wi]=null,Yi=Hi[--Wi],Hi[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Za=null;function Sa(e){null===Za?Za=[e]:Za.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),Oa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Di(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Di(t)?Ni:Ti.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=O(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Oc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(O(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=Qa(!0),$a=Qa(!1),Xa={},Ja=_i(Xa),eo=_i(Xa),to=_i(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Zi(to,t),Zi(eo,e),Zi(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ja),Zi(Ja,t)}function io(){Ii(Ja),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Zi(eo,e),Zi(Ja,n))}function oo(e){eo.current===e&&(Ii(Ja),Ii(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function So(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Do(e,t){var n=vo,r=So(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,qo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Po.bind(null,n,r,i,t),void 0,null),null===Cs)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Oo(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Ca(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=Zo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return So().memoizedState}function Vo(e,t,n,r){var i=Zo();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function zo(e,t){return Vo(8390656,8,e,t)}function qo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return So().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Sa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Zo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return Zo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Jo.bind(null,e[1]),Zo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Zo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cs)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Zo(),t=Cs.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:qo,useImperativeHandle:Wo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:$o,useReducer:Co,useRef:Uo,useState:function(){return Co(To)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(So(),mo.memoizedState,e)},useTransition:function(){return[Co(To)[0],So().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:qo,useImperativeHandle:Wo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:$o,useReducer:No,useRef:Uo,useState:function(){return No(To)},useDebugValue:Qo,useDeferredValue:function(e){var t=So();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(To)[0],So().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Su(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zi(Rs,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Zi(Rs,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Zi(Rs,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Zi(Rs,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Zu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Di(n)?Ni:Ti.current;return a=Ai(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Tu(e,t,n,r,i){if(Di(n)){var a=!0;Li(t)}else a=!1;if(_a(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ai(t,c=Di(n)?Ni:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Na?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ai(t,s=Di(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&qa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,a,i)}function Cu(e,t,n,r,i,a){Zu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),qu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Au(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ru,Pu,Ou={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Zi(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Oc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Ou,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Oc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Ou,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Cs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Wi++]=Yi,Hi[Wi++]=$i,Hi[Wi++]=Qi,Yi=e.id,$i=e.overflow,Qi=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Oc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Zi(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Di(t.type)&&Ri(),Gu(t),null;case 3:return r=t.stateNode,io(),Ii(Ci),Ii(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)jr(Or[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":G(r),J(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)jr(Or[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Zi(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*$e()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=uo.current,Zi(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Wu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ci),Ii(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,Yu=!1,$u="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Ju(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $u),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){_c(e,e.return,m)}try{ns(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=$e())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Ju(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:Ju(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Qu;var c=Yu;if(Qu=o,(Yu=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Qu=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){_c(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{is(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Es,_s=Math.ceil,Is=b.ReactCurrentDispatcher,Zs=b.ReactCurrentOwner,Ss=b.ReactCurrentBatchConfig,Ts=0,Cs=null,Ns=null,As=0,Ds=0,Rs=_i(0),Ps=0,Os=null,Ls=0,Ms=0,Fs=0,js=null,Us=null,Vs=0,Bs=1/0,zs=null,qs=!1,Ks=null,Gs=null,Hs=!1,Ws=null,Qs=0,Ys=0,$s=null,Xs=-1,Js=0;function ec(){return 0!==(6&Ts)?$e():-1!==Xs?Xs:Xs=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==As?As&-As:null!==va.transition?(0===Js&&(Js=vt()),Js):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,$s=null,Error(a(185));yt(e,n,r),0!==(2&Ts)&&e===Cs||(e===Cs&&(0===(2&Ts)&&(Ms|=n),4===Ps&&uc(e,As)),rc(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(Bs=$e()+500,ji&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Cs?As:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){ji=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),oi((function(){0===(6&Ts)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Js=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cs?As:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Ts;Ts|=2;var o=pc();for(Cs===e&&As===t||(zs=null,Bs=$e()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Ts=i,null!==Ns?t=0:(Cs=null,As=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Os,hc(e,0),uc(e,r),rc(e,$e()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Os,hc(e,0),uc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Vs+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,zs),t);break}wc(e,Us,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,zs),r);break}wc(e,Us,zs);break;default:throw Error(a(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ts))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Os,hc(e,0),uc(e,t),rc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,zs),rc(e,$e()),null}function cc(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Bs=$e()+500,ji&&Bi())}}function lc(e){null!==Ws&&0===Ws.tag&&0===(6&Ts)&&xc();var t=Ts;Ts|=1;var n=Ss.transition,r=kt;try{if(Ss.transition=null,kt=1,e)return e()}finally{kt=r,Ss.transition=n,0===(6&(Ts=t))&&Bi()}}function fc(){Ds=Rs.current,Ii(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ii(Ci),Ii(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cs=e,Ns=e=Rc(e.current,null),As=Ds=t,Ps=0,Os=null,Fs=Ms=Ls=0,Us=js=null,null!==Za){for(t=0;t<Za.length;t++)if(null!==(r=(n=Za[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Za=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Zs.current=null,null===n||null===n.return){Ps=1,Os=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=As,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Cs||0===(268435455&Ls)&&0===(268435455&Ms)||uc(Cs,As)}function mc(e,t){var n=Ts;Ts|=2;var r=pc();for(Cs===e&&As===t||(zs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Ts=n,Is.current=r,null!==Ns)throw Error(a(261));return Cs=null,As=0,Ps}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Qe();)kc(Ns)}function kc(e){var t=Es(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Zs.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ds)))return void(Ns=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ps=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ss.transition;try{Ss.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ws);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cs&&(Ns=Cs=null,As=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Cc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=kt;kt=1;var s=Ts;Ts|=4,Zs.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Ts=s,kt=u,Ss.transition=o}else e.current=n;if(Hs&&(Hs=!1,Ws=e,Qs=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,e=Ks,Ks=null,e;0!==(1&Qs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===$s?Ys++:(Ys=0,$s=e):Ys=0,Bi()}(e,t,n,r)}finally{Ss.transition=i,kt=r}return null}function xc(){if(null!==Ws){var e=bt(Qs),t=Ss.transition,n=kt;try{if(Ss.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Qs=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Ts=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ss.transition=t}}return!1}function Ec(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(As&n)===n&&(4===Ps||3===Ps&&(130023424&As)===As&&500>$e()-Vs?hc(e,0):Fs|=n),rc(e,t)}function Zc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ca(e,t))&&(yt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Zc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Zc(e,n)}function Cc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Oc(n.children,i,o,t);case _:u=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=o,e;case C:return(e=Ac(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Ac(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Z:u=10;break e;case S:u=9;break e;case T:u=11;break e;case A:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Oi(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),Oa(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Zi(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Zi(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Zi(uo,1&uo.current),null!==(e=qu(e,t,n))?e.sibling:null);Zi(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zi(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return qu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Au(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Au(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Zu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Zi(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ci.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zu(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,_a(t,n),za(t,r,i),Ka(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,$e()),0===(6&Ts)&&(Bs=$e()+500,Bi()))}break;case 13:lc((function(){var t=Ca(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Ca(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},_t=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ze,Se,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},965:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(791)),i=u(n(7)),a=n(87),o=["children","onClick","replace","to","state","activeClassName","className","activeStyle","style","isActive"];function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=function(e){var t=e.children,n=e.onClick,i=e.replace,u=e.to,s=e.state,l=e.activeClassName,d=e.className,p=e.activeStyle,v=e.style,m=e.isActive,y=h(e,o),g="object"===f(u)?u.pathname||"":u,k=(0,a.useNavigate)(),b=(0,a.useHref)("string"===typeof u?{pathname:u}:u),w=(0,a.useMatch)(g),x=(0,a.useLocation)(),E=r.default.Children.only(t),_=!!(m?"function"===typeof m?m(w,x):m:w);return r.default.cloneElement(E,c(c({},y),{},{className:[d,E.props.className,_?l:null].join(" ").trim(),style:_?c(c({},v),p):v,href:b,onClick:function(e){t.props.onClick&&t.props.onClick(e),n&&n(e),e.defaultPrevented||0!==e.button||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),k(u,{replace:i,state:s}))}}))};d.propTypes={children:i.default.element.isRequired,onClick:i.default.func,replace:i.default.bool,to:i.default.oneOfType([i.default.string,i.default.object]).isRequired,state:i.default.object,className:i.default.string,activeClassName:i.default.string,style:i.default.objectOf(i.default.oneOfType([i.default.string,i.default.number])),activeStyle:i.default.objectOf(i.default.oneOfType([i.default.string,i.default.number])),isActive:i.default.oneOfType([i.default.func,i.default.bool])},d.defaultProps={replace:!1,activeClassName:"active",onClick:null,className:null,style:null,activeStyle:null,isActive:null};var p=d;t.default=p},564:function(e,t,n){"use strict";Object.defineProperty(t,"J",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(965))&&r.__esModule?r:{default:r}},87:function(e,t,n){"use strict";n.r(t),n.d(t,{AbortedDeferredError:function(){return s.X3},Await:function(){return u.KP},BrowserRouter:function(){return w},Form:function(){return Z},HashRouter:function(){return x},Link:function(){return _},MemoryRouter:function(){return u.VA},NavLink:function(){return I},Navigate:function(){return u.Fg},NavigationType:function(){return s.aU},Outlet:function(){return u.j3},Route:function(){return u.AW},Router:function(){return u.F0},RouterProvider:function(){return u.pG},Routes:function(){return u.Z5},ScrollRestoration:function(){return N},UNSAFE_DataRouterContext:function(){return u.w3},UNSAFE_DataRouterStateContext:function(){return u.FR},UNSAFE_DataStaticRouterContext:function(){return u.H7},UNSAFE_LocationContext:function(){return u.gd},UNSAFE_NavigationContext:function(){return u.Us},UNSAFE_RouteContext:function(){return u.pW},UNSAFE_enhanceManualRouteObjects:function(){return u.DG},createBrowserRouter:function(){return k},createHashRouter:function(){return b},createMemoryRouter:function(){return u.bi},createPath:function(){return s.Ep},createRoutesFromChildren:function(){return u.is},createRoutesFromElements:function(){return u.i7},createSearchParams:function(){return p},defer:function(){return s.PQ},generatePath:function(){return s.Gn},isRouteErrorResponse:function(){return s.WK},json:function(){return s.AV},matchPath:function(){return s.LX},matchRoutes:function(){return s.fp},parsePath:function(){return s.cP},redirect:function(){return s.uX},renderMatches:function(){return u.Oe},resolvePath:function(){return s.i3},unstable_HistoryRouter:function(){return E},useActionData:function(){return u.nA},useAsyncError:function(){return u.iG},useAsyncValue:function(){return u.qv},useFetcher:function(){return j},useFetchers:function(){return U},useFormAction:function(){return M},useHref:function(){return u.oQ},useInRouterContext:function(){return u.GV},useLinkClickHandler:function(){return R},useLoaderData:function(){return u.f_},useLocation:function(){return u.TH},useMatch:function(){return u.bS},useMatches:function(){return u.SN},useNavigate:function(){return u.s0},useNavigation:function(){return u.HJ},useNavigationType:function(){return u.ur},useOutlet:function(){return u.pC},useOutletContext:function(){return u.bx},useParams:function(){return u.UO},useResolvedPath:function(){return u.WU},useRevalidator:function(){return u.xW},useRouteError:function(){return u.lk},useRouteLoaderData:function(){return u.V4},useRoutes:function(){return u.V$},useSearchParams:function(){return P},useSubmit:function(){return O}});var r=n(433),i=n(439),a=n(762),o=n(791),u=n(689),s=n(278);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var f="get",h="application/x-www-form-urlencoded";function d(e){return null!=e&&"string"===typeof e.tagName}function p(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map((function(e){return[n,e]})):[[n,r]])}),[]))}function v(e,t,n){var r,o,u,s,c;if(d(c=e)&&"form"===c.tagName.toLowerCase()){var l=n.submissionTrigger;r=n.method||e.getAttribute("method")||f,o=n.action||e.getAttribute("action")||t,u=n.encType||e.getAttribute("enctype")||h,s=new FormData(e),l&&l.name&&s.append(l.name,l.value)}else if(function(e){return d(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return d(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){var p=e.form;if(null==p)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');r=n.method||e.getAttribute("formmethod")||p.getAttribute("method")||f,o=n.action||e.getAttribute("formaction")||p.getAttribute("action")||t,u=n.encType||e.getAttribute("formenctype")||p.getAttribute("enctype")||h,s=new FormData(p),e.name&&s.append(e.name,e.value)}else{if(d(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(r=n.method||f,o=n.action||t,u=n.encType||h,e instanceof FormData)s=e;else if(s=new FormData,e instanceof URLSearchParams){var v,m=(0,a.Z)(e);try{for(m.s();!(v=m.n()).done;){var y=(0,i.Z)(v.value,2),g=y[0],k=y[1];s.append(g,k)}}catch(Z){m.e(Z)}finally{m.f()}}else if(null!=e)for(var b=0,w=Object.keys(e);b<w.length;b++){var x=w[b];s.append(x,e[x])}}var E=window.location,_=E.protocol,I=E.host;return{url:new URL(o,_+"//"+I),method:r,encType:u,formData:s}}var m=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],y=["aria-current","caseSensitive","className","end","style","to","children"],g=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative"];function k(e,t){var n;return(0,s.p7)({basename:null==t?void 0:t.basename,history:(0,s.lX)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||(null==(n=window)?void 0:n.__staticRouterHydrationData),routes:(0,u.DG)(e)}).initialize()}function b(e,t){var n;return(0,s.p7)({basename:null==t?void 0:t.basename,history:(0,s.q_)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||(null==(n=window)?void 0:n.__staticRouterHydrationData),routes:(0,u.DG)(e)}).initialize()}function w(e){var t=e.basename,n=e.children,r=e.window,a=o.useRef();null==a.current&&(a.current=(0,s.lX)({window:r,v5Compat:!0}));var c=a.current,l=o.useState({action:c.action,location:c.location}),f=(0,i.Z)(l,2),h=f[0],d=f[1];return o.useLayoutEffect((function(){return c.listen(d)}),[c]),o.createElement(u.F0,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}function x(e){var t=e.basename,n=e.children,r=e.window,a=o.useRef();null==a.current&&(a.current=(0,s.q_)({window:r,v5Compat:!0}));var c=a.current,l=o.useState({action:c.action,location:c.location}),f=(0,i.Z)(l,2),h=f[0],d=f[1];return o.useLayoutEffect((function(){return c.listen(d)}),[c]),o.createElement(u.F0,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}function E(e){var t=e.basename,n=e.children,r=e.history,a=o.useState({action:r.action,location:r.location}),s=(0,i.Z)(a,2),c=s[0],l=s[1];return o.useLayoutEffect((function(){return r.listen(l)}),[r]),o.createElement(u.F0,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:r})}var _=o.forwardRef((function(e,t){var n=e.onClick,r=e.relative,i=e.reloadDocument,a=e.replace,s=e.state,f=e.target,h=e.to,d=e.preventScrollReset,p=l(e,m),v=(0,u.oQ)(h,{relative:r}),y=R(h,{replace:a,state:s,target:f,preventScrollReset:d,relative:r});return o.createElement("a",c({},p,{href:v,onClick:i?n:function(e){n&&n(e),e.defaultPrevented||y(e)},ref:t,target:f}))}));var I=o.forwardRef((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.caseSensitive,a=void 0!==i&&i,s=e.className,f=void 0===s?"":s,h=e.end,d=void 0!==h&&h,p=e.style,v=e.to,m=e.children,g=l(e,y),k=(0,u.WU)(v,{relative:g.relative}),b=(0,u.TH)(),w=o.useContext(u.FR),x=k.pathname,E=b.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(E=E.toLowerCase(),I=I?I.toLowerCase():null,x=x.toLowerCase());var Z,S=E===x||!d&&E.startsWith(x)&&"/"===E.charAt(x.length),T=null!=I&&(I===x||!d&&I.startsWith(x)&&"/"===I.charAt(x.length)),C=S?r:void 0;Z="function"===typeof f?f({isActive:S,isPending:T}):[f,S?"active":null,T?"pending":null].filter(Boolean).join(" ");var N="function"===typeof p?p({isActive:S,isPending:T}):p;return o.createElement(_,c({},g,{"aria-current":C,className:Z,ref:t,style:N,to:v}),"function"===typeof m?m({isActive:S,isPending:T}):m)}));var Z=o.forwardRef((function(e,t){return o.createElement(C,c({},e,{ref:t}))}));var S,T,C=o.forwardRef((function(e,t){var n=e.reloadDocument,r=e.replace,i=e.method,a=void 0===i?f:i,u=e.action,s=e.onSubmit,h=e.fetcherKey,d=e.routeId,p=e.relative,v=l(e,g),m=L(h,d),y="get"===a.toLowerCase()?"get":"post",k=M(u,{relative:p});return o.createElement("form",c({ref:t,method:y,action:k,onSubmit:n?s:function(e){if(s&&s(e),!e.defaultPrevented){e.preventDefault();var t=e.nativeEvent.submitter;m(t||e.currentTarget,{method:a,replace:r,relative:p})}}},v))}));function N(e){return function(e){var t=void 0===e?{}:e,n=t.getKey,r=t.storageKey,i=A(S.UseScrollRestoration).router,a=D(T.UseScrollRestoration),s=a.restoreScrollPosition,c=a.preventScrollReset,l=(0,u.TH)(),f=(0,u.SN)(),h=(0,u.HJ)();o.useEffect((function(){return window.history.scrollRestoration="manual",function(){window.history.scrollRestoration="auto"}}),[]),d=o.useCallback((function(){if("idle"===h.state){var e=(n?n(l,f):null)||l.key;B[e]=window.scrollY}sessionStorage.setItem(r||V,JSON.stringify(B)),window.history.scrollRestoration="auto"}),[r,n,h.state,l,f]),o.useEffect((function(){return window.addEventListener("beforeunload",d),function(){window.removeEventListener("beforeunload",d)}}),[d]),o.useLayoutEffect((function(){try{var e=sessionStorage.getItem(r||V);e&&(B=JSON.parse(e))}catch(t){}}),[r]),o.useLayoutEffect((function(){var e=null==i?void 0:i.enableScrollRestoration(B,(function(){return window.scrollY}),n);return function(){return e&&e()}}),[i,n]),o.useLayoutEffect((function(){if(!1!==s)if("number"!==typeof s){if(l.hash){var e=document.getElementById(l.hash.slice(1));if(e)return void e.scrollIntoView()}!0!==c&&window.scrollTo(0,0)}else window.scrollTo(0,s)}),[l,s,c]);var d}({getKey:e.getKey,storageKey:e.storageKey}),null}function A(e){var t=o.useContext(u.w3);return t||(0,s.kG)(!1),t}function D(e){var t=o.useContext(u.FR);return t||(0,s.kG)(!1),t}function R(e,t){var n=void 0===t?{}:t,r=n.target,i=n.replace,a=n.state,c=n.preventScrollReset,l=n.relative,f=(0,u.s0)(),h=(0,u.TH)(),d=(0,u.WU)(e,{relative:l});return o.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==i?i:(0,s.Ep)(h)===(0,s.Ep)(d);f(e,{replace:n,state:a,preventScrollReset:c,relative:l})}}),[h,f,d,i,a,r,e,c,l])}function P(e){var t=o.useRef(p(e)),n=(0,u.TH)(),r=o.useMemo((function(){return function(e,t){var n,r=p(e),i=(0,a.Z)(t.keys());try{var o=function(){var e=n.value;r.has(e)||t.getAll(e).forEach((function(t){r.append(e,t)}))};for(i.s();!(n=i.n()).done;)o()}catch(u){i.e(u)}finally{i.f()}return r}(n.search,t.current)}),[n.search]),i=(0,u.s0)(),s=o.useCallback((function(e,t){var n=p("function"===typeof e?e(r):e);i("?"+n,t)}),[i,r]);return[r,s]}function O(){return L()}function L(e,t){var n=A(S.UseSubmitImpl).router,r=M();return o.useCallback((function(i,a){if(void 0===a&&(a={}),"undefined"===typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");var o=v(i,r,a),u=o.method,c=o.encType,l=o.formData,f=o.url,h=f.pathname+f.search,d={replace:a.replace,formData:l,formMethod:u,formEncType:c};e?(null==t&&(0,s.kG)(!1),n.fetch(e,t,h,d)):n.navigate(h,d)}),[r,n,e,t])}function M(e,t){var n=(void 0===t?{}:t).relative,r=o.useContext(u.Us).basename,a=o.useContext(u.pW);a||(0,s.kG)(!1);var l=a.matches.slice(-1),f=(0,i.Z)(l,1)[0],h=null!=e?e:".",d=c({},(0,u.WU)(h,{relative:n})),p=(0,u.TH)();if(null==e&&(d.search=p.search,d.hash=p.hash,f.route.index)){var v=new URLSearchParams(d.search);v.delete("index"),d.search=v.toString()?"?"+v.toString():""}return e&&"."!==e||!f.route.index||(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(d.pathname="/"===d.pathname?r:(0,s.RQ)([r,d.pathname])),(0,s.Ep)(d)}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(S||(S={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(T||(T={}));var F=0;function j(){var e,t=A(S.UseFetcher).router,n=o.useContext(u.pW);n||(0,s.kG)(!1);var r=null==(e=n.matches[n.matches.length-1])?void 0:e.route.id;null==r&&(0,s.kG)(!1);var a=o.useState((function(){return String(++F)})),l=(0,i.Z)(a,1)[0],f=o.useState((function(){return r||(0,s.kG)(!1),function(e,t){return o.forwardRef((function(n,r){return o.createElement(C,c({},n,{ref:r,fetcherKey:e,routeId:t}))}))}(l,r)})),h=(0,i.Z)(f,1)[0],d=o.useState((function(){return function(e){t||(0,s.kG)(!1),r||(0,s.kG)(!1),t.fetch(l,r,e)}})),p=(0,i.Z)(d,1)[0],v=L(l,r),m=t.getFetcher(l),y=o.useMemo((function(){return c({Form:h,submit:v,load:p},m)}),[m,h,v,p]);return o.useEffect((function(){return function(){t?t.deleteFetcher(l):console.warn("No fetcher available to clean up from useFetcher()")}}),[t,l]),y}function U(){var e=D(T.UseFetchers);return(0,r.Z)(e.fetchers.values())}var V="react-router-scroll-positions",B={}},689:function(e,t,n){"use strict";var r;n.d(t,{AW:function(){return ue},DG:function(){return me},F0:function(){return se},FR:function(){return x},Fg:function(){return ae},GV:function(){return C},H7:function(){return b},HJ:function(){return H},KP:function(){return le},Oe:function(){return ve},SN:function(){return Q},TH:function(){return N},UO:function(){return M},Us:function(){return _},V$:function(){return j},V4:function(){return $},VA:function(){return ie},WU:function(){return F},Z5:function(){return ce},bS:function(){return D},bi:function(){return ye},bx:function(){return O},f_:function(){return Y},gd:function(){return I},i7:function(){return pe},iG:function(){return te},is:function(){return pe},j3:function(){return oe},lk:function(){return J},nA:function(){return X},oQ:function(){return T},pC:function(){return L},pG:function(){return re},pW:function(){return Z},qv:function(){return ee},s0:function(){return R},ur:function(){return A},w3:function(){return w},xW:function(){return W}});var i=n(433),a=n(671),o=n(144),u=n(136),s=n(277),c=n(439),l=n(278),f=n(791);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var d="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},p=f.useState,v=f.useEffect,m=f.useLayoutEffect,y=f.useDebugValue;function g(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!d(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var k=(r||(r=n.t(f,2))).useSyncExternalStore,b=f.createContext(null);var w=f.createContext(null);var x=f.createContext(null);var E=f.createContext(null);var _=f.createContext(null);var I=f.createContext(null);var Z=f.createContext({outlet:null,matches:[]});var S=f.createContext(null);function T(e,t){var n=(void 0===t?{}:t).relative;C()||(0,l.kG)(!1);var r=f.useContext(_),i=r.basename,a=r.navigator,o=F(e,{relative:n}),u=o.hash,s=o.pathname,c=o.search,h=s;return"/"!==i&&(h="/"===s?i:(0,l.RQ)([i,s])),a.createHref({pathname:h,search:c,hash:u})}function C(){return null!=f.useContext(I)}function N(){return C()||(0,l.kG)(!1),f.useContext(I).location}function A(){return f.useContext(I).navigationType}function D(e){C()||(0,l.kG)(!1);var t=N().pathname;return f.useMemo((function(){return(0,l.LX)(e,t)}),[t,e])}function R(){C()||(0,l.kG)(!1);var e=f.useContext(_),t=e.basename,n=e.navigator,r=f.useContext(Z).matches,i=N().pathname,a=JSON.stringify((0,l.Zq)(r).map((function(e){return e.pathnameBase}))),o=f.useRef(!1);return f.useEffect((function(){o.current=!0})),f.useCallback((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=(0,l.pC)(e,JSON.parse(a),i,"path"===r.relative);"/"!==t&&(u.pathname="/"===u.pathname?t:(0,l.RQ)([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state,r)}else n.go(e)}),[t,n,a,i])}var P=f.createContext(null);function O(){return f.useContext(P)}function L(e){var t=f.useContext(Z).outlet;return t?f.createElement(P.Provider,{value:e},t):t}function M(){var e=f.useContext(Z).matches,t=e[e.length-1];return t?t.params:{}}function F(e,t){var n=(void 0===t?{}:t).relative,r=f.useContext(Z).matches,i=N().pathname,a=JSON.stringify((0,l.Zq)(r).map((function(e){return e.pathnameBase})));return f.useMemo((function(){return(0,l.pC)(e,JSON.parse(a),i,"path"===n)}),[e,a,i,n])}function j(e,t){C()||(0,l.kG)(!1);var n,r=f.useContext(x),i=f.useContext(Z).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,N());if(t){var c,d="string"===typeof t?(0,l.cP)(t):t;"/"===u||(null==(c=d.pathname)?void 0:c.startsWith(u))||(0,l.kG)(!1),n=d}else n=s;var p=n.pathname||"/",v="/"===u?p:p.slice(u.length)||"/",m=(0,l.fp)(e,{pathname:v});var y=K(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:(0,l.RQ)([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:(0,l.RQ)([u,e.pathnameBase])})})),i,r||void 0);return t&&y?f.createElement(I.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:l.aU.Pop}},y):y}function U(){var e=J(),t=(0,l.WK)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unhandled Thrown Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:i},n):null,f.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",f.createElement("code",{style:a},"errorElement")," props on\xa0",f.createElement("code",{style:a},"<Route>")))}var V,B,z=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return(0,o.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?f.createElement(S.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(f.Component);function q(e){var t=e.routeContext,n=e.match,r=e.children,i=f.useContext(b);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),f.createElement(Z.Provider,{value:t},r)}function K(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var a=r.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));a>=0||(0,l.kG)(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((function(e,a,o){var u=a.route.id?null==i?void 0:i[a.route.id]:null,s=n?a.route.errorElement||f.createElement(U,null):null,c=function(){return f.createElement(q,{match:a,routeContext:{outlet:e,matches:t.concat(r.slice(0,o+1))}},u?s:void 0!==a.route.element?a.route.element:e)};return n&&(a.route.errorElement||0===o)?f.createElement(z,{location:n.location,component:s,error:u,children:c()}):c()}),null)}function G(e){var t=f.useContext(x);return t||(0,l.kG)(!1),t}function H(){return G(B.UseNavigation).navigation}function W(){var e=function(e){var t=f.useContext(w);return t||(0,l.kG)(!1),t}(V.UseRevalidator),t=G(B.UseRevalidator);return{revalidate:e.router.revalidate,state:t.revalidation}}function Q(){var e=G(B.UseMatches),t=e.matches,n=e.loaderData;return f.useMemo((function(){return t.map((function(e){var t=e.pathname,r=e.params;return{id:e.route.id,pathname:t,params:r,data:n[e.route.id],handle:e.route.handle}}))}),[t,n])}function Y(){var e=G(B.UseLoaderData),t=f.useContext(Z);t||(0,l.kG)(!1);var n=t.matches[t.matches.length-1];return n.route.id||(0,l.kG)(!1),e.loaderData[n.route.id]}function $(e){return G(B.UseRouteLoaderData).loaderData[e]}function X(){var e=G(B.UseActionData);return f.useContext(Z)||(0,l.kG)(!1),Object.values((null==e?void 0:e.actionData)||{})[0]}function J(){var e,t=f.useContext(S),n=G(B.UseRouteError),r=f.useContext(Z),i=r.matches[r.matches.length-1];return t||(r||(0,l.kG)(!1),i.route.id||(0,l.kG)(!1),null==(e=n.errors)?void 0:e[i.route.id])}function ee(){var e=f.useContext(E);return null==e?void 0:e._data}function te(){var e=f.useContext(E);return null==e?void 0:e._error}!function(e){e.UseRevalidator="useRevalidator"}(V||(V={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(B||(B={}));var ne;function re(e){var t=e.fallbackElement,n=e.router,r=k(n.subscribe,(function(){return n.state}),(function(){return n.state})),i=f.useMemo((function(){return{createHref:n.createHref,go:function(e){return n.navigate(e)},push:function(e,t,r){return n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})},replace:function(e,t,r){return n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}}}),[n]),a=n.basename||"/";return f.createElement(w.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},f.createElement(x.Provider,{value:r},f.createElement(se,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?f.createElement(ce,null):t)))}function ie(e){var t=e.basename,n=e.children,r=e.initialEntries,i=e.initialIndex,a=f.useRef();null==a.current&&(a.current=(0,l.PP)({initialEntries:r,initialIndex:i,v5Compat:!0}));var o=a.current,u=f.useState({action:o.action,location:o.location}),s=(0,c.Z)(u,2),h=s[0],d=s[1];return f.useLayoutEffect((function(){return o.listen(d)}),[o]),f.createElement(se,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:o})}function ae(e){var t=e.to,n=e.replace,r=e.state,i=e.relative;C()||(0,l.kG)(!1);var a=f.useContext(x),o=R();return f.useEffect((function(){a&&"idle"!==a.navigation.state||o(t,{replace:n,state:r,relative:i})})),null}function oe(e){return L(e.context)}function ue(e){(0,l.kG)(!1)}function se(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?l.aU.Pop:o,s=e.navigator,c=e.static,h=void 0!==c&&c;C()&&(0,l.kG)(!1);var d=n.replace(/^\/*/,"/"),p=f.useMemo((function(){return{basename:d,navigator:s,static:h}}),[d,s,h]);"string"===typeof a&&(a=(0,l.cP)(a));var v=a,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,E=void 0===x?null:x,Z=v.key,S=void 0===Z?"default":Z,T=f.useMemo((function(){var e=(0,l.Zn)(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:E,key:S}}),[d,y,k,w,E,S]);return null==T?null:f.createElement(_.Provider,{value:p},f.createElement(I.Provider,{children:i,value:{location:T,navigationType:u}}))}function ce(e){var t=e.children,n=e.location,r=f.useContext(w);return j(r&&!t?r.router.routes:pe(t),n)}function le(e){var t=e.children,n=e.errorElement,r=e.resolve;return f.createElement(he,{resolve:r,errorElement:n},f.createElement(de,null,t))}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ne||(ne={}));var fe=new Promise((function(){})),he=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).state={error:null},r}return(0,o.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.error("<Await> caught the following error during render",e,t)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.errorElement,r=e.resolve,i=null,a=ne.pending;if(r instanceof Promise)if(this.state.error){a=ne.error;var o=this.state.error;i=Promise.reject().catch((function(){})),Object.defineProperty(i,"_tracked",{get:function(){return!0}}),Object.defineProperty(i,"_error",{get:function(){return o}})}else r._tracked?a=void 0!==(i=r)._error?ne.error:void 0!==i._data?ne.success:ne.pending:(a=ne.pending,Object.defineProperty(r,"_tracked",{get:function(){return!0}}),i=r.then((function(e){return Object.defineProperty(r,"_data",{get:function(){return e}})}),(function(e){return Object.defineProperty(r,"_error",{get:function(){return e}})})));else a=ne.success,i=Promise.resolve(),Object.defineProperty(i,"_tracked",{get:function(){return!0}}),Object.defineProperty(i,"_data",{get:function(){return r}});if(a===ne.error&&i._error instanceof l.X3)throw fe;if(a===ne.error&&!n)throw i._error;if(a===ne.error)return f.createElement(E.Provider,{value:i,children:n});if(a===ne.success)return f.createElement(E.Provider,{value:i,children:t});throw i}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(f.Component);function de(e){var t=e.children,n=ee();return"function"===typeof t?t(n):f.createElement(f.Fragment,null,t)}function pe(e,t){void 0===t&&(t=[]);var n=[];return f.Children.forEach(e,(function(e,r){if(f.isValidElement(e))if(e.type!==f.Fragment){e.type!==ue&&(0,l.kG)(!1),e.props.index&&e.props.children&&(0,l.kG)(!1);var a=[].concat((0,i.Z)(t),[r]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=pe(e.props.children,a)),n.push(o)}else n.push.apply(n,pe(e.props.children,t))})),n}function ve(e){return K(e)}function me(e){return e.map((function(e){var t=h({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=me(t.children)),t}))}function ye(e,t){return(0,l.p7)({basename:null==t?void 0:t.basename,history:(0,l.PP)({initialEntries:null==t?void 0:t.initialEntries,initialIndex:null==t?void 0:t.initialIndex}),hydrationData:null==t?void 0:t.hydrationData,routes:me(e)}).initialize()}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function Z(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(Z(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=C(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!Z(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=Z,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(Z),Z=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,I=null,Z=-1,S=5,T=-1;function C(){return!(t.unstable_now()-T<S)}function N(){if(null!==I){var e=t.unstable_now();T=e;var n=!0;try{n=I(!0,e)}finally{n?E():(_=!1,I=null)}}else _=!1}if("function"===typeof k)E=function(){k(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=N,E=function(){D.postMessage(null)}}else E=function(){y(N,0)};function R(e){I=e,_||(_=!0,E())}function P(e,n){Z=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(Z),Z=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return i}})},671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},647:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(611),i=n(814);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&(0,r.Z)(a,n.prototype),a},a.apply(null,arguments)}},144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},277:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(120),i=n(814),a=n(2),o=n(326);function u(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function s(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),u=new S(r||[]);return a(o,"_invoke",{value:E(e,n,u)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};l(y,u,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(T([])));k&&k!==t&&n.call(k,u)&&(y=k);var b=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(a,o,u,s){var c=h(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function Z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=m,a(b,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,u,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),Z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;Z(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},664:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(120),i=n(611);var a=n(647);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return(0,a.Z)(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},o(e)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".202b8111.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="porfolio:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/host-portfolio/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkporfolio=self.webpackChunkporfolio||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return lr},SDK_VERSION:function(){return yi},_DEFAULT_ENTRY_NAME:function(){return ii},_addComponent:function(){return si},_addOrOverwriteComponent:function(){return ci},_apps:function(){return oi},_clearComponents:function(){return di},_components:function(){return ui},_getProvider:function(){return fi},_registerComponent:function(){return li},_removeServiceInstance:function(){return hi},deleteApp:function(){return wi},getApp:function(){return ki},getApps:function(){return bi},initializeApp:function(){return gi},onLog:function(){return _i},registerVersion:function(){return Ei},setLogLevel:function(){return Ii}});var t=n(791),r=n(250),i=n(87),a=n(689),o=n(942);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function l(e,t){if(null==e)return{};var n,r,i=c(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=n(694),h=n.n(f),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},p=t.createContext(null);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}n(176);function m(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function y(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function g(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,u=o[m(i)],s=o[i],l=c(o,[m(i),i].map(y)),f=n[i],h=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}(s,u,e[f]),d=h[0],p=h[1];return v({},l,((a={})[i]=d,a[f]=p,a))}),e)}function k(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function b(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function w(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}k.__suppressDeprecationWarning=!0,b.__suppressDeprecationWarning=!0,w.__suppressDeprecationWarning=!0;var x=/-(.)/g;var E=n(184),_=["xxl","xl","lg","md","sm","xs"],I="xs",Z=t.createContext({prefixes:{},breakpoints:_,minBreakpoint:I});Z.Consumer,Z.Provider;function S(e,n){var r=(0,t.useContext)(Z).prefixes;return e||r[n]||n}function T(){return(0,t.useContext)(Z).breakpoints}function C(){return(0,t.useContext)(Z).minBreakpoint}var N=["className","bsPrefix","as"],A=function(e){return e[0].toUpperCase()+(t=e,t.replace(x,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function D(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?A(e):r,a=n.Component,o=n.defaultProps,u=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,c=l(t,N),f=S(i,e);return(0,E.jsx)(u,s({ref:n,className:h()(r,f)},c))}));return u.defaultProps=o,u.displayName=i,u}var R=["bsPrefix","className","as"],P=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=l(e,R);n=S(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,E.jsx)(o,s(s({},a),{},{ref:t,className:h()(r,n)}))}));P.displayName="NavbarBrand";var O=P;function L(e){return e&&e.ownerDocument||document}function M(e,t){return function(e){var t=L(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var F=/([A-Z])/g;var j=/^ms-/;function U(e){return function(e){return e.replace(F,"-$1").toLowerCase()}(e).replace(j,"-ms-")}var V=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var B=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(U(t))||M(e).getPropertyValue(U(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!V.test(e))}(i)?n+=U(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(U(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},z=n(611);var q=n(164),K=!1,G=t.createContext(null),H="unmounted",W="exited",Q="entering",Y="entered",$="exiting",X=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=W,r.appearStatus=Q):i=Y:i=t.unmountOnExit||t.mountOnEnter?H:W,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,(0,z.Z)(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===H?{status:W}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Q&&n!==Y&&(t=Q):n!==Q&&n!==Y||(t=$)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Q){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:q.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===W&&this.setState({status:H})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[q.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||K?this.safeSetState({status:Y},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Q},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:Y},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:q.findDOMNode(this);t&&!K?(this.props.onExit(r),this.safeSetState({status:$},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:W},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:W},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:q.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===H)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,c(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(G.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function J(){}X.contextType=G,X.propTypes={},X.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:J,onEntering:J,onEntered:J,onExit:J,onExiting:J,onExited:J},X.UNMOUNTED=H,X.EXITED=W,X.ENTERING=Q,X.ENTERED=Y,X.EXITING=$;var ee=X,te=!("undefined"===typeof window||!window.document||!window.document.createElement),ne=!1,re=!1;try{var ie={get passive(){return ne=!0},get once(){return re=ne=!0}};te&&(window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,!0))}catch(MN){}var ae=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!re){var i=r.once,a=r.capture,o=n;!re&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,ne?r:a)}e.addEventListener(t,n,r)};var oe=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var ue=function(e,t,n,r){return ae(e,t,n,r),function(){oe(e,t,n,r)}};function se(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=ue(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function ce(e,t,n,r){null==n&&(n=function(e){var t=B(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=se(e,n,r),a=ue(e,"transitionend",t);return function(){i(),a()}}function le(e,t){var n=B(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function fe(e,t){var n=le(e,"transitionDuration"),r=le(e,"transitionDelay"),i=ce(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var he=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function de(e){e.offsetHeight}var pe=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ve=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=pe(e),r=pe(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var me,ye=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ge=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,c=e.onExited,f=e.addEndListener,h=e.children,d=e.childRef,p=l(e,ye),v=(0,t.useRef)(null),m=ve(v,d),y=function(e){var t;m((t=e)&&"setState"in t?q.findDOMNode(t):null!=t?t:null)},g=function(e){return function(t){e&&v.current&&e(v.current,t)}},k=(0,t.useCallback)(g(r),[r]),b=(0,t.useCallback)(g(i),[i]),w=(0,t.useCallback)(g(a),[a]),x=(0,t.useCallback)(g(o),[o]),_=(0,t.useCallback)(g(u),[u]),I=(0,t.useCallback)(g(c),[c]),Z=(0,t.useCallback)(g(f),[f]);return(0,E.jsx)(ee,s(s({ref:n},p),{},{onEnter:k,onEntered:w,onEntering:b,onExit:x,onExited:I,onExiting:_,addEndListener:Z,nodeRef:v,children:"function"===typeof h?function(e,t){return h(e,s(s({},t),{},{ref:y}))}:t.cloneElement(h,{ref:y})}))})),ke=ge,be=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],we={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function xe(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=we[e];return n+parseInt(B(t,r[0]),10)+parseInt(B(t,r[1]),10)}var Ee=(me={},(0,o.Z)(me,W,"collapse"),(0,o.Z)(me,$,"collapsing"),(0,o.Z)(me,Q,"collapsing"),(0,o.Z)(me,Y,"collapse show"),me),_e={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:xe},Ie=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,c=e.className,f=e.children,d=e.dimension,p=void 0===d?"height":d,v=e.getDimensionValue,m=void 0===v?xe:v,y=l(e,be),g="function"===typeof p?p():p,k=(0,t.useMemo)((function(){return he((function(e){e.style[g]="0"}),r)}),[g,r]),b=(0,t.useMemo)((function(){return he((function(e){var t="scroll".concat(g[0].toUpperCase()).concat(g.slice(1));e.style[g]="".concat(e[t],"px")}),i)}),[g,i]),w=(0,t.useMemo)((function(){return he((function(e){e.style[g]=null}),a)}),[g,a]),x=(0,t.useMemo)((function(){return he((function(e){e.style[g]="".concat(m(g,e),"px"),de(e)}),o)}),[o,m,g]),_=(0,t.useMemo)((function(){return he((function(e){e.style[g]=null}),u)}),[g,u]);return(0,E.jsx)(ke,s(s({ref:n,addEndListener:fe},y),{},{"aria-expanded":y.role?y.in:null,onEnter:k,onEntering:b,onEntered:w,onExit:x,onExiting:_,childRef:f.ref,children:function(e,n){return t.cloneElement(f,s(s({},n),{},{className:h()(c,f.props.className,Ee[e],"width"===g&&"collapse-horizontal")}))}}))}));Ie.defaultProps=_e;var Ze=Ie,Se=t.createContext(null);Se.displayName="NavbarContext";var Te=Se,Ce=["children","bsPrefix"],Ne=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=l(e,Ce);i=S(i,"navbar-collapse");var o=(0,t.useContext)(Te);return(0,E.jsx)(Ze,s(s({in:!(!o||!o.expanded)},a),{},{children:(0,E.jsx)("div",{ref:n,className:i,children:r})}))}));Ne.displayName="NavbarCollapse";var Ae=Ne;var De=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function Re(e){var n=De(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Pe=["bsPrefix","className","children","label","as","onClick"],Oe=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=e.as,c=void 0===u?"button":u,f=e.onClick,d=l(e,Pe);r=S(r,"navbar-toggler");var p=(0,t.useContext)(Te)||{},v=p.onToggle,m=p.expanded,y=Re((function(e){f&&f(e),v&&v()}));return"button"===c&&(d.type="button"),(0,E.jsx)(c,s(s({},d),{},{ref:n,onClick:y,"aria-label":o,className:h()(i,r,!m&&"collapsed"),children:a||(0,E.jsx)("span",{className:"".concat(r,"-icon")})}))}));Oe.displayName="NavbarToggle",Oe.defaultProps={label:"Toggle navigation"};var Le=Oe,Me=n(439),Fe="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,je="undefined"!==typeof document||Fe?t.useLayoutEffect:t.useEffect,Ue=new WeakMap,Ve=function(e,t){if(e&&t){var n=Ue.get(t)||new Map;Ue.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function Be(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=Ve(e,n),i=(0,t.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return je((function(){var t=Ve(e,n);if(!t)return o(!1);var r=Ue.get(n),i=function(){o(t.matches)};return t.refCount++,t.addListener(i),i(),function(){t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),a}var ze=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var u,s;"object"===typeof n?(u=n,o=a,a=!0):((s={})[n]=a=a||!0,u=s);var c=(0,t.useMemo)((function(){return Object.entries(u).reduce((function(t,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=r(t,i(a))),t}),"")}),[JSON.stringify(u)]);return Be(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function qe(e){void 0===e&&(e=L());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(MN){return e.body}}function Ke(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ge(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}var He=n(433),We=n(671),Qe=n(144);function Ye(e){return"".concat("data-rr-ui-").concat(e)}var $e=Ye("modal-open"),Xe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;(0,We.Z)(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return(0,Qe.Z)(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=(0,o.Z)({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(B(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute($e,""),B(r,t)}},{key:"reset",value:function(){var e=this;(0,He.Z)(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute($e),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Je=Xe,et=(0,t.createContext)(te?window:void 0);et.Provider;function tt(){return(0,t.useContext)(et)}var nt=function(e,t){return te?null==e?(t||L()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var rt,it=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function at(e){var n=tt(),r=e||function(e){return rt||(rt=new Je({ownerDocument:null==e?void 0:e.document})),rt}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var ot=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,u=e.className,s=e.style,c=e.children,l=e.backdrop,f=void 0===l||l,h=e.keyboard,d=void 0===h||h,p=e.onBackdropClick,v=e.onEscapeKeyDown,m=e.transition,y=e.backdropTransition,g=e.autoFocus,k=void 0===g||g,b=e.enforceFocus,w=void 0===b||b,x=e.restoreFocus,_=void 0===x||x,I=e.restoreFocusOptions,Z=e.renderDialog,S=e.renderBackdrop,T=void 0===S?function(e){return(0,E.jsx)("div",Object.assign({},e))}:S,C=e.manager,N=e.container,A=e.onShow,D=e.onHide,R=void 0===D?function(){}:D,P=e.onExit,O=e.onExited,L=e.onExiting,M=e.onEnter,F=e.onEntering,j=e.onEntered,U=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,it),V=function(e,n){var r=tt(),i=(0,t.useState)((function(){return nt(e,null==r?void 0:r.document)})),a=(0,Me.Z)(i,2),o=a[0],u=a[1];if(!o){var s=nt(e);s&&u(s)}return(0,t.useEffect)((function(){n&&o&&n(o)}),[n,o]),(0,t.useEffect)((function(){var t=nt(e);t!==o&&u(t)}),[e,o]),o}(N),B=at(C),z=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),K=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(i),G=(0,t.useState)(!i),H=(0,Me.Z)(G,2),W=H[0],Q=H[1],Y=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return B}),[B]),te&&!K&&i&&(Y.current=qe()),m||i||W?i&&W&&Q(!1):Q(!0);var $=Re((function(){if(B.add(),ie.current=ue(document,"keydown",ne),re.current=ue(document,"focus",(function(){return setTimeout(J)}),!0),A&&A(),k){var e=qe(document);B.dialog&&e&&!Ke(B.dialog,e)&&(Y.current=e,B.dialog.focus())}})),X=Re((function(){var e;(B.remove(),null==ie.current||ie.current(),null==re.current||re.current(),_)&&(null==(e=Y.current)||null==e.focus||e.focus(I),Y.current=null)}));(0,t.useEffect)((function(){i&&V&&$()}),[i,V,$]),(0,t.useEffect)((function(){W&&X()}),[W,X]),Ge((function(){X()}));var J=Re((function(){if(w&&z()&&B.isTopModal()){var e=qe();B.dialog&&e&&!Ke(B.dialog,e)&&B.dialog.focus()}})),ee=Re((function(e){e.target===e.currentTarget&&(null==p||p(e),!0===f&&R())})),ne=Re((function(e){d&&27===e.keyCode&&B.isTopModal()&&(null==v||v(e),e.defaultPrevented||R())})),re=(0,t.useRef)(),ie=(0,t.useRef)(),ae=m;if(!V||!(i||ae&&!W))return null;var oe=Object.assign({role:o,ref:B.setDialogRef,"aria-modal":"dialog"===o||void 0},U,{style:s,className:u,tabIndex:-1}),se=Z?Z(oe):(0,E.jsx)("div",Object.assign({},oe,{children:t.cloneElement(c,{role:"document"})}));ae&&(se=(0,E.jsx)(ae,{appear:!0,unmountOnExit:!0,in:!!i,onExit:P,onExiting:L,onExited:function(){Q(!0),null==O||O.apply(void 0,arguments)},onEnter:M,onEntering:F,onEntered:j,children:se}));var ce=null;if(f){var le=y;ce=T({ref:B.setBackdropRef,onClick:ee}),le&&(ce=(0,E.jsx)(le,{appear:!0,in:!!i,children:ce}))}return(0,E.jsx)(E.Fragment,{children:q.createPortal((0,E.jsxs)(E.Fragment,{children:[ce,se]}),V)})}));ot.displayName="Modal";var ut,st=Object.assign(ot,{Manager:Je}),ct=["className","children","transitionClasses"],lt=(ut={},(0,o.Z)(ut,Q,"show"),(0,o.Z)(ut,Y,"show"),ut),ft=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=l(e,ct),c=(0,t.useCallback)((function(e,t){de(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,E.jsx)(ke,s(s({ref:n,addEndListener:fe},u),{},{onEnter:c,childRef:i.ref,children:function(e,n){return t.cloneElement(i,s(s({},n),{},{className:h()("fade",r,i.props.className,lt[e],o[e])}))}}))}));ft.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ft.displayName="Fade";var ht,dt=ft,pt=D("offcanvas-body"),vt=["bsPrefix","className","children"],mt=(ht={},(0,o.Z)(ht,Q,"show"),(0,o.Z)(ht,Y,"show"),ht),yt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=l(e,vt);return r=S(r,"offcanvas"),(0,E.jsx)(ke,s(s({ref:n,addEndListener:fe},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,s(s({},n),{},{className:h()(i,a.props.className,(e===Q||e===$)&&"".concat(r,"-toggling"),mt[e])}))}}))}));yt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},yt.displayName="OffcanvasToggling";var gt=yt,kt=t.createContext({onHide:function(){}}),bt=n(7),wt=n.n(bt),xt=["className","variant"],Et={"aria-label":wt().string,onClick:wt().func,variant:wt().oneOf(["white"])},_t=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=l(e,xt);return(0,E.jsx)("button",s({ref:t,type:"button",className:h()("btn-close",r&&"btn-close-".concat(r),n)},i))}));_t.displayName="CloseButton",_t.propTypes=Et,_t.defaultProps={"aria-label":"Close"};var It=_t,Zt=["closeLabel","closeVariant","closeButton","onHide","children"],St=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,c=l(e,Zt),f=(0,t.useContext)(kt),h=Re((function(){null==f||f.onHide(),null==o||o()}));return(0,E.jsxs)("div",s(s({ref:n},c),{},{children:[u,a&&(0,E.jsx)(It,{"aria-label":r,variant:i,onClick:h})]}))}));St.defaultProps={closeLabel:"Close",closeButton:!1};var Tt=St,Ct=["bsPrefix","className"],Nt=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=l(e,Ct);return n=S(n,"offcanvas-header"),(0,E.jsx)(Tt,s(s({ref:t},i),{},{className:h()(r,n)}))}));Nt.displayName="OffcanvasHeader",Nt.defaultProps={closeLabel:"Close",closeButton:!1};var At=Nt,Dt=function(e){return t.forwardRef((function(t,n){return(0,E.jsx)("div",s(s({},t),{},{ref:n,className:h()(t.className,e)}))}))},Rt=D("offcanvas-title",{Component:Dt("h5")}),Pt=n(120);function Ot(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,Pt.Z)(e)););return e}function Lt(){return Lt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ot(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Lt.apply(this,arguments)}var Mt=n(136),Ft=n(277);var jt=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ut(e,t){return jt(e.querySelectorAll(t))}function Vt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Bt,zt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",qt=".sticky-top",Kt=".navbar-toggler",Gt=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,B(t,(0,o.Z)({},e,"".concat(parseFloat(B(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],B(t,(0,o.Z)({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Lt((0,Pt.Z)(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Ut(a,zt).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Ut(a,qt).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),Ut(a,Kt).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Lt((0,Pt.Z)(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=Vt(r.className,i):r.setAttribute("class",Vt(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Ut(a,zt).forEach((function(e){return t.restore(o,e)})),Ut(a,qt).forEach((function(e){return t.restore(u,e)})),Ut(a,Kt).forEach((function(e){return t.restore(u,e)}))}}]),n}(Je);var Ht=Gt,Wt=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Qt(e){return(0,E.jsx)(gt,s({},e))}function Yt(e){return(0,E.jsx)(dt,s({},e))}var $t=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,c=e.responsive,f=e.show,d=e.backdrop,p=e.keyboard,v=e.scroll,m=e.onEscapeKeyDown,y=e.onShow,g=e.onHide,k=e.container,b=e.autoFocus,w=e.enforceFocus,x=e.restoreFocus,_=e.restoreFocusOptions,I=e.onEntered,Z=e.onExit,T=e.onExiting,C=e.onEnter,N=e.onEntering,A=e.onExited,D=e.backdropClassName,R=e.manager,P=l(e,Wt),O=(0,t.useRef)();r=S(r,"offcanvas");var L=((0,t.useContext)(Te)||{}).onToggle,M=(0,t.useState)(!1),F=(0,Me.Z)(M,2),j=F[0],U=F[1],V=ze(c||"xs","up");(0,t.useEffect)((function(){U(c?f&&!V:f)}),[f,c,V]);var B=Re((function(){null==L||L(),null==g||g()})),z=(0,t.useMemo)((function(){return{onHide:B}}),[B]);var q=(0,t.useCallback)((function(e){return(0,E.jsx)("div",s(s({},e),{},{className:h()("".concat(r,"-backdrop"),D)}))}),[D,r]),K=function(e){return(0,E.jsx)("div",s(s(s({},e),P),{},{className:h()(i,c?"".concat(r,"-").concat(c):r,"".concat(r,"-").concat(u)),"aria-labelledby":o,children:a}))};return(0,E.jsxs)(E.Fragment,{children:[!j&&K({}),(0,E.jsx)(kt.Provider,{value:z,children:(0,E.jsx)(st,{show:j,ref:n,backdrop:d,container:k,keyboard:p,autoFocus:b,enforceFocus:w&&!v,restoreFocus:x,restoreFocusOptions:_,onEscapeKeyDown:m,onShow:y,onHide:B,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==C||C.apply(void 0,[e].concat(n))},onEntering:N,onEntered:I,onExit:Z,onExiting:T,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==A||A.apply(void 0,n)},manager:R||(v?(O.current||(O.current=new Ht({handleContainerOverflow:!1})),O.current):function(e){return Bt||(Bt=new Gt(e)),Bt}()),transition:Qt,backdropTransition:Yt,renderBackdrop:q,renderDialog:K})})]})}));$t.displayName="Offcanvas",$t.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var Xt=Object.assign($t,{Body:pt,Header:At,Title:Rt}),Jt=t.forwardRef((function(e,n){var r=(0,t.useContext)(Te);return(0,E.jsx)(Xt,s({ref:n,show:!(null==r||!r.expanded)},e))}));Jt.displayName="NavbarOffcanvas";var en=Jt,tn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],nn=D("navbar-text",{Component:"span"}),rn=t.forwardRef((function(e,n){var r=g(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,u=r.bg,c=r.fixed,f=r.sticky,d=r.className,v=r.as,m=void 0===v?"nav":v,y=r.expanded,k=r.onToggle,b=r.onSelect,w=r.collapseOnSelect,x=l(r,tn),_=S(i,"navbar"),I=(0,t.useCallback)((function(){null==b||b.apply(void 0,arguments),w&&y&&(null==k||k(!1))}),[b,w,y,k]);void 0===x.role&&"nav"!==m&&(x.role="navigation");var Z="".concat(_,"-expand");"string"===typeof a&&(Z="".concat(Z,"-").concat(a));var T=(0,t.useMemo)((function(){return{onToggle:function(){return null==k?void 0:k(!y)},bsPrefix:_,expanded:!!y,expand:a}}),[_,y,a,k]);return(0,E.jsx)(Te.Provider,{value:T,children:(0,E.jsx)(p.Provider,{value:I,children:(0,E.jsx)(m,s(s({ref:n},x),{},{className:h()(d,_,a&&Z,o&&"".concat(_,"-").concat(o),u&&"bg-".concat(u),f&&"sticky-".concat(f),c&&"fixed-".concat(c))}))})})}));rn.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},rn.displayName="Navbar";var an=Object.assign(rn,{Brand:O,Collapse:Ae,Offcanvas:en,Text:nn,Toggle:Le}),on={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},un=t.createContext&&t.createContext(on),sn=function(){return sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sn.apply(this,arguments)},cn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ln(e){return e&&e.map((function(e,n){return t.createElement(e.tag,sn({key:n},e.attr),ln(e.child))}))}function fn(e){return function(n){return t.createElement(hn,sn({attr:sn({},e.attr)},n),ln(e.child))}}function hn(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=cn(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",sn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:sn(sn({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==un?t.createElement(un.Consumer,null,(function(e){return n(e)})):n(on)}function dn(e){return fn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"}}]})(e)}function pn(e){return fn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"}}]})(e)}var vn="NavBar_navContainer__eii7k",mn="NavBar_navElements__zNk3q",yn="NavBar_navLeft__r56F9",gn="NavBar_navRight__FjS6m";var kn=function(){return(0,E.jsx)("div",{className:vn,children:(0,E.jsx)(an,{bg:"dark",variant:"dark",children:(0,E.jsxs)("div",{className:mn,children:[(0,E.jsx)("div",{className:yn,children:(0,E.jsx)(an.Brand,{href:"/",children:"Portfolio"})}),(0,E.jsxs)("div",{className:gn,children:[(0,E.jsx)("a",{href:"https://github.com/Joable",children:(0,E.jsx)(dn,{size:30})}),(0,E.jsx)("a",{href:"https://www.linkedin.com/in/jealtable",children:(0,E.jsx)(pn,{size:30})})]})]})})})},bn=n(165),wn=n(861),xn=["bsPrefix","className","variant","as"],En=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=l(e,xn),c=S(n,"card-img");return(0,E.jsx)(o,s({ref:t,className:h()(i?"".concat(c,"-").concat(i):c,r)},u))}));En.displayName="CardImg";var _n=En,In=t.createContext(null);In.displayName="CardHeaderContext";var Zn=In,Sn=["bsPrefix","className","as"],Tn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,u=l(e,Sn),c=S(r,"card-header"),f=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:c}}),[c]);return(0,E.jsx)(Zn.Provider,{value:f,children:(0,E.jsx)(o,s(s({ref:n},u),{},{className:h()(i,c)}))})}));Tn.displayName="CardHeader";var Cn=Tn,Nn=["bsPrefix","className","bg","text","border","body","children","as"],An=Dt("h5"),Dn=Dt("h6"),Rn=D("card-body"),Pn=D("card-title",{Component:An}),On=D("card-subtitle",{Component:Dn}),Ln=D("card-link",{Component:"a"}),Mn=D("card-text",{Component:"p"}),Fn=D("card-footer"),jn=D("card-img-overlay"),Un=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,c=e.children,f=e.as,d=void 0===f?"div":f,p=l(e,Nn),v=S(n,"card");return(0,E.jsx)(d,s(s({ref:t},p),{},{className:h()(r,v,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,E.jsx)(Rn,{children:c}):c}))}));Un.displayName="Card",Un.defaultProps={body:!1};var Vn=Object.assign(Un,{Img:_n,Title:Pn,Subtitle:On,Body:Rn,Link:Ln,Text:Mn,Header:Cn,Footer:Fn,ImgOverlay:jn}),Bn=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],zn=(wt().string,wt().bool,wt().bool,wt().bool,wt().bool,t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.fluid,a=e.rounded,o=e.roundedCircle,u=e.thumbnail,c=l(e,Bn);return n=S(n,"img"),(0,E.jsx)("img",s(s({ref:t},c),{},{className:h()(r,i&&"".concat(n,"-fluid"),a&&"rounded",o&&"rounded-circle",u&&"".concat(n,"-thumbnail"))}))})));zn.displayName="Image",zn.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var qn=zn,Kn=n(762),Gn=n(326),Hn=n(664),Wn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Qn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Wn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Yn=function(e){return function(e){var t=Wn(e);return Qn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$n=function(e){try{return Qn.decodeString(e,!0)}catch(MN){console.error("base64Decode failed: ",MN)}return null};function Xn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Xn(e[n],t[n]));return e}function Jn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function er(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(MN){return!1}}function tr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function nr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function rr(){var e=Jn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ir(){return"object"===typeof indexedDB}var ar=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},or=function(){try{return ar()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/host-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(MN){return}var t=e&&$n(e[1]);return t&&JSON.parse(t)}}()}catch(MN){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(MN))}},ur=function(){var e;return null===(e=or())||void 0===e?void 0:e.config},sr=function(){function e(){var t=this;(0,We.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,Qe.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function cr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yn(JSON.stringify({alg:"none",type:"JWT"})),Yn(JSON.stringify(a)),""].join(".")}var lr=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a;return(0,We.Z)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,Gn.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,Gn.Z)(a),fr.prototype.create),a}return(0,Qe.Z)(n)}((0,Hn.Z)(Error)),fr=function(){function e(t,n,r){(0,We.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,Qe.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?hr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new lr(n,a,t);return o}}]),e}();function hr(e,t){return e.replace(dr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var dr=/\{\$([^}]+)}/g;function pr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(mr(u)&&mr(s)){if(!vr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function mr(e){return null!==e&&"object"===typeof e}function yr(e){for(var t=[],n=function(){var e=(0,Me.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function gr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,Me.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function kr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function br(e,t){var n=new wr(e,t);return n.subscribe.bind(n)}var wr=function(){function e(t,n){var r=this;(0,We.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,Qe.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=(0,Kn.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=xr),void 0===r.error&&(r.error=xr),void 0===r.complete&&(r.complete=xr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(MN){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(MN){"undefined"!==typeof console&&console.error&&console.error(MN)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function xr(){}function Er(e){return e&&e._delegate?e._delegate:e}var _r=function(){function e(t,n,r){(0,We.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,Qe.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ir="[DEFAULT]",Zr=function(){function e(t,n){(0,We.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,Qe.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new sr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(MN){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(MN){if(r)return null;throw MN}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch(MN){}var t,n=(0,Kn.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,Me.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(MN){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,He.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,He.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=(0,Kn.Z)(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,Me.Z)(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,Kn.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(IZ){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ir?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(IZ){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir;return this.component?this.component.multipleInstances?e:Ir:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Sr,Tr,Cr=function(){function e(t){(0,We.Z)(this,e),this.name=t,this.providers=new Map}return(0,Qe.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Zr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Nr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Tr||(Tr={}));var Ar={debug:Tr.DEBUG,verbose:Tr.VERBOSE,info:Tr.INFO,warn:Tr.WARN,error:Tr.ERROR,silent:Tr.SILENT},Dr=Tr.INFO,Rr=(Sr={},(0,o.Z)(Sr,Tr.DEBUG,"log"),(0,o.Z)(Sr,Tr.VERBOSE,"log"),(0,o.Z)(Sr,Tr.INFO,"info"),(0,o.Z)(Sr,Tr.WARN,"warn"),(0,o.Z)(Sr,Tr.ERROR,"error"),Sr),Pr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Rr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Or=function(){function e(t){(0,We.Z)(this,e),this.name=t,this._logLevel=Dr,this._logHandler=Pr,this._userLogHandler=null,Nr.push(this)}return(0,Qe.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Tr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ar[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tr.DEBUG].concat(t)),this._logHandler.apply(this,[this,Tr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Tr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tr.INFO].concat(t)),this._logHandler.apply(this,[this,Tr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tr.WARN].concat(t)),this._logHandler.apply(this,[this,Tr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tr.ERROR].concat(t)),this._logHandler.apply(this,[this,Tr.ERROR].concat(t))}}]),e}();var Lr,Mr;var Fr=new WeakMap,jr=new WeakMap,Ur=new WeakMap,Vr=new WeakMap,Br=new WeakMap;var zr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ur.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function qr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mr||(Mr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Hr(this),n),Gr(Fr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gr(e.apply(Hr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Hr(this),t].concat(r));return Ur.set(a,t.sort?t.sort():[t]),Gr(a)}}function Kr(e){return"function"===typeof e?qr(e):(e instanceof IDBTransaction&&function(e){if(!jr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));jr.set(e,t)}}(e),t=e,(Lr||(Lr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,zr):e);var t}function Gr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Gr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Fr.set(t,e)})).catch((function(){})),Br.set(t,e),t}(e);if(Vr.has(e))return Vr.get(e);var t=Kr(e);return t!==e&&(Vr.set(e,t),Br.set(t,e)),t}var Hr=function(e){return Br.get(e)};var Wr,Qr,Yr=["get","getKey","getAll","getAllKeys","count"],$r=["put","add","delete","clear"],Xr=new Map;function Jr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Xr.get(t))return Xr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=$r.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Yr.includes(n))){var a=function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var a,o,u,s,c,l,f=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Xr.set(t,a),a}}}zr=function(e){return s(s({},e),{},{get:function(t,n,r){return Jr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Jr(t,n)||e.has(t,n)}})}(zr);var ei=function(){function e(t){(0,We.Z)(this,e),this.container=t}return(0,Qe.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ti="@firebase/app",ni="0.8.3",ri=new Or("@firebase/app"),ii="[DEFAULT]",ai=(Wr={},(0,o.Z)(Wr,ti,"fire-core"),(0,o.Z)(Wr,"@firebase/app-compat","fire-core-compat"),(0,o.Z)(Wr,"@firebase/analytics","fire-analytics"),(0,o.Z)(Wr,"@firebase/analytics-compat","fire-analytics-compat"),(0,o.Z)(Wr,"@firebase/app-check","fire-app-check"),(0,o.Z)(Wr,"@firebase/app-check-compat","fire-app-check-compat"),(0,o.Z)(Wr,"@firebase/auth","fire-auth"),(0,o.Z)(Wr,"@firebase/auth-compat","fire-auth-compat"),(0,o.Z)(Wr,"@firebase/database","fire-rtdb"),(0,o.Z)(Wr,"@firebase/database-compat","fire-rtdb-compat"),(0,o.Z)(Wr,"@firebase/functions","fire-fn"),(0,o.Z)(Wr,"@firebase/functions-compat","fire-fn-compat"),(0,o.Z)(Wr,"@firebase/installations","fire-iid"),(0,o.Z)(Wr,"@firebase/installations-compat","fire-iid-compat"),(0,o.Z)(Wr,"@firebase/messaging","fire-fcm"),(0,o.Z)(Wr,"@firebase/messaging-compat","fire-fcm-compat"),(0,o.Z)(Wr,"@firebase/performance","fire-perf"),(0,o.Z)(Wr,"@firebase/performance-compat","fire-perf-compat"),(0,o.Z)(Wr,"@firebase/remote-config","fire-rc"),(0,o.Z)(Wr,"@firebase/remote-config-compat","fire-rc-compat"),(0,o.Z)(Wr,"@firebase/storage","fire-gcs"),(0,o.Z)(Wr,"@firebase/storage-compat","fire-gcs-compat"),(0,o.Z)(Wr,"@firebase/firestore","fire-fst"),(0,o.Z)(Wr,"@firebase/firestore-compat","fire-fst-compat"),(0,o.Z)(Wr,"fire-js","fire-js"),(0,o.Z)(Wr,"firebase","fire-js-all"),Wr),oi=new Map,ui=new Map;function si(e,t){try{e.container.addComponent(t)}catch(MN){ri.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),MN)}}function ci(e,t){e.container.addOrOverwriteComponent(t)}function li(e){var t=e.name;if(ui.has(t))return ri.debug("There were multiple attempts to register component ".concat(t,".")),!1;ui.set(t,e);var n,r=(0,Kn.Z)(oi.values());try{for(r.s();!(n=r.n()).done;){si(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function fi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ii;fi(e,t).clearInstance(n)}function di(){ui.clear()}var pi=(Qr={},(0,o.Z)(Qr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,o.Z)(Qr,"bad-app-name","Illegal App name: '{$appName}"),(0,o.Z)(Qr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,o.Z)(Qr,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,o.Z)(Qr,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,o.Z)(Qr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,o.Z)(Qr,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,o.Z)(Qr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,o.Z)(Qr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,o.Z)(Qr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,o.Z)(Qr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Qr),vi=new fr("app","Firebase",pi),mi=function(){function e(t,n,r){var i=this;(0,We.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _r("app",(function(){return i}),"PUBLIC"))}return(0,Qe.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}]),e}(),yi="9.13.0";function gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:ii,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw vi.create("bad-app-name",{appName:String(a)});if(n||(n=ur()),!n)throw vi.create("no-options");var o=oi.get(a);if(o){if(vr(n,o.options)&&vr(i,o.config))return o;throw vi.create("duplicate-app",{appName:a})}var u,s=new Cr(a),c=(0,Kn.Z)(ui.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new mi(n,i,s);return oi.set(a,f),f}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii,t=oi.get(e);if(!t&&e===ii)return gi();if(!t)throw vi.create("no-app",{appName:e});return t}function bi(){return Array.from(oi.values())}function wi(e){return xi.apply(this,arguments)}function xi(){return(xi=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!oi.has(n)){e.next=6;break}return oi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ei(e,t,n){var r,i=null!==(r=ai[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ri.warn(u.join(" "))}li(new _r("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _i(e,t){if(null!==e&&"function"!==typeof e)throw vi.create("invalid-log-argument");!function(e,t){var n,r=(0,Kn.Z)(Nr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ar[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Tr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ii(e){var t;t=e,Nr.forEach((function(e){e.setLogLevel(t)}))}var Zi="firebase-heartbeat-store",Si=null;function Ti(){return Si||(Si=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Gr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Gr(u.result),e.oldVersion,e.newVersion,Gr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Zi)}}).catch((function(e){throw vi.create("idb-open",{originalErrorMessage:e.message})}))),Si}function Ci(e){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ti();case 3:return r=e.sent,e.abrupt("return",r.transaction(Zi).objectStore(Zi).get(Ri(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof lr?ri.warn(e.t0.message):(i=vi.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),ri.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ni.apply(this,arguments)}function Ai(e,t){return Di.apply(this,arguments)}function Di(){return Di=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ti();case 3:return i=e.sent,a=i.transaction(Zi,"readwrite"),o=a.objectStore(Zi),e.next=8,o.put(n,Ri(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof lr?ri.warn(e.t0.message):(u=vi.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),ri.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Di.apply(this,arguments)}function Ri(e){return"".concat(e.name,"!").concat(e.options.appId)}var Pi=function(){function e(t){var n=this;(0,We.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ji(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,Qe.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Oi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Oi(),n=Li(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Yn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Oi(){return(new Date).toISOString().substring(0,10)}function Li(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=(0,Kn.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ui(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ui(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Mi,Fi,ji=function(){function e(t){(0,We.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,Qe.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ir()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ci(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ai(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ai(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,He.Z)(r.heartbeats),(0,He.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ui(e){return Yn(JSON.stringify({version:2,heartbeats:e})).length}Mi="",li(new _r("platform-logger",(function(e){return new ei(e)}),"PRIVATE")),li(new _r("heartbeat",(function(e){return new Pi(e)}),"PRIVATE")),Ei(ti,ni,Mi),Ei(ti,ni,"esm2017"),Ei("fire-js","");var Vi=function(){function e(t,n){var r=this;(0,We.Z)(this,e),this._delegate=t,this.firebase=n,si(t,new _r("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,Qe.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),wi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ii;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ii;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){si(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ci(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Bi=(Fi={},(0,o.Z)(Fi,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,o.Z)(Fi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Fi),zi=new fr("app-compat","Firebase",Bi);var qi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=gi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ei,setLogLevel:Ii,onLog:_i,apps:null,SDK_VERSION:yi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(li(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw zi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Xn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pr(n,e=e||ii))throw zi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Vi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Xn(n,e)},createSubscribe:br,ErrorFactory:fr,deepExtend:Xn}),n}(),Ki=new Or("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ki.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Gi=self.firebase.SDK_VERSION;Gi&&Gi.indexOf("LITE")>=0&&Ki.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Hi=qi;!function(e){Ei("@firebase/app-compat","0.1.38",e)}();Hi.registerVersion("firebase","9.13.0","app-compat");var Wi=n(878),Qi=n(199),Yi=n(181),$i=n(267);function Xi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ji;Object.create;var ea="facebook.com",ta="github.com",na="google.com",ra="password",ia="twitter.com",aa="EMAIL_SIGNIN",oa="PASSWORD_RESET",ua="RECOVER_EMAIL",sa="REVERT_SECOND_FACTOR_ADDITION",ca="VERIFY_AND_CHANGE_EMAIL",la="VERIFY_EMAIL";function fa(){return(0,o.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ha=function(){var e;return e={},(0,o.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,o.Z)(e,"argument-error",""),(0,o.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,o.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,o.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,o.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,o.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,o.Z)(e,"cors-unsupported","This browser is not supported."),(0,o.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,o.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,o.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,o.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,o.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,o.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,o.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,o.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,o.Z)(e,"expired-action-code","The action code has expired."),(0,o.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,o.Z)(e,"internal-error","An internal AuthError has occurred."),(0,o.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,o.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,o.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,o.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,o.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,o.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,o.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,o.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,o.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,o.Z)(e,"invalid-email","The email address is badly formatted."),(0,o.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,o.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,o.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,o.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,o.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,o.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,o.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,o.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,o.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,o.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,o.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,o.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,o.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,o.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,o.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,o.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,o.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,o.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,o.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,o.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,o.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,o.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,o.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,o.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,o.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,o.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,o.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,o.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,o.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,o.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,o.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,o.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,o.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,o.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,o.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,o.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,o.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,o.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,o.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,o.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,o.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,o.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,o.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,o.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,o.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,o.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,o.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,o.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,o.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,o.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,o.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,o.Z)(e,"timeout","The operation has timed out."),(0,o.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,o.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,o.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,o.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,o.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,o.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,o.Z)(e,"unverified-email","The operation requires a verified email."),(0,o.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,o.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,o.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,o.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,o.Z)(e,"user-signed-out",""),(0,o.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,o.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,o.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},da=fa,pa=new fr("auth","Firebase",fa()),va=new Or("@firebase/auth");function ma(e){if(va.logLevel<=Tr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];va.error.apply(va,["Auth (".concat(yi,"): ").concat(e)].concat(n))}}function ya(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw wa.apply(void 0,[e].concat(n))}function ga(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wa.apply(void 0,[e].concat(n))}function ka(e,t,n){var r=Object.assign(Object.assign({},da()),(0,o.Z)({},t,n));return new fr("auth","Firebase",r).create(t,{appName:e.name})}function ba(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ya(e,"argument-error"),ka(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function wa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,He.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,He.Z)(o)))}return pa.create.apply(pa,[e].concat(n))}function xa(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw wa.apply(void 0,[t].concat(r))}}function Ea(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ma(t),new Error(t)}function _a(e,t){e||Ea(t)}var Ia=new Map;function Za(e){_a(e instanceof Function,"Expected a class definition");var t=Ia.get(e);return t?(_a(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ia.set(e,t),t)}function Sa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ta(){return"http:"===Ca()||"https:"===Ca()}function Ca(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Na=function(){function e(t,n){(0,We.Z)(this,e),this.shortDelay=t,this.longDelay=n,_a(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())||nr()}return(0,Qe.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ta()||tr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Aa(e,t){_a(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Da=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ra=(Ji={},(0,o.Z)(Ji,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,o.Z)(Ji,"MISSING_CUSTOM_TOKEN","internal-error"),(0,o.Z)(Ji,"INVALID_IDENTIFIER","invalid-email"),(0,o.Z)(Ji,"MISSING_CONTINUE_URI","internal-error"),(0,o.Z)(Ji,"INVALID_PASSWORD","wrong-password"),(0,o.Z)(Ji,"MISSING_PASSWORD","internal-error"),(0,o.Z)(Ji,"EMAIL_EXISTS","email-already-in-use"),(0,o.Z)(Ji,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,o.Z)(Ji,"INVALID_IDP_RESPONSE","invalid-credential"),(0,o.Z)(Ji,"INVALID_PENDING_TOKEN","invalid-credential"),(0,o.Z)(Ji,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,o.Z)(Ji,"MISSING_REQ_TYPE","internal-error"),(0,o.Z)(Ji,"EMAIL_NOT_FOUND","user-not-found"),(0,o.Z)(Ji,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,o.Z)(Ji,"EXPIRED_OOB_CODE","expired-action-code"),(0,o.Z)(Ji,"INVALID_OOB_CODE","invalid-action-code"),(0,o.Z)(Ji,"MISSING_OOB_CODE","internal-error"),(0,o.Z)(Ji,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,o.Z)(Ji,"INVALID_ID_TOKEN","invalid-user-token"),(0,o.Z)(Ji,"TOKEN_EXPIRED","user-token-expired"),(0,o.Z)(Ji,"USER_NOT_FOUND","user-token-expired"),(0,o.Z)(Ji,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,o.Z)(Ji,"INVALID_CODE","invalid-verification-code"),(0,o.Z)(Ji,"INVALID_SESSION_INFO","invalid-verification-id"),(0,o.Z)(Ji,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,o.Z)(Ji,"MISSING_SESSION_INFO","missing-verification-id"),(0,o.Z)(Ji,"SESSION_EXPIRED","code-expired"),(0,o.Z)(Ji,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,o.Z)(Ji,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,o.Z)(Ji,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,o.Z)(Ji,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,o.Z)(Ji,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,o.Z)(Ji,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,o.Z)(Ji,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,o.Z)(Ji,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,o.Z)(Ji,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,o.Z)(Ji,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,o.Z)(Ji,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ji),Pa=new Na(3e4,6e4);function Oa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function La(e,t,n,r){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){var a,o=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Fa(t,a,(0,wn.Z)((0,bn.Z)().mark((function e(){var a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=yr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Da.fetch()(Ba(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Fa(e,t,n){return ja.apply(this,arguments)}function ja(){return(ja=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ra),n),e.prev=2,a=new za(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw qa(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,Me.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw qa(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw qa(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw qa(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw ka(t,d,h);case 34:ya(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof lr)){e.next=41;break}throw e.t0;case 41:ya(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Ua(e,t,n,r){return Va.apply(this,arguments)}function Va(){return Va=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){var a,o,u=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,La(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ya(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function Ba(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Aa(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var za=function(){function e(t){var n=this;(0,We.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ga(n.auth,"network-request-failed"))}),Pa.get())}))}return(0,Qe.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function qa(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ga(e,t,r);return i.customData._tokenResponse=n,i}function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(e,t){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(e,t){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(MN){}}function Xa(){return Xa=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a,o,u,s=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Er(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,xa((a=eo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:$a(Ja(a.auth_time)),issuedAtTime:$a(Ja(a.iat)),expirationTime:$a(Ja(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function Ja(e){return 1e3*Number(e)}function eo(e){var t,n=e.split("."),r=(0,Me.Z)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return ma("JWT malformed, contained fewer than 3 sections"),null;try{var u=$n(a);return u?JSON.parse(u):(ma("Failed to decode base64 JWT payload"),null)}catch(MN){return ma("Caught error parsing JWT payload as JSON",null===(t=MN)||void 0===t?void 0:t.toString()),null}}function to(e,t){return no.apply(this,arguments)}function no(){return no=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof lr&&ro(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),no.apply(this,arguments)}function ro(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var io=function(){function e(t){(0,We.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,Qe.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,wn.Z)((0,bn.Z)().mark((function t(){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ao=function(){function e(t,n){(0,We.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,Qe.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=$a(this.lastLoginAt),this.creationTime=$a(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function oo(e){return uo.apply(this,arguments)}function uo(){return uo=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,to(t,Qa(r,{idToken:i}));case 6:xa(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?lo(o.providerUserInfo):[],s=co(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ao(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function so(){return(so=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Er(t),e.next=3,oo(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,He.Z)(n),(0,He.Z)(t))}function lo(e){return e.map((function(e){var t=e.providerId,n=Xi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function fo(e,t){return ho.apply(this,arguments)}function ho(){return(ho=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa(t,{},(0,wn.Z)((0,bn.Z)().mark((function e(){var r,i,a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ba(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Da.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var po=function(){function e(){(0,We.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,Qe.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){xa(e.idToken,"internal-error"),xa("undefined"!==typeof e.idToken,"internal-error"),xa("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=eo(e);return xa(t,"internal-error"),xa("undefined"!==typeof t.exp,"internal-error"),xa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],xa(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fo(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ea("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(xa("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(xa("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(xa("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function vo(e,t){xa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var mo=function(){function e(t){(0,We.Z)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Xi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,He.Z)(a.providerData):[],this.metadata=new ao(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,Qe.Z)(e,[{key:"getIdToken",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(xa(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Xa.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return so.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(xa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){xa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,oo(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,to(this,Ka(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;xa(k&&E,t,"internal-error");var _=po.fromJSON(this.name,E);xa("string"===typeof k,t,"internal-error"),vo(f,t.name),vo(h,t.name),xa("boolean"===typeof b,t,"internal-error"),xa("boolean"===typeof w,t,"internal-error"),vo(d,t.name),vo(p,t.name),vo(v,t.name),vo(m,t.name),vo(y,t.name),vo(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=(0,wn.Z)((0,bn.Z)().mark((function t(n,r){var i,a,o,u=arguments;return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new po).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,oo(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),yo=function(){function e(){(0,We.Z)(this,e),this.type="NONE",this.storage={}}return(0,Qe.Z)(e,[{key:"_isAvailable",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();yo.type="NONE";var go=yo;function ko(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var bo=function(){function e(t,n,r){(0,We.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ko(this.userKey,a.apiKey,o),this.fullPersistenceKey=ko("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,Qe.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?mo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,wn.Z)((0,bn.Z)().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Za(go),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Za(go),u=ko(i,n.config.apiKey,n.name),s=null,c=(0,Kn.Z)(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=mo._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function wo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Io(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(So(t))return"Blackberry";if(To(t))return"Webos";if(Eo(t))return"Safari";if((t.includes("chrome/")||_o(t))&&!t.includes("edge/"))return"Chrome";if(Zo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/firefox\//i.test(e)}function Eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/crios\//i.test(e)}function Io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/iemobile/i.test(e)}function Zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/android/i.test(e)}function So(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/blackberry/i.test(e)}function To(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/webos/i.test(e)}function Co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function No(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return Co(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ao(){return rr()&&10===document.documentMode}function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return Co(e)||Zo(e)||To(e)||So(e)||/windows phone/i.test(e)||Io(e)}function Ro(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wo(Jn());break;case"Worker":t="".concat(wo(Jn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(yi,"/").concat(r)}var Po=function(){function e(t){(0,We.Z)(this,e),this.auth=t,this.queue=[]}return(0,Qe.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(MN){r(MN)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a,o,u,s,c;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=(0,Kn.Z)(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=(0,Kn.Z)(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Oo=function(){function e(t,n,r){(0,We.Z)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mo(this),this.idTokenSubscription=new Mo(this),this.beforeStateQueue=new Po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pa,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,Qe.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Za(t)),this._initializationPromise=this.queue((0,wn.Z)((0,bn.Z)().mark((function r(){var i,a;return(0,bn.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,bo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return xa(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oo(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Er(t):null)&&xa(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r=this,i=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&xa(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue((0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,wn.Z)((0,bn.Z)().mark((function n(){return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Za(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new fr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return xa(n=t&&Za(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,bo.create(this,[Za(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return xa(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return xa(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ro(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lo(e){return Er(e)}var Mo=function(){function e(t){var n=this;(0,We.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=br((function(e){return n.observer=e}))}return(0,Qe.Z)(e,[{key:"next",get:function(){return xa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Fo(e,t,n){var r=Lo(e);xa(r._canInitEmulator,r,"emulator-config-failed"),xa(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=jo(t),o=function(e){var t=jo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Uo(r.substr(a.length+1))}}var o=r.split(":"),u=(0,Me.Z)(o,2);return{host:u[0],port:Uo(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function jo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Uo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Vo=function(){function e(t,n){(0,We.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,Qe.Z)(e,[{key:"toJSON",value:function(){return Ea("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ea("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ea("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ea("not implemented")}}]),e}();function Bo(e,t){return zo.apply(this,arguments)}function zo(){return(zo=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:resetPassword",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Go(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:update",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:signInWithPassword",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yo(e,t){return $o.apply(this,arguments)}function $o(){return($o=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:sendOobCode",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eu(e,t){return tu.apply(this,arguments)}function tu(){return(tu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(e,t){return ru.apply(this,arguments)}function ru(){return(ru=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t){return au.apply(this,arguments)}function au(){return(au=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(e,t){return uu.apply(this,arguments)}function uu(){return(uu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function su(e,t){return cu.apply(this,arguments)}function cu(){return(cu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lu=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,We.Z)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,Qe.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wo(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ou(t,{email:this._email,oobCode:this._password}));case 5:ya(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",su(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ya(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Vo);function fu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:signInWithIdp",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var du=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){var e;return(0,We.Z)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,Qe.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ya("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Xi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Vo);function pu(e,t){return vu.apply(this,arguments)}function vu(){return(vu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:sendVerificationCode",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(){return(mu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:signInWithPhoneNumber",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(){return(yu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ua(t,"POST","/v1/accounts:signInWithPhoneNumber",Oa(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw qa(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gu=(0,o.Z)({},"USER_NOT_FOUND","user-not-found");function ku(){return(ku=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ua(t,"POST","/v1/accounts:signInWithPhoneNumber",Oa(t,r),gu));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bu=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,Qe.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return yu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ku.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Vo);var wu=function(){function e(t){var n,r,i,a,o,u;(0,We.Z)(this,e);var s=gr(kr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);xa(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return(0,Qe.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=gr(kr(e)).link,n=t?gr(kr(t)).deep_link_id:null,r=gr(kr(e)).deep_link_id;return(r?gr(kr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(IZ){return null}}}]),e}();var xu=function(){function e(){(0,We.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,Qe.Z)(e,null,[{key:"credential",value:function(e,t){return lu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wu.parseLink(t);return xa(n,"argument-error"),lu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();xu.PROVIDER_ID="password",xu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Eu=function(){function e(t){(0,We.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,Qe.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),_u=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){var e;return(0,We.Z)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,Qe.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,He.Z)(this.scopes)}}]),n}(Eu),Iu=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return xa(e.idToken||e.accessToken,"argument-error"),du._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return xa("providerId"in t&&"signInMethod"in t,"argument-error"),du._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(MN){return null}}}]),n}(_u),Zu=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.call(this,"facebook.com")}return(0,Qe.Z)(n,null,[{key:"credential",value:function(e){return du._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(IZ){return null}}}]),n}(_u);Zu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zu.PROVIDER_ID="facebook.com";var Su=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){var e;return(0,We.Z)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,Qe.Z)(n,null,[{key:"credential",value:function(e,t){return du._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(IZ){return null}}}]),n}(_u);Su.GOOGLE_SIGN_IN_METHOD="google.com",Su.PROVIDER_ID="google.com";var Tu=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.call(this,"github.com")}return(0,Qe.Z)(n,null,[{key:"credential",value:function(e){return du._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(IZ){return null}}}]),n}(_u);Tu.GITHUB_SIGN_IN_METHOD="github.com",Tu.PROVIDER_ID="github.com";var Cu=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,Qe.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return fu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Vo),Nu=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){return(0,We.Z)(this,n),xa(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,Qe.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Cu.fromJSON(e);return xa(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Cu._create(r,n)}catch(MN){return null}}}]),n}(Eu),Au=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.call(this,"twitter.com")}return(0,Qe.Z)(n,null,[{key:"credential",value:function(e,t){return du._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(IZ){return null}}}]),n}(_u);function Du(e,t){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:signUp",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Au.TWITTER_SIGN_IN_METHOD="twitter.com",Au.PROVIDER_ID="twitter.com";var Pu=function(){function e(t){(0,We.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,Qe.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,wn.Z)((0,bn.Z)().mark((function t(n,r,i){var a,o,u,s,c=arguments;return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,mo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ou(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=(0,wn.Z)((0,bn.Z)().mark((function t(n,r,i){var a;return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ou(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ou(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Lu(){return Lu=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Pu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Du(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Pu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}var Mu=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i,a){var o,u;return(0,We.Z)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,Gn.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,Qe.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(lr);function Fu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Mu._fromErrorAndOperation(e,n,t,r);throw n}))}function ju(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Uu(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(t),e.next=3,qu(!0,r,n);case 3:return e.t0=Ha,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ju(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function Bu(e,t){return zu.apply(this,arguments)}function zu(){return zu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=to,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Pu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function qu(e,t,n){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo(n);case 2:i=ju(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",xa(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gu(e,t){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,to(t,Fu(a,o,n,t),r);case 6:return xa((u=e.sent).idToken,a,"internal-error"),xa(s=eo(u.idToken),a,"internal-error"),c=s.sub,xa(t.uid===c,a,"user-mismatch"),e.abrupt("return",Pu._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&ya(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Hu.apply(this,arguments)}function Wu(e,t){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Fu(t,i,n);case 4:return a=e.sent,e.next=7,Pu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}function Yu(e,t){return $u.apply(this,arguments)}function $u(){return($u=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(Lo(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(e,t){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(t),e.next=3,qu(!1,r,n.providerId);case 3:return e.abrupt("return",Bu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return(ts=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gu(Er(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:signInWithCustomToken",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(){return(is=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),e.next=3,ns(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Pu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var as=function(){function e(t,n){(0,We.Z)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,Qe.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?os._fromServerResponse(e,t):ya(e,"internal-error")}}]),e}(),os=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,Qe.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(as);function us(e,t,n){var r;xa((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),xa("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(xa(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(xa(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ss(){return(ss=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),a={requestType:"PASSWORD_RESET",email:n},r&&us(i,a,r),e.next=5,eu(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cs(){return(cs=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo(Er(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(){return(ls=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go(Er(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return(hs=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(t),e.next=3,Bo(r,{oobCode:n});case 3:i=e.sent,xa(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return xa(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:xa(i.mfaInfo,r,"internal-error");case 13:xa(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=as._fromServerResponse(Lo(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(){return(ds=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(Er(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t,n){return vs.apply(this,arguments)}function vs(){return(vs=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lo(t),e.next=3,Du(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Pu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(){return(ms=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),a={requestType:"EMAIL_SIGNIN",email:n},xa(r.handleCodeInApp,i,"argument-error"),r&&us(i,a,r),e.next=6,nu(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(){return(ys=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),xa((a=xu.credentialWithLink(n,r||Sa()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Yu(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t){return ks.apply(this,arguments)}function ks(){return(ks=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:createAuthUri",Oa(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(){return(bs=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ta()?Sa():"http://localhost",i={identifier:n,continueUri:r},e.next=4,gs(Er(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(){return(ws=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&us(r.auth,a,n),e.next=8,Xo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xs(){return(xs=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&us(i.auth,o,r),e.next=8,iu(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(e,t){return _s.apply(this,arguments)}function _s(){return(_s=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(){return(Is=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u,s,c;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Er(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,to(a,Es(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zs(e,t,n){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,to(t,qo(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ts=(0,Qe.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,We.Z)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Cs=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i,a){var o;return(0,We.Z)(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,Qe.Z)(n)}(Ts),Ns=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){return(0,We.Z)(this,n),t.call(this,e,"facebook.com",r)}return(0,Qe.Z)(n)}(Ts),As=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){return(0,We.Z)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,Qe.Z)(n)}(Cs),Ds=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){return(0,We.Z)(this,n),t.call(this,e,"google.com",r)}return(0,Qe.Z)(n)}(Ts),Rs=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){return(0,We.Z)(this,n),t.call(this,e,"twitter.com",r,i)}return(0,Qe.Z)(n)}(Cs);function Ps(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=eo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ts(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ns(a,i);case"github.com":return new As(a,i);case"google.com":return new Ds(a,i);case"twitter.com":return new Rs(a,i,e.screenName||null);case"custom":case"anonymous":return new Ts(a,null);default:return new Ts(a,r,i)}}(n)}var Os=function(){function e(t,n,r){(0,We.Z)(this,e),this.type=t,this.credential=n,this.auth=r}return(0,Qe.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,o.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ls=function(){function e(t,n,r){(0,We.Z)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,Qe.Z)(e,[{key:"resolveSignIn",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Lo(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return as._fromServerResponse(r,e)}));xa(i.mfaPendingCredential,r,"internal-error");var o=Os._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var a,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Pu._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return xa(n.user,r,"internal-error"),e.abrupt("return",Pu._forOperation(n.user,n.operationType,u));case 17:ya(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ms(e,t){return La(e,"POST","/v2/accounts/mfaEnrollment:start",Oa(e,t))}var Fs=function(){function e(t){var n=this;(0,We.Z)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return as._fromServerResponse(t.auth,e)})))}))}return(0,Qe.Z)(e,[{key:"getSession",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Os,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,to(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,to(this.user,La(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Oa(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),js=new WeakMap;var Us="__sak",Vs=function(){function e(t,n){(0,We.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,Qe.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Us,"1"),this.storage.removeItem(Us),Promise.resolve(!0)):Promise.resolve(!1)}catch(IZ){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Bs=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){var e;return(0,We.Z)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Jn();return Eo(e)||Co(e)}()&&function(){try{return!(!window||window===window.top)}catch(MN){return!1}}(),e.fallbackToPolling=Do(),e._shouldAllowMigration=!0,e}return(0,Qe.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ao()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,r){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt((0,Pt.Z)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt((0,Pt.Z)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt((0,Pt.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Vs);Bs.type="LOCAL";var zs=Bs,qs=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,Qe.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Vs);qs.type="SESSION";var Ks=qs;function Gs(e){return Promise.all(e.map(function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Hs=function(){function e(t){(0,We.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,Qe.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a,o,u,s,c;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Gs(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ws(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Hs.receivers=[];var Qs=function(){function e(t){(0,We.Z)(this,e),this.target=t,this.handlers=new Set}return(0,Qe.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ws("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ys(){return window}function $s(){return"undefined"!==typeof Ys().WorkerGlobalScope&&"function"===typeof Ys().importScripts}function Xs(){return Js.apply(this,arguments)}function Js(){return(Js=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ec(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var tc="firebaseLocalStorageDb",nc="firebaseLocalStorage",rc="fbase_key",ic=function(){function e(t){(0,We.Z)(this,e),this.request=t}return(0,Qe.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ac(e,t){return e.transaction([nc],t?"readwrite":"readonly").objectStore(nc)}function oc(){var e=indexedDB.deleteDatabase(tc);return new ic(e).toPromise()}function uc(){var e=indexedDB.open(tc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(nc,{keyPath:rc})}catch(MN){n(MN)}})),e.addEventListener("success",(0,wn.Z)((0,bn.Z)().mark((function n(){var r;return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(nc)){n.next=12;break}return r.close(),n.next=5,oc();case 5:return n.t0=t,n.next=8,uc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function sc(e,t,n){return cc.apply(this,arguments)}function cc(){return cc=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ac(t,!0).put((i={},(0,o.Z)(i,rc,n),(0,o.Z)(i,"value",r),i)),e.abrupt("return",new ic(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(e,t){return fc.apply(this,arguments)}function fc(){return fc=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ac(t,!1).get(n),e.next=3,new ic(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(e,t){var n=ac(e,!0).delete(t);return new ic(n).toPromise()}var dc=function(){function e(){(0,We.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,Qe.Z)(e,[{key:"_openDb",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,uc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$s()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Hs._getInstance($s()?self:null),this.receiver._subscribe("keyChanged",function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(n,r){var i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Qs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ec()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,uc();case 5:return t=e.sent,e.next=8,sc(t,Us,"1");case 8:return e.next=10,hc(t,Us);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return sc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return lc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return hc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ac(e,!1).getAll();return new ic(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=(0,Kn.Z)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,wn.Z)((0,bn.Z)().mark((function t(){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();dc.type="LOCAL";var pc=dc;function vc(e,t){return La(e,"POST","/v2/accounts/mfaSignIn:start",Oa(e,t))}function mc(e){return yc.apply(this,arguments)}function yc(){return(yc=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ga("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function kc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var bc=1e12,wc=function(){function e(t){(0,We.Z)(this,e),this.auth=t,this.counter=bc,this._widgets=new Map}return(0,Qe.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new xc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||bc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||bc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||bc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),xc=function(){function e(t,n,r){var i=this;(0,We.Z)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;xa(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,Qe.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(MN){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(MN){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ec=kc("rcb"),_c=new Na(3e4,6e4),Ic="https://www.google.com/recaptcha/api.js?",Zc=function(){function e(){var t;(0,We.Z)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ys().grecaptcha)||void 0===t?void 0:t.render)}return(0,Qe.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return xa(Sc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ys().grecaptcha):new Promise((function(r,i){var a=Ys().setTimeout((function(){i(ga(e,"network-request-failed"))}),_c.get());Ys()[Ec]=function(){Ys().clearTimeout(a),delete Ys()[Ec];var o=Ys().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ga(e,"internal-error"))},gc("".concat(Ic,"?").concat(yr({onload:Ec,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ga(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ys().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Sc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Tc=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,[{key:"load",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new wc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Cc="recaptcha",Nc={theme:"light",type:"image"},Ac=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Nc),r=arguments.length>2?arguments[2]:void 0;(0,We.Z)(this,e),this.parameters=n,this.type=Cc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lo(r),this.isInvisible="invisible"===this.parameters.size,xa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;xa(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tc:new Zc,this.validateStartingState()}return(0,Qe.Z)(e,[{key:"verify",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r,i=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(MN){return Promise.reject(MN)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){xa(!this.parameters.sitekey,this.auth,"argument-error"),xa(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ys()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){xa(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xa(Ta()&&!$s(),this.auth,"internal-error"),e.next=3,Dc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,mc(this.auth);case 8:xa(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return xa(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Dc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Rc=function(){function e(t,n){(0,We.Z)(this,e),this.verificationId=t,this.onConfirmation=n}return(0,Qe.Z)(e,[{key:"confirm",value:function(e){var t=bu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Pc(){return(Pc=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lo(t),e.next=3,Fc(i,n,Er(r));case 3:return a=e.sent,e.abrupt("return",new Rc(a,(function(e){return Yu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(e,t,n){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),e.next=3,qu(!1,i,"phone");case 3:return e.next=5,Fc(i.auth,n,Er(r));case 5:return a=e.sent,e.abrupt("return",new Rc(a,(function(e){return Xu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(){return(Mc=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),e.next=3,Fc(i.auth,n,Er(r));case 3:return a=e.sent,e.abrupt("return",new Rc(a,(function(e){return es(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t,n){return jc.apply(this,arguments)}function jc(){return jc=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,xa("string"===typeof a,t,"argument-error"),xa(r.type===Cc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return xa("enroll"===u.type,t,"internal-error"),e.next=13,Ms(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return xa("signin"===u.type,t,"internal-error"),xa(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,vc(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,pu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),jc.apply(this,arguments)}function Uc(){return(Uc=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bu(Er(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vc=function(){function e(t){(0,We.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Lo(t)}return(0,Qe.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Fc(this.auth,e,Er(t))}}],[{key:"credential",value:function(e,t){return bu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bu._fromTokenResponse(n,r):null}}]),e}();function Bc(e,t){return t?Za(t):(xa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Vc.PROVIDER_ID="phone",Vc.PHONE_SIGN_IN_METHOD="phone";var zc=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,Qe.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return fu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Vo);function qc(e){return Wu(e.auth,new zc(e),e.bypassAuthState)}function Kc(e){var t=e.auth,n=e.user;return xa(n,t,"internal-error"),Gu(n,new zc(e),e.bypassAuthState)}function Gc(e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,xa(r=t.user,n,"internal-error"),e.abrupt("return",Bu(r,new zc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,We.Z)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,Qe.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,wn.Z)((0,bn.Z)().mark((function t(n,r){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qc;case"linkViaPopup":case"linkViaRedirect":return Gc;case"reauthViaPopup":case"reauthViaRedirect":return Kc;default:ya(this.auth,"internal-error")}}},{key:"resolve",value:function(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Qc=new Na(2e3,1e4);function Yc(e,t,n){return $c.apply(this,arguments)}function $c(){return($c=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lo(t),ba(t,n,Eu),a=Bc(i,r),o=new tl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xc(){return(Xc=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ba((i=Er(t)).auth,n,Eu),a=Bc(i.auth,r),o=new tl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jc(e,t,n){return el.apply(this,arguments)}function el(){return(el=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ba((i=Er(t)).auth,n,Eu),a=Bc(i.auth,r),o=new tl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tl=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i,a,o){var u;return(0,We.Z)(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,Gn.Z)(u),u}return(0,Qe.Z)(n,[{key:"executeNotNull",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return xa(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _a(1===this.filter.length,"Popup operations only handle one event"),t=Ws(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ga(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ga(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ga(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Qc.get())}()}}]),n}(Wc);tl.currentPopupAction=null;var nl=new Map,rl=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,We.Z)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,Qe.Z)(n,[{key:"execute",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=nl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,il(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Lt((0,Pt.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:nl.set(this.auth._key(),t);case 21:return this.bypassAuthState||nl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Lt((0,Pt.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Lt((0,Pt.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Wc);function il(e,t){return al.apply(this,arguments)}function al(){return(al=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ll(n),i=cl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ol(e,t){return ul.apply(this,arguments)}function ul(){return(ul=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(t)._set(ll(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sl(e,t){nl.set(e._key(),t)}function cl(e){return Za(e._redirectPersistence)}function ll(e){return ko("pendingRedirect",e.config.apiKey,e.name)}function fl(e,t,n){return function(e,t,n){return hl.apply(this,arguments)}(e,t,n)}function hl(){return(hl=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lo(t),ba(t,n,Eu),a=Bc(i,r),e.next=5,ol(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dl(e,t,n){return function(e,t,n){return pl.apply(this,arguments)}(e,t,n)}function pl(){return(pl=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ba((i=Er(t)).auth,n,Eu),a=Bc(i.auth,r),e.next=5,ol(a,i.auth);case 5:return e.next=7,wl(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vl(e,t,n){return function(e,t,n){return ml.apply(this,arguments)}(e,t,n)}function ml(){return(ml=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ba((i=Er(t)).auth,n,Eu),a=Bc(i.auth,r),e.next=5,qu(!1,i,n.providerId);case 5:return e.next=7,ol(a,i.auth);case 7:return e.next=9,wl(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yl(e,t){return gl.apply(this,arguments)}function gl(){return(gl=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(t)._initializationPromise;case 2:return e.abrupt("return",kl(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kl(e,t){return bl.apply(this,arguments)}function bl(){return bl=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u,s=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Lo(t),a=Bc(i,n),o=new rl(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(e){return xl.apply(this,arguments)}function xl(){return(xl=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ws("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var El=function(){function e(t){(0,We.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,Qe.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Il(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Il(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ga(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_l(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(_l(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function _l(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Il(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Zl(e){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",La(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}var Tl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cl=/^https?/;function Nl(){return(Nl=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Zl(t);case 4:n=e.sent,r=n.authorizedDomains,i=(0,Kn.Z)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Al(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ya(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Al(e){var t=Sa(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Cl.test(r))return!1;if(Tl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Dl=new Na(3e4,6e4);function Rl(){var e=Ys().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,He.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Pl=null;function Ol(e){return Pl=Pl||function(e){return new Promise((function(t,n){var r,i,a;function o(){Rl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Rl(),n(ga(e,"network-request-failed"))},timeout:Dl.get()})}if(null===(i=null===(r=Ys().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ys().gapi)||void 0===a?void 0:a.load)){var u=kc("iframefcb");return Ys()[u]=function(){gapi.load?o():n(ga(e,"network-request-failed"))},gc("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Pl=null,e}))}(e),Pl}var Ll=new Na(5e3,15e3),Ml={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jl(e){var t=e.config;xa(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Aa(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:yi},i=Fl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(yr(r).slice(1))}function Ul(e){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ol(t);case 2:return n=e.sent,xa(r=Ys().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:jl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ml,dontclear:!0},(function(e){return new Promise(function(){var n=(0,wn.Z)((0,bn.Z)().mark((function n(r,i){var a,o,u;return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ys().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ga(t,"network-request-failed"),o=Ys().setTimeout((function(){i(a)}),Ll.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}var Bl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zl="_blank",ql="http://localhost",Kl=function(){function e(t){(0,We.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,Qe.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(MN){}}}]),e}();function Gl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Bl),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Jn().toLowerCase();n&&(u=_o(c)?zl:n),xo(c)&&(t=t||ql,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,Me.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(No(c)&&"_self"!==u)return Hl(t||"",u),new Kl(null);var f=window.open(t||"",u,l);xa(f,e,"popup-blocked");try{f.focus()}catch(MN){}return new Kl(f)}function Hl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Wl="__/auth/handler",Ql="emulator/auth/handler";function Yl(e,t,n,r,i,a){xa(e.config.authDomain,e,"auth-domain-config-required"),xa(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yi,eventId:i};if(t instanceof Eu){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,Me.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof _u){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Wl);return Aa(t,Ql)}(e),"?").concat(yr(d).slice(1))}var $l="webStorageSupport",Xl=function(){function e(){(0,We.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ks,this._completeRedirectFn=kl,this._overrideRedirectResult=sl}return(0,Qe.Z)(e,[{key:"_openPopup",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){var a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _a(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Yl(t,n,r,Sa(),i),e.abrupt("return",Gl(t,o,Ws()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Yl(t,n,r,Sa(),i),Ys().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(_a(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ul(t);case 2:return n=e.sent,r=new El(t),n.register("authEvent",(function(e){return xa(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send($l,{type:$l},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ya(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Nl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Do()||Eo()||Co()}}]),e}(),Jl=Xl,ef=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,Qe.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return La(e,"POST","/v2/accounts/mfaEnrollment:finalize",Oa(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return La(e,"POST","/v2/accounts/mfaSignIn:finalize",Oa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){(0,We.Z)(this,e),this.factorId=t}return(0,Qe.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ea("unexpected MultiFactorSessionType")}}}]),e}()),tf=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,null,[{key:"assertion",value:function(e){return ef._fromCredential(e)}}]),e}();tf.FACTOR_ID="phone";var nf="@firebase/auth",rf="0.20.11",af=function(){function e(t){(0,We.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,Qe.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){xa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var of;!function(e){var t;null===(t=or())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function uf(){return window}of="Browser",li(new _r("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){xa(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),xa(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:of,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ro(of)},i=new Oo(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Za);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),li(new _r("auth-internal",(function(e){return function(e){return new af(e)}(Lo(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(nf,rf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(of)),Ei(nf,rf,"esm2017");function sf(e,t,n){return cf.apply(this,arguments)}function cf(){return cf=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=uf(),o=a.BuildInfo,_a(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,vf(n.sessionId);case 4:return u=e.sent,s={},Co()?s.ibi=o.packageName:Zo()?s.apn=o.packageName:ya(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Yl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(){return(lf=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uf(),r=n.BuildInfo,i={},Co()?i.iosBundleId=r.packageName:Zo()?i.androidPackageName=r.packageName:ya(t,"operation-not-supported-in-this-environment"),e.next=5,Zl(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ff(e){var t=uf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function hf(e,t,n){return df.apply(this,arguments)}function df(){return df=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uf(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ga(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Zo()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),df.apply(this,arguments)}function pf(e){var t,n,r,i,a,o,u,s,c,l,f=uf();xa("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xa("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xa("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xa("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xa("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function vf(e){return mf.apply(this,arguments)}function mf(){return(mf=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yf(e){if(_a(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var gf=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){var e;return(0,We.Z)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,Qe.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Lt((0,Pt.Z)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(El);function kf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:_f(),postBody:null,tenantId:e.tenantId,error:ga(e,"no-auth-event")}}function bf(e,t){return If()._set(Zf(e),t)}function wf(e){return xf.apply(this,arguments)}function xf(){return(xf=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,If()._get(Zf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,If()._remove(Zf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ef(e,t){var n,r,i=function(e){var t=Sf(e),n=t.link?decodeURIComponent(t.link):void 0,r=Sf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Sf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Sf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(MN){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ga(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function _f(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function If(){return Za(zs)}function Zf(e){return ko("authEvent",e.config.apiKey,e.name)}function Sf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,Wi.Z)(t)||(0,Qi.Z)(t)||(0,Yi.Z)(t)||(0,$i.Z)());r[0];return gr(r.slice(1).join("?"))}var Tf=function(){function e(){(0,We.Z)(this,e),this._redirectPersistence=Ks,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kl,this._overrideRedirectResult=sl}return(0,Qe.Z)(e,[{key:"_initialize",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new gf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ya(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){var a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),nl.clear(),e.next=10,this._originValidation(t);case 10:return o=kf(t,r,i),e.next=13,bf(t,o);case 13:return e.next=15,sf(t,o,n);case 15:return u=e.sent,e.next=18,ff(u);case 18:return s=e.sent,e.abrupt("return",hf(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return lf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=uf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout((0,wn.Z)((0,bn.Z)().mark((function n(){return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wf(e);case 2:t.onEvent(Nf());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=(0,wn.Z)((0,bn.Z)().mark((function n(r){var i,a;return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,wf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Ef(i,r.url)),t.onEvent(a||Nf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");uf().handleOpenURL=function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(MN){console.error(MN)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Cf=Tf;function Nf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ga("no-auth-event")}}function Af(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Df(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return!("file:"!==Af()&&"ionic:"!==Af()&&"capacitor:"!==Af()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rf(){return rr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Pf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/Edge\/\d+/.test(e)}function Of(){try{var e=self.localStorage,t=Ws();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return Rf()||Pf(e)}()||ir()}catch(MN){return Lf()&&ir()}return!1}function Lf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Mf(){return("http:"===Af()||"https:"===Af()||tr()||Df())&&!(nr()||er())&&Of()&&!Lf()}function Ff(){return Df()&&"undefined"!==typeof document}function jf(){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ff()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vf={LOCAL:"local",NONE:"none",SESSION:"session"},Bf=xa,zf="persistence";function qf(e,t){Bf(Object.values(Vf).includes(t),e,"invalid-persistence-type"),nr()?Bf(t!==Vf.SESSION,e,"unsupported-persistence-type"):er()?Bf(t===Vf.NONE,e,"unsupported-persistence-type"):Lf()?Bf(t===Vf.NONE||t===Vf.LOCAL&&ir(),e,"unsupported-persistence-type"):Bf(t===Vf.NONE||Of(),e,"unsupported-persistence-type")}function Kf(e){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Hf(),r=ko(zf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(MN){return null}}var Wf=xa,Qf=function(){function e(){(0,We.Z)(this,e),this.browserResolver=Za(Jl),this.cordovaResolver=Za(Cf),this.underlyingResolver=null,this._redirectPersistence=Ks,this._completeRedirectFn=kl,this._overrideRedirectResult=sl}return(0,Qe.Z)(e,[{key:"_initialize",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ff()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Wf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,jf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yf(e){return e.unwrap()}function $f(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new nh(e,function(e,t){var n,r=Er(e),i=t;return xa(t.customData.operationType,r,"argument-error"),xa(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ls._fromError(r,i)}(e,t));else if(i){var a=Xf(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Xf(e){var t=(e instanceof lr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof lr)&&"temporaryProof"in t&&"phoneNumber"in t)return Vc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ra)return null;switch(r){case na:n=Su;break;case ea:n=Zu;break;case ta:n=Tu;break;case ia:n=Au;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Cu._create(r,u):du._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Iu(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof lr?n.credentialFromError(e):n.credentialFromResult(e)}function Jf(e,t){return t.catch((function(t){throw t instanceof lr&&$f(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Xf(t)),additionalUserInfo:Ps(e),user:rh.getOrCreate(r)}}))}function eh(e,t){return th.apply(this,arguments)}function th(){return(th=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Jf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nh=function(){function e(t,n){(0,We.Z)(this,e),this.resolver=n,this.auth=t.wrapped()}return(0,Qe.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Jf(Yf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),rh=function(){function e(t){(0,We.Z)(this,e),this._delegate=t,this.multiFactor=function(e){var t=Er(e);return js.has(t)||js.set(t,Fs._fromUser(t)),js.get(t)}(t)}return(0,Qe.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(this.auth,Xu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eh(this.auth,Oc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(this.auth,Jc(this._delegate,t,Qf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kf(Lo(this.auth));case 2:return e.abrupt("return",vl(this._delegate,t,Qf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(this.auth,es(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return eh(this.auth,function(e,t,n){return Mc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Jf(this.auth,function(e,t,n){return Xc.apply(this,arguments)}(this._delegate,e,Qf))}},{key:"reauthenticateWithRedirect",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kf(Lo(this.auth));case 2:return e.abrupt("return",dl(this._delegate,t,Qf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ws.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Zs(Er(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Zs(Er(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Uc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Is.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return xs.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();rh.USER_MAP=new WeakMap;var ih=xa,ah=function(){function e(t,n){if((0,We.Z)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ih(r,"invalid-api-key",{appName:t.name}),ih(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Qf:void 0;this._delegate=n.initialize({options:{persistence:uh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ha),this.linkUnderlyingAuth()}return(0,Qe.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?rh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Fo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ls.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return fs(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return cs.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(this._delegate,ps(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return bs.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=wu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ih(Mf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yl(this._delegate,Qf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Jf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Lo(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=oh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=oh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ms.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ss.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qf(this._delegate,t),e.t0=t,e.next=e.t0===Vf.SESSION?4:e.t0===Vf.LOCAL?6:e.t0===Vf.NONE?11:13;break;case 4:return n=Ks,e.abrupt("break",14);case 6:return e.next=8,Za(pc)._isAvailable();case 8:return r=e.sent,n=r?pc:zs,e.abrupt("break",14);case 11:return n=go,e.abrupt("break",14);case 13:return e.abrupt("return",ya("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Jf(this._delegate,function(e){return Lu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Jf(this._delegate,Yu(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Jf(this._delegate,function(e,t){return is.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Jf(this._delegate,function(e,t,n){return Yu(Er(e),xu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Jf(this._delegate,function(e,t,n){return ys.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return eh(this._delegate,function(e,t,n){return Pc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ih(Mf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Jf(this._delegate,Yc(this._delegate,t,Qf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ih(Mf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Kf(this._delegate);case 3:return e.abrupt("return",fl(this._delegate,t,Qf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ds.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function oh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&rh.getOrCreate(e))},error:t,complete:n}}function uh(e,t){var n=function(e,t){var n=Hf();if(!n)return[];var r=ko(zf,e,t);switch(n.getItem(r)){case Vf.NONE:return[go];case Vf.LOCAL:return[pc,Ks];case Vf.SESSION:return[Ks];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(pc)||n.push(pc),"undefined"!==typeof window)for(var r=0,i=[zs,Ks];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(go)||n.push(go),n}ah.Persistence=Vf;var sh=function(){function e(){(0,We.Z)(this,e),this.providerId="phone",this._delegate=new Vc(Yf(Hi.auth()))}return(0,Qe.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Vc.credential(e,t)}}]),e}();sh.PHONE_SIGN_IN_METHOD=Vc.PHONE_SIGN_IN_METHOD,sh.PROVIDER_ID=Vc.PROVIDER_ID;var ch,lh=xa,fh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hi.app();(0,We.Z)(this,e),lh(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ac(t,n,i.auth()),this.type=this._delegate.type}return(0,Qe.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ch=Hi).INTERNAL.registerComponent(new _r("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ah(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:aa,PASSWORD_RESET:oa,RECOVER_EMAIL:ua,REVERT_SECOND_FACTOR_ADDITION:sa,VERIFY_AND_CHANGE_EMAIL:ca,VERIFY_EMAIL:la}},EmailAuthProvider:xu,FacebookAuthProvider:Zu,GithubAuthProvider:Tu,GoogleAuthProvider:Su,OAuthProvider:Iu,SAMLAuthProvider:Nu,PhoneAuthProvider:sh,PhoneMultiFactorGenerator:tf,RecaptchaVerifier:fh,TwitterAuthProvider:Au,Auth:ah,AuthCredential:Vo,Error:lr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ch.registerVersion("@firebase/auth-compat","0.2.24");var hh,dh=n(647),ph="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},vh={},mh=mh||{},yh=ph||self;function gh(){}function kh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wh="closure_uid_"+(1e9*Math.random()>>>0),xh=0;function Eh(e,t,n){return e.call.apply(e.bind,arguments)}function _h(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ih(e,t,n){return(Ih=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Eh:_h).apply(null,arguments)}function Zh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Sh(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Th(){this.s=this.s,this.o=this.o}Th.prototype.s=!1,Th.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,wh)&&e[wh]||(e[wh]=++xh))},Th.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ch=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Nh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ah(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(kh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Dh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Dh.prototype.h=function(){this.defaultPrevented=!0};var Rh=function(){if(!yh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{yh.addEventListener("test",gh,t),yh.removeEventListener("test",gh,t)}catch(n){}return e}();function Ph(e){return/^[\s\xa0]*$/.test(e)}var Oh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lh(e,t){return e<t?-1:e>t?1:0}function Mh(){var e=yh.navigator;return e&&(e=e.userAgent)?e:""}function Fh(e){return-1!=Mh().indexOf(e)}function jh(e){return jh[" "](e),e}jh[" "]=gh;var Uh,Vh=Fh("Opera"),Bh=Fh("Trident")||Fh("MSIE"),zh=Fh("Edge"),qh=zh||Bh,Kh=Fh("Gecko")&&!(-1!=Mh().toLowerCase().indexOf("webkit")&&!Fh("Edge"))&&!(Fh("Trident")||Fh("MSIE"))&&!Fh("Edge"),Gh=-1!=Mh().toLowerCase().indexOf("webkit")&&!Fh("Edge");function Hh(){var e=yh.document;return e?e.documentMode:void 0}e:{var Wh="",Qh=function(){var e=Mh();return Kh?/rv:([^\);]+)(\)|;)/.exec(e):zh?/Edge\/([\d\.]+)/.exec(e):Bh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Gh?/WebKit\/(\S+)/.exec(e):Vh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qh&&(Wh=Qh?Qh[1]:""),Bh){var Yh=Hh();if(null!=Yh&&Yh>parseFloat(Wh)){Uh=String(Yh);break e}}Uh=Wh}var $h,Xh={};function Jh(){return function(e){var t=Xh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Oh(String(Uh)).split("."),n=Oh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Lh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Lh(0==a[2].length,0==o[2].length)||Lh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(yh.document&&Bh){var ed=Hh();$h=ed||(parseInt(Uh,10)||void 0)}else $h=void 0;var td=$h;function nd(e,t){if(Dh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Kh){e:{try{jh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:rd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&nd.X.h.call(this)}}Sh(nd,Dh);var rd={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var id="closure_listenable_"+(1e6*Math.random()|0),ad=0;function od(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ad,this.ba=this.ea=!1}function ud(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function sd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function cd(e){var t={};for(var n in e)t[n]=e[n];return t}var ld="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ld.length;a++)n=ld[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hd(e){this.src=e,this.g={},this.h=0}function dd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ch(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ud(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function pd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}hd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=pd(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new od(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var vd="closure_lm_"+(1e6*Math.random()|0),md={};function yd(e,t,n,r,i){if(r&&r.once)return kd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)yd(e,t[a],n,r,i);return null}return n=Zd(n),e&&e[id]?e.N(t,n,bh(r)?!!r.capture:!!r,i):gd(e,t,n,!1,r,i)}function gd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bh(i)?!!i.capture:!!i,u=_d(e);if(u||(e[vd]=u=new hd(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ed;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Rh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function kd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)kd(e,t[a],n,r,i);return null}return n=Zd(n),e&&e[id]?e.O(t,n,bh(r)?!!r.capture:!!r,i):gd(e,t,n,!0,r,i)}function bd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)bd(e,t[a],n,r,i);else r=bh(r)?!!r.capture:!!r,n=Zd(n),e&&e[id]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=pd(a=e.g[t],n,r,i))&&(ud(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=_d(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pd(t,n,r,i)),(n=-1<e?t[e]:null)&&wd(n))}function wd(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[id])dd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_d(t))?(dd(n,e),0==n.h&&(n.src=null,t[vd]=null)):ud(e)}}}function xd(e){return e in md?md[e]:md[e]="on"+e}function Ed(e,t){if(e.ba)e=!0;else{t=new nd(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&wd(e),e=n.call(r,t)}return e}function _d(e){return(e=e[vd])instanceof hd?e:null}var Id="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zd(e){return"function"===typeof e?e:(e[Id]||(e[Id]=function(t){return e.handleEvent(t)}),e[Id])}function Sd(){Th.call(this),this.i=new hd(this),this.P=this,this.I=null}function Td(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Dh(t,e);else if(t instanceof Dh)t.target=t.target||e;else{var i=t;fd(t=new Dh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Cd(o,r,!0,t)&&i}if(i=Cd(o=t.g=e,r,!0,t)&&i,i=Cd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Cd(o=t.g=n[a],r,!1,t)&&i}function Cd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&dd(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Sh(Sd,Th),Sd.prototype[id]=!0,Sd.prototype.removeEventListener=function(e,t,n,r){bd(this,e,t,n,r)},Sd.prototype.M=function(){if(Sd.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ud(n[r]);delete t.g[e],t.h--}}this.I=null},Sd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Sd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nd=yh.JSON.stringify;function Ad(){var e=jd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Dd,Rd=function(){function e(){(0,We.Z)(this,e),this.h=this.g=null}return(0,Qe.Z)(e,[{key:"add",value:function(e,t){var n=Pd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pd=new(function(){function e(t,n){(0,We.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,Qe.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Od}),(function(e){return e.reset()})),Od=function(){function e(){(0,We.Z)(this,e),this.next=this.g=this.h=null}return(0,Qe.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ld(e){yh.setTimeout((function(){throw e}),0)}function Md(e,t){Dd||function(){var e=yh.Promise.resolve(void 0);Dd=function(){e.then(Ud)}}(),Fd||(Dd(),Fd=!0),jd.add(e,t)}var Fd=!1,jd=new Rd;function Ud(){for(var e;e=Ad();){try{e.h.call(e.g)}catch(n){Ld(n)}var t=Pd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fd=!1}function Vd(e,t){Sd.call(this),this.h=e||1,this.g=t||yh,this.j=Ih(this.lb,this),this.l=Date.now()}function Bd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function zd(e,t,n){if("function"===typeof e)n&&(e=Ih(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ih(e.handleEvent,e)}return 2147483647<Number(t)?-1:yh.setTimeout(e,t||0)}function qd(e){e.g=zd((function(){e.g=null,e.i&&(e.i=!1,qd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Sh(Vd,Sd),(hh=Vd.prototype).ca=!1,hh.R=null,hh.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Td(this,"tick"),this.ca&&(Bd(this),this.start()))}},hh.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hh.M=function(){Vd.X.M.call(this),Bd(this),delete this.g};var Kd=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,Qe.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:qd(this)}},{key:"M",value:function(){Lt((0,Pt.Z)(n.prototype),"M",this).call(this),this.g&&(yh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Th);function Gd(e){Th.call(this),this.h=e,this.g={}}Sh(Gd,Th);var Hd=[];function Wd(e,t,n,r){Array.isArray(n)||(n&&(Hd[0]=n.toString()),n=Hd);for(var i=0;i<n.length;i++){var a=yd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qd(e){sd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&wd(e)}),e),e.g={}}function Yd(){this.g=!0}function $d(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Nd(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Gd.prototype.M=function(){Gd.X.M.call(this),Qd(this)},Gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yd.prototype.Aa=function(){this.g=!1},Yd.prototype.info=function(){};var Xd={},Jd=null;function ep(){return Jd=Jd||new Sd}function tp(e){Dh.call(this,Xd.Pa,e)}function np(e){var t=ep();Td(t,new tp(t))}function rp(e,t){Dh.call(this,Xd.STAT_EVENT,e),this.stat=t}function ip(e){var t=ep();Td(t,new rp(t,e))}function ap(e,t){Dh.call(this,Xd.Qa,e),this.size=t}function op(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return yh.setTimeout((function(){e()}),t)}Xd.Pa="serverreachability",Sh(tp,Dh),Xd.STAT_EVENT="statevent",Sh(rp,Dh),Xd.Qa="timingevent",Sh(ap,Dh);var up={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sp={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function cp(){}function lp(e){return e.h||(e.h=e.i())}function fp(){}cp.prototype.h=null;var hp,dp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function pp(){Dh.call(this,"d")}function vp(){Dh.call(this,"c")}function mp(){}function yp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Gd(this),this.O=kp,e=qh?125:void 0,this.T=new Vd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gp}function gp(){this.i=null,this.g="",this.h=!1}Sh(pp,Dh),Sh(vp,Dh),Sh(mp,cp),mp.prototype.g=function(){return new XMLHttpRequest},mp.prototype.i=function(){return{}},hp=new mp;var kp=45e3,bp={},wp={};function xp(e,t,n){e.K=1,e.v=Vp(Lp(t)),e.s=n,e.P=!0,Ep(e,null)}function Ep(e,t){e.F=Date.now(),Sp(e),e.A=Lp(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ev(n.i,"t",r),e.C=0,n=e.l.H,e.h=new gp,e.g=tm(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Kd(Ih(e.La,e,e.g),e.N)),Wd(e.S,e.g,"readystatechange",e.ib),t=e.H?cd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),np(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function _p(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ip(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Zp(e,n))==wp){4==t&&(e.o=4,ip(14),i=!1),$d(e.j,e.m,null,"[Incomplete Response]");break}if(r==bp){e.o=4,ip(15),$d(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$d(e.j,e.m,r,null),Dp(e,r)}_p(e)&&r!=wp&&r!=bp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ip(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hv(t),t.K=!0,ip(11))):($d(e.j,e.m,n,"[Invalid Chunked Response]"),Ap(e),Np(e))}function Zp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wp:(n=Number(t.substring(n,r)),isNaN(n)?bp:(r+=1)+n>t.length?wp:(t=t.substr(r,n),e.C=r+n,t))}function Sp(e){e.V=Date.now()+e.O,Tp(e,e.O)}function Tp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=op(Ih(e.gb,e),t)}function Cp(e){e.B&&(yh.clearTimeout(e.B),e.B=null)}function Np(e){0==e.l.G||e.I||Yv(e.l,e)}function Ap(e){Cp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Bd(e.T),Qd(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||sv(n.h,e)))if(!e.J&&sv(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qv(n),jv(n)}Gv(n),ip(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=op(Ih(n.cb,n),6e3));if(1>=uv(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Xv(n,11)}else if((e.J||n.g==e)&&Qv(n),!Ph(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(cv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Up(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=em(r,r.H?r.ka:null,r.V),d.J){lv(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Cp(p),Sp(p)),r.g=d}else Kv(r);0<n.i.length&&Vv(n)}else"stop"!=a[0]&&"close"!=a[0]||Xv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Xv(n,7):Fv(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}np()}catch(a){}}function Rp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(kh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(kh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(kh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(hh=yp.prototype).setTimeout=function(e){this.O=e},hh.ib=function(e){e=e.target;var t=this.L;t&&3==Dv(e)?t.l():this.La(e)},hh.La=function(e){try{if(e==this.g)e:{var t=Dv(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||qh||this.g&&(this.h.h||this.g.fa()||Rv(this.g)))){this.I||4!=t||7==n||np(),Cp(this);var r=this.g.aa();this.Y=r;t:if(_p(this)){var i=Rv(this.g);e="";var a=i.length,o=4==Dv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ap(this),Np(this);var u="";break t}this.h.i=new yh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ph(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ip(12),Ap(this),Np(this);break e}$d(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dp(this,r)}this.P?(Ip(this,t,u),qh&&this.i&&3==t&&(Wd(this.S,this.T,"tick",this.hb),this.T.start())):($d(this.j,this.m,u,null),Dp(this,u)),4==t&&Ap(this),this.i&&!this.I&&(4==t?Yv(this.l,this):(this.i=!1,Sp(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,ip(12)):(this.o=0,ip(13)),Ap(this),Np(this)}}}catch(t){}},hh.hb=function(){if(this.g){var e=Dv(this.g),t=this.g.fa();this.C<t.length&&(Cp(this),Ip(this,e,t),this.i&&4!=e&&Sp(this))}},hh.cancel=function(){this.I=!0,Ap(this)},hh.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(np(),ip(17)),Ap(this),this.o=2,Np(this)):Tp(this,this.V-e)};var Pp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Op(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Op){this.h=void 0!==t?t:e.h,Mp(this,e.j),this.s=e.s,this.g=e.g,Fp(this,e.m),this.l=e.l,t=e.i;var n=new Yp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),jp(this,n),this.o=e.o}else e&&(n=String(e).match(Pp))?(this.h=!!t,Mp(this,n[1]||"",!0),this.s=Bp(n[2]||""),this.g=Bp(n[3]||"",!0),Fp(this,n[4]),this.l=Bp(n[5]||"",!0),jp(this,n[6]||"",!0),this.o=Bp(n[7]||"")):(this.h=!!t,this.i=new Yp(null,this.h))}function Lp(e){return new Op(e)}function Mp(e,t,n){e.j=n?Bp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function jp(e,t,n){t instanceof Yp?(e.i=t,function(e,t){t&&!e.j&&($p(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xp(this,t),ev(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=zp(t,Wp)),e.i=new Yp(t,e.h))}function Up(e,t,n){e.i.set(t,n)}function Vp(e){return Up(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Op.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zp(t,Kp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zp(t,Kp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(zp(n,"/"==n.charAt(0)?Hp:Gp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zp(n,Qp)),e.join("")};var Kp=/[#\/\?@]/g,Gp=/[#\?:]/g,Hp=/[#\?]/g,Wp=/[#\?@]/g,Qp=/#/g;function Yp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $p(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xp(e,t){$p(e),t=tv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Jp(e,t){return $p(e),t=tv(e,t),e.g.has(t)}function ev(e,t,n){Xp(e,t),0<n.length&&(e.i=null,e.g.set(tv(e,t),Nh(n)),e.h+=n.length)}function tv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(hh=Yp.prototype).add=function(e,t){$p(this),this.i=null,e=tv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},hh.forEach=function(e,t){$p(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},hh.oa=function(){$p(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},hh.W=function(e){$p(this);var t=[];if("string"===typeof e)Jp(this,e)&&(t=t.concat(this.g.get(tv(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},hh.set=function(e,t){return $p(this),this.i=null,Jp(this,e=tv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},hh.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},hh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var nv=(0,Qe.Z)((function e(t,n){(0,We.Z)(this,e),this.h=t,this.g=n}));function rv(e){this.l=e||av,yh.PerformanceNavigationTiming?e=0<(e=yh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(yh.g&&yh.g.Ga&&yh.g.Ga()&&yh.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iv,av=10;function ov(e){return!!e.h||!!e.g&&e.g.size>=e.j}function uv(e){return e.h?1:e.g?e.g.size:0}function sv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cv(e,t){e.g?e.g.add(t):e.h=t}function lv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,Kn.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Nh(e.i)}function hv(){}function dv(){this.g=new hv}function pv(e,t,n){var r=n||"";try{Rp(e,(function(e,n){var i=e;bh(e)&&(i=Nd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(MN){throw t.push(r+"type="+encodeURIComponent("_badmap")),MN}}function vv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function mv(e){this.l=e.ac||null,this.j=e.jb||!1}function yv(e,t){Sd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rv.prototype.cancel=function(){if(this.i=fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,Kn.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},hv.prototype.stringify=function(e){return yh.JSON.stringify(e,void 0)},hv.prototype.parse=function(e){return yh.JSON.parse(e,void 0)},Sh(mv,cp),mv.prototype.g=function(){return new yv(this.l,this.j)},mv.prototype.i=(iv={},function(){return iv}),Sh(yv,Sd);var gv=0;function kv(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function bv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wv(e)}function wv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(hh=yv.prototype).open=function(e,t){if(this.readyState!=gv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wv(this)},hh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||yh).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},hh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bv(this)),this.readyState=gv},hh.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wv(this)),this.g&&(this.readyState=3,wv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof yh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kv(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},hh.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bv(this):wv(this),3==this.readyState&&kv(this)}},hh.Va=function(e){this.g&&(this.response=this.responseText=e,bv(this))},hh.Ua=function(e){this.g&&(this.response=e,bv(this))},hh.ga=function(){this.g&&bv(this)},hh.setRequestHeader=function(e,t){this.v.append(e,t)},hh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},hh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xv=yh.JSON.parse;function Ev(e){Sd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_v,this.K=this.L=!1}Sh(Ev,Sd);var _v="",Iv=/^https?$/i,Zv=["POST","PUT"];function Sv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tv(e),Nv(e)}function Tv(e){e.D||(e.D=!0,Td(e,"complete"),Td(e,"error"))}function Cv(e){if(e.h&&"undefined"!=typeof mh&&(!e.C[1]||4!=Dv(e)||2!=e.aa()))if(e.v&&4==Dv(e))zd(e.Ha,0,e);else if(Td(e,"readystatechange"),4==Dv(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pp)[1]||null;if(!a&&yh.self&&yh.self.location){var o=yh.self.location.protocol;a=o.substr(0,o.length-1)}i=!Iv.test(a?a.toLowerCase():"")}t=i}if(t)Td(e,"complete"),Td(e,"success");else{e.m=6;try{var u=2<Dv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Tv(e)}}finally{Nv(e)}}}function Nv(e,t){if(e.g){Av(e);var n=e.g,r=e.C[0]?gh:null;e.g=null,e.C=null,t||Td(e,"ready");try{n.onreadystatechange=r}catch(MN){}}}function Av(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(yh.clearTimeout(e.A),e.A=null)}function Dv(e){return e.g?e.g.readyState:0}function Rv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case _v:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ym){return null}}function Pv(e){var t="";return sd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ov(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Up(e,t,n))}function Lv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mv(e){this.Ca=0,this.i=[],this.j=new Yd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Lv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Lv("baseRetryDelayMs",5e3,e),this.bb=Lv("retryDelaySeedMs",1e4,e),this.$a=Lv("forwardChannelMaxRetries",2,e),this.ta=Lv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new rv(e&&e.concurrentRequestLimit),this.Fa=new dv,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Fv(e){if(Uv(e),3==e.G){var t=e.U++,n=Lp(e.F);Up(n,"SID",e.I),Up(n,"RID",t),Up(n,"TYPE","terminate"),zv(e,n),(t=new yp(e,e.j,t,void 0)).K=2,t.v=Vp(Lp(n)),n=!1,yh.navigator&&yh.navigator.sendBeacon&&(n=yh.navigator.sendBeacon(t.v.toString(),"")),!n&&yh.Image&&((new Image).src=t.v,n=!0),n||(t.g=tm(t.l,null),t.g.da(t.v)),t.F=Date.now(),Sp(t)}Jv(e)}function jv(e){e.g&&(Hv(e),e.g.cancel(),e.g=null)}function Uv(e){jv(e),e.u&&(yh.clearTimeout(e.u),e.u=null),Qv(e),e.h.cancel(),e.m&&("number"===typeof e.m&&yh.clearTimeout(e.m),e.m=null)}function Vv(e){ov(e.h)||e.m||(e.m=!0,Md(e.Ja,e),e.C=0)}function Bv(e,t){var n;n=t?t.m:e.U++;var r=Lp(e.F);Up(r,"SID",e.I),Up(r,"RID",n),Up(r,"AID",e.T),zv(e,r),e.o&&e.s&&Ov(r,e.o,e.s),n=new yp(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=qv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),cv(e.h,n),xp(n,r,t)}function zv(e,t){e.ia&&sd(e.ia,(function(e,n){Up(t,n,e)})),e.l&&Rp({},(function(e,n){Up(t,n,e)}))}function qv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ih(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{pv(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Kv(e){e.g||e.u||(e.Z=1,Md(e.Ia,e),e.A=0)}function Gv(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=op(Ih(e.Ia,e),$v(e,e.A)),e.A++,!0)}function Hv(e){null!=e.B&&(yh.clearTimeout(e.B),e.B=null)}function Wv(e){e.g=new yp(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Lp(e.sa);Up(t,"RID","rpc"),Up(t,"SID",e.I),Up(t,"CI",e.L?"0":"1"),Up(t,"AID",e.T),Up(t,"TYPE","xmlhttp"),zv(e,t),e.o&&e.s&&Ov(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Vp(Lp(t)),n.s=null,n.P=!0,Ep(n,e)}function Qv(e){null!=e.v&&(yh.clearTimeout(e.v),e.v=null)}function Yv(e,t){var n=null;if(e.g==t){Qv(e),Hv(e),e.g=null;var r=2}else{if(!sv(e.h,t))return;n=t.D,lv(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Td(r=ep(),new ap(r,n)),Vv(e)}else Kv(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(uv(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=op(Ih(e.Ja,e,t),$v(e,e.C)),e.C++,!0))}(e,t)||2==r&&Gv(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Xv(e,5);break;case 4:Xv(e,10);break;case 3:Xv(e,6);break;default:Xv(e,2)}}function $v(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Xv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ih(e.kb,e);n||(n=new Op("//www.google.com/images/cleardot.gif"),yh.location&&"http"==yh.location.protocol||Mp(n,"https"),Vp(n)),function(e,t){var n=new Yd;if(yh.Image){var r=new Image;r.onload=Zh(vv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zh(vv,n,r,"TestLoadImage: error",!1,t),r.onabort=Zh(vv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zh(vv,n,r,"TestLoadImage: timeout",!1,t),yh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ip(2);e.G=0,e.l&&e.l.va(t),Jv(e),Uv(e)}function Jv(e){if(e.G=0,e.la=[],e.l){var t=fv(e.h);0==t.length&&0==e.i.length||(Ah(e.la,t),Ah(e.la,e.i),e.h.i.length=0,Nh(e.i),e.i.length=0),e.l.ua()}}function em(e,t,n){var r=n instanceof Op?Lp(n):new Op(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Fp(r,r.m);else{var i=yh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Op(null,void 0);r&&Mp(a,r),t&&(a.g=t),i&&Fp(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Up(r,n,t),Up(r,"VER",e.ma),zv(e,r),r}function tm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ev(new mv({jb:!0})):new Ev(e.ra)).Ka(e.H),t}function nm(){}function rm(){if(Bh&&!(10<=Number(td)))throw Error("Environmental error: no available transport.")}function im(e,t){Sd.call(this),this.g=new Mv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ph(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ph(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new um(this)}function am(e){pp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function om(){vp.call(this),this.status=1}function um(e){this.g=e}(hh=Ev.prototype).Ka=function(e){this.L=e},hh.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hp.g(),this.C=this.u?lp(this.u):lp(hp),this.g.onreadystatechange=Ih(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Sv(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=(0,Kn.Z)(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=yh.FormData&&e instanceof yh.FormData,!(0<=Ch(Zv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=(0,Kn.Z)(n);try{for(c.s();!(s=c.n()).done;){var l=(0,Me.Z)(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Av(this),0<this.B&&((this.K=function(e){return Bh&&Jh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ih(this.qa,this)):this.A=zd(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Sv(this,u)}},hh.qa=function(){"undefined"!=typeof mh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Td(this,"timeout"),this.abort(8))},hh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Td(this,"complete"),Td(this,"abort"),Nv(this))},hh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nv(this,!0)),Ev.X.M.call(this)},hh.Ha=function(){this.s||(this.F||this.v||this.l?Cv(this):this.fb())},hh.fb=function(){Cv(this)},hh.aa=function(){try{return 2<Dv(this)?this.g.status:-1}catch(iv){return-1}},hh.fa=function(){try{return this.g?this.g.responseText:""}catch(iv){return""}},hh.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xv(t)}},hh.Ea=function(){return this.m},hh.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(hh=Mv.prototype).ma=8,hh.G=1,hh.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new yp(this,this.j,e,void 0),n=this.s;if(this.S&&(n?fd(n=cd(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=qv(this,t,r),Up(i=Lp(this.F),"RID",e),Up(i,"CVER",22),this.D&&Up(i,"X-HTTP-Session-Id",this.D),zv(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Pv(n)))+"&"+r:this.o&&Ov(i,this.o,n)),cv(this.h,t),this.Ya&&Up(i,"TYPE","init"),this.O?(Up(i,"$req",r),Up(i,"SID","null"),t.Z=!0,xp(t,i,null)):xp(t,i,r),this.G=2}}else 3==this.G&&(e?Bv(this,e):0==this.i.length||ov(this.h)||Bv(this))},hh.Ia=function(){if(this.u=null,Wv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=op(Ih(this.eb,this),e)}},hh.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ip(10),jv(this),Wv(this))},hh.cb=function(){null!=this.v&&(this.v=null,jv(this),Gv(this),ip(19))},hh.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ip(2)):(this.j.info("Failed to ping google.com"),ip(1))},(hh=nm.prototype).xa=function(){},hh.wa=function(){},hh.va=function(){},hh.ua=function(){},hh.Ra=function(){},rm.prototype.g=function(e,t){return new im(e,t)},Sh(im,Sd),im.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ip(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=em(e,null,e.V),Vv(e)},im.prototype.close=function(){Fv(this.g)},im.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Nd(e),e=n);t.i.push(new nv(t.ab++,e)),3==t.G&&Vv(t)},im.prototype.M=function(){this.g.l=null,delete this.j,Fv(this.g),delete this.g,im.X.M.call(this)},Sh(am,pp),Sh(om,vp),Sh(um,nm),um.prototype.xa=function(){Td(this.g,"a")},um.prototype.wa=function(e){Td(this.g,new am(e))},um.prototype.va=function(e){Td(this.g,new om)},um.prototype.ua=function(){Td(this.g,"b")},rm.prototype.createWebChannel=rm.prototype.g,im.prototype.send=im.prototype.u,im.prototype.open=im.prototype.m,im.prototype.close=im.prototype.close,up.NO_ERROR=0,up.TIMEOUT=8,up.HTTP_ERROR=6,sp.COMPLETE="complete",fp.EventType=dp,dp.OPEN="a",dp.CLOSE="b",dp.ERROR="c",dp.MESSAGE="d",Sd.prototype.listen=Sd.prototype.N,Ev.prototype.listenOnce=Ev.prototype.O,Ev.prototype.getLastError=Ev.prototype.Oa,Ev.prototype.getLastErrorCode=Ev.prototype.Ea,Ev.prototype.getStatus=Ev.prototype.aa,Ev.prototype.getResponseJson=Ev.prototype.Sa,Ev.prototype.getResponseText=Ev.prototype.fa,Ev.prototype.send=Ev.prototype.da,Ev.prototype.setWithCredentials=Ev.prototype.Ka;var sm=vh.createWebChannelTransport=function(){return new rm},cm=vh.getStatEventTarget=function(){return ep()},lm=vh.ErrorCode=up,fm=vh.EventType=sp,hm=vh.Event=Xd,dm=vh.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},pm=vh.FetchXmlHttpFactory=mv,vm=vh.WebChannel=fp,mm=vh.XhrIo=Ev,ym="@firebase/firestore",gm=function(){function e(t){(0,We.Z)(this,e),this.uid=t}return(0,Qe.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();gm.UNAUTHENTICATED=new gm(null),gm.GOOGLE_CREDENTIALS=new gm("google-credentials-uid"),gm.FIRST_PARTY=new gm("first-party-uid"),gm.MOCK_USER=new gm("mock-user");var km="9.13.0",bm=new Or("@firebase/firestore");function wm(){return bm.logLevel}function xm(e){if(bm.logLevel<=Tr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Im);bm.debug.apply(bm,["Firestore (".concat(km,"): ").concat(e)].concat((0,He.Z)(i)))}}function Em(e){if(bm.logLevel<=Tr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Im);bm.error.apply(bm,["Firestore (".concat(km,"): ").concat(e)].concat((0,He.Z)(i)))}}function _m(e){if(bm.logLevel<=Tr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Im);bm.warn.apply(bm,["Firestore (".concat(km,"): ").concat(e)].concat((0,He.Z)(i)))}}function Im(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(km,") INTERNAL ASSERTION FAILED: ")+e;throw Em(t),new Error(t)}function Sm(e,t){e||Zm()}function Tm(e,t){return e}var Cm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nm=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,Qe.Z)(n)}(lr),Am=(0,Qe.Z)((function e(){var t=this;(0,We.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Dm=(0,Qe.Z)((function e(t,n){(0,We.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Rm=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Pm=function(){function e(t){(0,We.Z)(this,e),this.token=t,this.changeListener=null}return(0,Qe.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Om=function(){function e(t){(0,We.Z)(this,e),this.t=t,this.currentUser=gm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,Qe.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Am;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Am,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){xm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(xm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Am)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(xm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Sm("string"==typeof n.accessToken),new Dm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Sm(null===e||"string"==typeof e),new gm(e)}}]),e}(),Lm=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=gm.FIRST_PARTY,this.p=new Map}return(0,Qe.Z)(e,[{key:"I",value:function(){return this.g?this.g():(Sm(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Mm=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return(0,Qe.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new Lm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Fm=(0,Qe.Z)((function e(t){(0,We.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),jm=function(){function e(t){(0,We.Z)(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return(0,Qe.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&xm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,xm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){xm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):xm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Sm("string"==typeof t.token),e.A=t.token,new Fm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Um(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Vm=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Um(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Bm(e,t){return e<t?-1:e>t?1:0}function zm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function qm(e){return e+"\0"}var Km=function(){function e(t,n){if((0,We.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Nm(Cm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nm(Cm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Nm(Cm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nm(Cm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,Qe.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Bm(this.nanoseconds,e.nanoseconds):Bm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Gm=function(){function e(t){(0,We.Z)(this,e),this.timestamp=t}return(0,Qe.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Km(0,0))}},{key:"max",value:function(){return new e(new Km(253402300799,999999999))}}]),e}(),Hm=function(){function e(t,n,r){(0,We.Z)(this,e),void 0===n?n=0:n>t.length&&Zm(),void 0===r?r=t.length-n:r>t.length-n&&Zm(),this.segments=t,this.offset=n,this.len=r}return(0,Qe.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Wm=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,He.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Hm),Qm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ym=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Qm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Nm(Cm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Nm(Cm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Nm(Cm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Hm),$m=function(){function e(t){(0,We.Z)(this,e),this.path=t}return(0,Qe.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Wm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Wm.fromString(t))}},{key:"fromName",value:function(t){return new e(Wm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Wm.emptyPath())}},{key:"comparator",value:function(e,t){return Wm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Wm(t.slice()))}}]),e}(),Xm=(0,Qe.Z)((function e(t,n,r,i){(0,We.Z)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Jm(e){return e.fields.find((function(e){return 2===e.kind}))}function ey(e){return e.fields.filter((function(e){return 2!==e.kind}))}Xm.UNKNOWN_ID=-1;var ty=(0,Qe.Z)((function e(t,n){(0,We.Z)(this,e),this.fieldPath=t,this.kind=n}));var ny=function(){function e(t,n){(0,We.Z)(this,e),this.sequenceNumber=t,this.offset=n}return(0,Qe.Z)(e,null,[{key:"empty",value:function(){return new e(0,ay.min())}}]),e}();function ry(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gm.fromTimestamp(1e9===r?new Km(n+1,0):new Km(n,r));return new ay(i,$m.empty(),t)}function iy(e){return new ay(e.readTime,e.key,-1)}var ay=function(){function e(t,n,r){(0,We.Z)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,Qe.Z)(e,null,[{key:"min",value:function(){return new e(Gm.min(),$m.empty(),-1)}},{key:"max",value:function(){return new e(Gm.max(),$m.empty(),-1)}}]),e}();function oy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=$m.comparator(e.documentKey,t.documentKey))?n:Bm(e.largestBatchId,t.largestBatchId)}var uy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sy=function(){function e(){(0,We.Z)(this,e),this.onCommittedListeners=[]}return(0,Qe.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function cy(e){return ly.apply(this,arguments)}function ly(){return ly=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Cm.FAILED_PRECONDITION&&t.message===uy){e.next=2;break}throw t;case 2:xm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}var fy=function(){function e(t){var n=this;(0,We.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,Qe.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Zm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,Kn.Z)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),hy=function(){function e(t,n){var r=this;(0,We.Z)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Am,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new vy(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=by(e.target.error);r.P.reject(new vy(t,n))}}return(0,Qe.Z)(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(xm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new yy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new vy(n,t)}}}]),e}(),dy=function(){function e(t,n,r){(0,We.Z)(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Jn())&&Em("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,Qe.Z)(e,[{key:"F",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return xm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new vy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Nm(Cm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Nm(Cm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new vy(t,n))},i.onupgradeneeded=function(e){xm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){xm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield((0,bn.Z)().mark((function e(){var n,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=hy.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),fy.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,xm("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return xm("SimpleDb","Removing database:",e),gy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ir())return!1;if(e.N())return!0;var t=Jn(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/host-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),py=function(){function e(t){(0,We.Z)(this,e),this.U=t,this.q=!1,this.K=null}return(0,Qe.Z)(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return gy(this.U.delete())}}]),e}(),vy=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,Cm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,Qe.Z)(n)}(Nm);function my(e){return"IndexedDbTransactionError"===e.name}var yy=function(){function e(t){(0,We.Z)(this,e),this.store=t}return(0,Qe.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(xm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(xm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),gy(n)}},{key:"add",value:function(e){return xm("SimpleDb","ADD",this.store.name,e,e),gy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return gy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),xm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return xm("SimpleDb","DELETE",this.store.name,e),gy(this.store.delete(e))}},{key:"count",value:function(){return xm("SimpleDb","COUNT",this.store.name),gy(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new fy((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new fy((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){xm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new fy((function(n,r){t.onerror=function(e){var t=by(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new fy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new py(i),o=t(i.primaryKey,i.value,a);if(o instanceof fy){var u=o.catch((function(e){return a.done(),fy.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return fy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function gy(e){return new fy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=by(e.target.error);n(t)}}))}var ky=!1;function by(e){var t=dy.D(Jn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Nm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ky||(ky=!0,setTimeout((function(){throw r}),0)),r}}return e}var wy=function(){function e(t,n){(0,We.Z)(this,e),this.asyncQueue=t,this.et=n,this.task=null}return(0,Qe.Z)(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;xm("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=xm,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!my(e.t4)){e.next=17;break}xm("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,cy(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),xy=function(){function e(t,n){(0,We.Z)(this,e),this.localStore=t,this.persistence=n}return(0,Qe.Z)(e,[{key:"st",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n=this,r=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return fy.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return xm("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return xm("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=iy(t);oy(r,n)>0&&(n=r)})),new ay(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ey=function(){function e(t,n){var r=this;(0,We.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return(0,Qe.Z)(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function _y(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Iy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Ey.at=-1;var Sy=function(){function e(t,n){(0,We.Z)(this,e),this.comparator=t,this.root=n||Cy.EMPTY}return(0,Qe.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Cy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ty(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ty(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ty(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ty(this.root,e,this.comparator,!0)}}]),e}(),Ty=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,Qe.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Cy=function(){function e(t,n,r,i,a){(0,We.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,Qe.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Zm();if(this.right.isRed())throw Zm();var e=this.left.check();if(e!==this.right.check())throw Zm();return e+(this.isRed()?0:1)}}]),e}();Cy.EMPTY=null,Cy.RED=!0,Cy.BLACK=!1,Cy.EMPTY=new(function(){function e(){(0,We.Z)(this,e),this.size=0}return(0,Qe.Z)(e,[{key:"key",get:function(){throw Zm()}},{key:"value",get:function(){throw Zm()}},{key:"color",get:function(){throw Zm()}},{key:"left",get:function(){throw Zm()}},{key:"right",get:function(){throw Zm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Cy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ny=function(){function e(t){(0,We.Z)(this,e),this.comparator=t,this.data=new Sy(this.comparator)}return(0,Qe.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ay(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ay(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ay=function(){function e(t){(0,We.Z)(this,e),this.iter=t}return(0,Qe.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Dy(e){return e.hasNext()?e.getNext():void 0}var Ry=function(){function e(t){(0,We.Z)(this,e),this.fields=t,t.sort(Ym.comparator)}return(0,Qe.Z)(e,[{key:"unionWith",value:function(t){var n,r=new Ny(Ym.comparator),i=(0,Kn.Z)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=(0,Kn.Z)(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=(0,Kn.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return zm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Py=function(e){function t(e){(0,We.Z)(this,t),this.binaryString=e}return(0,Qe.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Bm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);Py.EMPTY_BYTE_STRING=new Py("");var Oy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ly(e){if(Sm(!!e),"string"==typeof e){var t=0,n=Oy.exec(e);if(Sm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:My(e.seconds),nanos:My(e.nanos)}}function My(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fy(e){return"string"==typeof e?Py.fromBase64String(e):Py.fromUint8Array(e)}function jy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Uy(e){var t=e.mapValue.fields.__previous_value__;return jy(t)?Uy(t):t}function Vy(e){var t=Ly(e.mapValue.fields.__local_write_time__.timestampValue);return new Km(t.seconds,t.nanos)}var By=(0,Qe.Z)((function e(t,n,r,i,a,o,u,s){(0,We.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),zy=function(){function e(t,n){(0,We.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,Qe.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function qy(e){return null==e}function Ky(e){return 0===e&&1/e==-1/0}function Gy(e){return"number"==typeof e&&Number.isInteger(e)&&!Ky(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Hy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wy={nullValue:"NULL_VALUE"};function Qy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jy(e)?4:cg(e)?9007199254740991:10:Zm()}function Yy(e,t){if(e===t)return!0;var n=Qy(e);if(n!==Qy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vy(e).isEqual(Vy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ly(e.timestampValue),r=Ly(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fy(e.bytesValue).isEqual(Fy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return My(e.geoPointValue.latitude)===My(t.geoPointValue.latitude)&&My(e.geoPointValue.longitude)===My(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return My(e.integerValue)===My(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=My(e.doubleValue),r=My(t.doubleValue);return n===r?Ky(n)===Ky(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zm(e.arrayValue.values||[],t.arrayValue.values||[],Yy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_y(n)!==_y(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yy(n[i],r[i])))return!1;return!0}(e,t);default:return Zm()}}function $y(e,t){return void 0!==(e.values||[]).find((function(e){return Yy(e,t)}))}function Xy(e,t){if(e===t)return 0;var n=Qy(e),r=Qy(t);if(n!==r)return Bm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=My(e.integerValue||e.doubleValue),r=My(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jy(e.timestampValue,t.timestampValue);case 4:return Jy(Vy(e),Vy(t));case 5:return Bm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Fy(e),r=Fy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Bm(n[i],r[i]);if(0!==a)return a}return Bm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Bm(My(e.latitude),My(t.latitude));return 0!==n?n:Bm(My(e.longitude),My(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Xy(n[i],r[i]);if(a)return a}return Bm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Hy.mapValue&&t===Hy.mapValue)return 0;if(e===Hy.mapValue)return 1;if(t===Hy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Bm(r[o],a[o]);if(0!==u)return u;var s=Xy(n[r[o]],i[a[o]]);if(0!==s)return s}return Bm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Zm()}}function Jy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bm(e,t);var n=Ly(e),r=Ly(t),i=Bm(n.seconds,r.seconds);return 0!==i?i:Bm(n.nanos,r.nanos)}function eg(e){return tg(e)}function tg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ly(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$m.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,Kn.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=tg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=(0,Kn.Z)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(tg(e.fields[o]))}}catch(u){a.e(u)}finally{a.f()}return r+"}"}(e.mapValue):Zm();var t,n}function ng(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function rg(e){return!!e&&"integerValue"in e}function ig(e){return!!e&&"arrayValue"in e}function ag(e){return!!e&&"nullValue"in e}function og(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ug(e){return!!e&&"mapValue"in e}function sg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Iy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=sg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=sg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function cg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function lg(e){return"nullValue"in e?Wy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ng(zy.empty(),$m.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Zm()}function fg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ng(zy.empty(),$m.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Hy:Zm()}function hg(e,t){var n=Xy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function dg(e,t){var n=Xy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var pg=function(){function e(t){(0,We.Z)(this,e),this.value=t}return(0,Qe.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ug(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sg(t)}},{key:"setAll",value:function(e){var t=this,n=Ym.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=sg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ug(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Yy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ug(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Iy(t,(function(t,n){return e[t]=n}));var r,i=(0,Kn.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(sg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function vg(e){var t=[];return Iy(e.fields,(function(e,n){var r=new Ym([e]);if(ug(n)){var i=vg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=(0,Kn.Z)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ry(t)}var mg=function(){function e(t,n,r,i,a,o){(0,We.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return(0,Qe.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=pg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=pg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Gm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Gm.min(),Gm.min(),pg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Gm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Gm.min(),pg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Gm.min(),pg.empty(),2)}}]),e}(),yg=(0,Qe.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,We.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function gg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new yg(e,t,n,r,i,a,o)}function kg(e){var t=Tm(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+eg(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),qy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return eg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return eg(e)})).join(",")),t.ht=n}return t.ht}function bg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Lg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Yy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fg(e.startAt,t.startAt)&&Fg(e.endAt,t.endAt)}function wg(e){return $m.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function xg(e,t){return e.filters.filter((function(e){return e instanceof Ig&&e.field.isEqual(t)}))}function Eg(e,t,n){var r,i=Wy,a=!0,o=(0,Kn.Z)(xg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Wy,c=!0;switch(u.op){case"<":case"<=":s=lg(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Wy}hg({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];hg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function _g(e,t,n){var r,i=Hy,a=!0,o=(0,Kn.Z)(xg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Hy,c=!0;switch(u.op){case">=":case">":s=fg(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Hy}dg({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];dg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ig=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a;return(0,We.Z)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,Qe.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Xy(t,this.value)):null!==t&&Qy(this.value)===Qy(t)&&this.ft(Xy(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zm()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Zg(e,t,r):"array-contains"===t?new Ng(e,r):"in"===t?new Ag(e,r):"not-in"===t?new Dg(e,r):"array-contains-any"===t?new Rg(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Sg(e,n):new Tg(e,n)}}]),n}(function(){return(0,Qe.Z)((function e(){(0,We.Z)(this,e)}))}()),Zg=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a;return(0,We.Z)(this,n),(a=t.call(this,e,r,i)).key=$m.fromName(i.referenceValue),a}return(0,Qe.Z)(n,[{key:"matches",value:function(e){var t=$m.comparator(e.key,this.key);return this.ft(t)}}]),n}(Ig),Sg=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e,"in",r)).keys=Cg("in",r),i}return(0,Qe.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ig),Tg=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e,"not-in",r)).keys=Cg("not-in",r),i}return(0,Qe.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ig);function Cg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return $m.fromName(e.referenceValue)}))}var Ng=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){return(0,We.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,Qe.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ig(t)&&$y(t.arrayValue,this.value)}}]),n}(Ig),Ag=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){return(0,We.Z)(this,n),t.call(this,e,"in",r)}return(0,Qe.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&$y(this.value.arrayValue,t)}}]),n}(Ig),Dg=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){return(0,We.Z)(this,n),t.call(this,e,"not-in",r)}return(0,Qe.Z)(n,[{key:"matches",value:function(e){if($y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!$y(this.value.arrayValue,t)}}]),n}(Ig),Rg=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){return(0,We.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,Qe.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return $y(t.value.arrayValue,e)}))}}]),n}(Ig),Pg=(0,Qe.Z)((function e(t,n){(0,We.Z)(this,e),this.position=t,this.inclusive=n})),Og=(0,Qe.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,We.Z)(this,e),this.field=t,this.dir=n}));function Lg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Mg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?$m.comparator($m.fromName(o.referenceValue),n.key):Xy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Fg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Yy(e.position[n],t.position[n]))return!1;return!0}var jg=(0,Qe.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,We.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Ug(e,t,n,r,i,a,o,u){return new jg(e,t,n,r,i,a,o,u)}function Vg(e){return new jg(e)}function Bg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qg(e){var t,n=(0,Kn.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Kg(e){return null!==e.collectionGroup}function Gg(e){var t=Tm(e);if(null===t._t){t._t=[];var n=qg(t),r=zg(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Og(n)),t._t.push(new Og(Ym.keyField(),"asc"));else{var i,a=!1,o=(0,Kn.Z)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Og(Ym.keyField(),s))}}}return t._t}function Hg(e){var t=Tm(e);if(!t.wt)if("F"===t.limitType)t.wt=gg(t.path,t.collectionGroup,Gg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=(0,Kn.Z)(Gg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Og(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Pg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Pg(t.startAt.position,t.startAt.inclusive):null;t.wt=gg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Wg(e,t,n){return new jg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qg(e,t){return bg(Hg(e),Hg(t))&&e.limitType===t.limitType}function Yg(e){return"".concat(kg(Hg(e)),"|lt:").concat(e.limitType)}function $g(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(eg(t.value));var t})).join(", "),"]")),qy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return eg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return eg(e)})).join(",")),"Target(".concat(t,")")}(Hg(e)),"; limitType=").concat(e.limitType,")")}function Xg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$m.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,Kn.Z)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,Kn.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Mg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gg(e),t))&&!(e.endAt&&!function(e,t,n){var r=Mg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gg(e),t))}(e,t)}function Jg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ek(e){return function(t,n){var r,i=!1,a=(0,Kn.Z)(Gg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=tk(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function tk(e,t,n){var r=e.field.isKeyField()?$m.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xy(r,i):Zm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zm()}}function nk(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ky(t)?"-0":t}}function rk(e){return{integerValue:""+e}}function ik(e,t){return Gy(t)?rk(t):nk(e,t)}var ak=(0,Qe.Z)((function e(){(0,We.Z)(this,e),this._=void 0}));function ok(e,t,n){return e instanceof ck?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof lk?fk(e,t):e instanceof hk?dk(e,t):function(e,t){var n=sk(e,t),r=vk(n)+vk(e.yt);return rg(n)&&rg(e.yt)?rk(r):nk(e.It,r)}(e,t)}function uk(e,t,n){return e instanceof lk?fk(e,t):e instanceof hk?dk(e,t):n}function sk(e,t){return e instanceof pk?rg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ck=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n)}(ak),lk=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,Qe.Z)(n)}(ak);function fk(e,t){var n,r=mk(t),i=(0,Kn.Z)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Yy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hk=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,Qe.Z)(n)}(ak);function dk(e,t){var n,r=mk(t),i=(0,Kn.Z)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Yy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pk=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this)).It=e,i.yt=r,i}return(0,Qe.Z)(n)}(ak);function vk(e){return My(e.integerValue||e.doubleValue)}function mk(e){return ig(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var yk=(0,Qe.Z)((function e(t,n){(0,We.Z)(this,e),this.field=t,this.transform=n}));var gk=(0,Qe.Z)((function e(t,n){(0,We.Z)(this,e),this.version=t,this.transformResults=n})),kk=function(){function e(t,n){(0,We.Z)(this,e),this.updateTime=t,this.exists=n}return(0,Qe.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function bk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var wk=(0,Qe.Z)((function e(){(0,We.Z)(this,e)}));function xk(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Pk(e.key,kk.none()):new Sk(e.key,e.data,kk.none());var n,r=e.data,i=pg.empty(),a=new Ny(Ym.comparator),o=(0,Kn.Z)(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Tk(e.key,i,new Ry(a.toArray()),kk.none())}function Ek(e,t,n){e instanceof Sk?function(e,t,n){var r=e.value.clone(),i=Nk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tk?function(e,t,n){if(bk(e.precondition,t)){var r=Nk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ck(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _k(e,t,n,r){return e instanceof Sk?function(e,t,n,r){if(!bk(e.precondition,t))return n;var i=e.value.clone(),a=Ak(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tk?function(e,t,n,r){if(!bk(e.precondition,t))return n;var i=Ak(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ck(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return bk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ik(e,t){var n,r=null,i=(0,Kn.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=sk(a.transform,o||null);null!=u&&(null===r&&(r=pg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Zk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof lk&&t instanceof lk||e instanceof hk&&t instanceof hk?zm(e.elements,t.elements,Yy):e instanceof pk&&t instanceof pk?Yy(e.yt,t.yt):e instanceof ck&&t instanceof ck}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Sk=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,We.Z)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,Qe.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(wk),Tk=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,We.Z)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,Qe.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(wk);function Ck(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Nk(e,t,n){var r=new Map;Sm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,uk(o,u,n[i]))}return r}function Ak(e,t,n){var r,i=new Map,a=(0,Kn.Z)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ok(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Dk,Rk,Pk=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,Qe.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(wk),Ok=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,Qe.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(wk),Lk=(0,Qe.Z)((function e(t){(0,We.Z)(this,e),this.count=t}));function Mk(e){switch(e){default:return Zm();case Cm.CANCELLED:case Cm.UNKNOWN:case Cm.DEADLINE_EXCEEDED:case Cm.RESOURCE_EXHAUSTED:case Cm.INTERNAL:case Cm.UNAVAILABLE:case Cm.UNAUTHENTICATED:return!1;case Cm.INVALID_ARGUMENT:case Cm.NOT_FOUND:case Cm.ALREADY_EXISTS:case Cm.PERMISSION_DENIED:case Cm.FAILED_PRECONDITION:case Cm.ABORTED:case Cm.OUT_OF_RANGE:case Cm.UNIMPLEMENTED:case Cm.DATA_LOSS:return!0}}function Fk(e){if(void 0===e)return Em("GRPC error has no .code"),Cm.UNKNOWN;switch(e){case Dk.OK:return Cm.OK;case Dk.CANCELLED:return Cm.CANCELLED;case Dk.UNKNOWN:return Cm.UNKNOWN;case Dk.DEADLINE_EXCEEDED:return Cm.DEADLINE_EXCEEDED;case Dk.RESOURCE_EXHAUSTED:return Cm.RESOURCE_EXHAUSTED;case Dk.INTERNAL:return Cm.INTERNAL;case Dk.UNAVAILABLE:return Cm.UNAVAILABLE;case Dk.UNAUTHENTICATED:return Cm.UNAUTHENTICATED;case Dk.INVALID_ARGUMENT:return Cm.INVALID_ARGUMENT;case Dk.NOT_FOUND:return Cm.NOT_FOUND;case Dk.ALREADY_EXISTS:return Cm.ALREADY_EXISTS;case Dk.PERMISSION_DENIED:return Cm.PERMISSION_DENIED;case Dk.FAILED_PRECONDITION:return Cm.FAILED_PRECONDITION;case Dk.ABORTED:return Cm.ABORTED;case Dk.OUT_OF_RANGE:return Cm.OUT_OF_RANGE;case Dk.UNIMPLEMENTED:return Cm.UNIMPLEMENTED;case Dk.DATA_LOSS:return Cm.DATA_LOSS;default:return Zm()}}(Rk=Dk||(Dk={}))[Rk.OK=0]="OK",Rk[Rk.CANCELLED=1]="CANCELLED",Rk[Rk.UNKNOWN=2]="UNKNOWN",Rk[Rk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rk[Rk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rk[Rk.NOT_FOUND=5]="NOT_FOUND",Rk[Rk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rk[Rk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rk[Rk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rk[Rk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rk[Rk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rk[Rk.ABORTED=10]="ABORTED",Rk[Rk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rk[Rk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rk[Rk.INTERNAL=13]="INTERNAL",Rk[Rk.UNAVAILABLE=14]="UNAVAILABLE",Rk[Rk.DATA_LOSS=15]="DATA_LOSS";var jk=function(){function e(t,n){(0,We.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,Qe.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=(0,Kn.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Me.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Iy(this.inner,(function(t,n){var r,i=(0,Kn.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Me.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Zy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Uk=new Sy($m.comparator);function Vk(){return Uk}var Bk=new Sy($m.comparator);function zk(){for(var e=Bk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function qk(e){var t=Bk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Kk(){return Hk()}function Gk(){return Hk()}function Hk(){return new jk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Wk=new Sy($m.comparator),Qk=new Ny($m.comparator);function Yk(){for(var e=Qk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var $k=new Ny(Bm);function Xk(){return $k}var Jk=function(){function e(t,n,r,i,a){(0,We.Z)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,Qe.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,eb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Gm.min(),i,Xk(),Vk(),Yk())}}]),e}(),eb=function(){function e(t,n,r,i,a){(0,We.Z)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,Qe.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Yk(),Yk(),Yk())}}]),e}(),tb=(0,Qe.Z)((function e(t,n,r,i){(0,We.Z)(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),nb=(0,Qe.Z)((function e(t,n){(0,We.Z)(this,e),this.targetId=t,this.At=n})),rb=(0,Qe.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Py.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,We.Z)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ib=function(){function e(){(0,We.Z)(this,e),this.Rt=0,this.bt=ub(),this.Pt=Py.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return(0,Qe.Z)(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Yk(),t=Yk(),n=Yk();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zm()}})),new eb(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=ub()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),ab=function(){function e(t){(0,We.Z)(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Vk(),this.qt=ob(),this.Kt=new Ny(Bm)}return(0,Qe.Z)(e,[{key:"Gt",value:function(e){var t,n=(0,Kn.Z)(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=(0,Kn.Z)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Zm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(wg(i))if(0===n){var a=new $m(i.path);this.jt(t,a,mg.newNoDocument(a,Gm.min()))}else Sm(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&wg(a.target)){var o=new $m(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,mg.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Yk();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Jk(e,n,this.Kt,this.Ut,r);return this.Ut=Vk(),this.qt=ob(),this.Kt=new Ny(Bm),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new ib,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Ny(Bm),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||xm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new ib),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ob(){return new Sy($m.comparator)}function ub(){return new Sy($m.comparator)}var sb={asc:"ASCENDING",desc:"DESCENDING"},cb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lb=(0,Qe.Z)((function e(t,n){(0,We.Z)(this,e),this.databaseId=t,this.gt=n}));function fb(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function hb(e,t){return e.gt?t.toBase64():t.toUint8Array()}function db(e,t){return fb(e,t.toTimestamp())}function pb(e){return Sm(!!e),Gm.fromTimestamp(function(e){var t=Ly(e);return new Km(t.seconds,t.nanos)}(e))}function vb(e,t){return function(e){return new Wm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mb(e){var t=Wm.fromString(e);return Sm(jb(t)),t}function yb(e,t){return vb(e.databaseId,t.path)}function gb(e,t){var n=mb(t);if(n.get(1)!==e.databaseId.projectId)throw new Nm(Cm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nm(Cm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $m(xb(n))}function kb(e,t){return vb(e.databaseId,t)}function bb(e){var t=mb(e);return 4===t.length?Wm.emptyPath():xb(t)}function wb(e){return new Wm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xb(e){return Sm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Eb(e,t,n){return{name:yb(e,t),fields:n.value.mapValue.fields}}function _b(e,t,n){var r=gb(e,t.name),i=pb(t.updateTime),a=new pg({mapValue:{fields:t.fields}}),o=mg.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Ib(e,t){return"found"in t?function(e,t){Sm(!!t.found),t.found.name,t.found.updateTime;var n=gb(e,t.found.name),r=pb(t.found.updateTime),i=new pg({mapValue:{fields:t.found.fields}});return mg.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Sm(!!t.missing),Sm(!!t.readTime);var n=gb(e,t.missing),r=pb(t.readTime);return mg.newNoDocument(n,r)}(e,t):Zm()}function Zb(e,t){var n;if(t instanceof Sk)n={update:Eb(e,t.key,t.value)};else if(t instanceof Pk)n={delete:yb(e,t.key)};else if(t instanceof Tk)n={update:Eb(e,t.key,t.data),updateMask:Fb(t.fieldMask)};else{if(!(t instanceof Ok))return Zm();n={verify:yb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ck)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pk)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Zm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:db(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zm()}(e,t.precondition)),n}function Sb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?kk.updateTime(pb(e.updateTime)):void 0!==e.exists?kk.exists(e.exists):kk.none()}(t.currentDocument):kk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Sm("REQUEST_TIME"===t.setToServerValue),n=new ck;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new lk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new hk(i)}else"increment"in t?n=new pk(e,t.increment):Zm();var a=Ym.fromServerFormat(t.fieldPath);return new yk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=gb(e,t.update.name),a=new pg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ry(t.map((function(e){return Ym.fromServerFormat(e)})))}(t.updateMask);return new Tk(i,a,o,n,r)}return new Sk(i,a,n,r)}if(t.delete){var u=gb(e,t.delete);return new Pk(u,n)}if(t.verify){var s=gb(e,t.verify);return new Ok(s,n)}return Zm()}function Tb(e,t){return{documents:[kb(e,t.path)]}}function Cb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(og(e.value))return{unaryFilter:{field:Pb(e.field),op:"IS_NAN"}};if(ag(e.value))return{unaryFilter:{field:Pb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(og(e.value))return{unaryFilter:{field:Pb(e.field),op:"IS_NOT_NAN"}};if(ag(e.value))return{unaryFilter:{field:Pb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pb(e.field),op:Rb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Pb(e.field),direction:Db(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||qy(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Nb(e){var t=bb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ab(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Og(Ob(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return qy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Pg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Pg(n,t)}(n.endAt)),Ug(t,i,u,o,s,"F",c,l)}function Ab(e){return e?void 0!==e.unaryFilter?[Mb(e)]:void 0!==e.fieldFilter?[Lb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ab(e)})).reduce((function(e,t){return e.concat(t)})):Zm():[]}function Db(e){return sb[e]}function Rb(e){return cb[e]}function Pb(e){return{fieldPath:e.canonicalString()}}function Ob(e){return Ym.fromServerFormat(e.fieldPath)}function Lb(e){return Ig.create(Ob(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zm()}}(e.fieldFilter.op),e.fieldFilter.value)}function Mb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ob(e.unaryFilter.field);return Ig.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ob(e.unaryFilter.field);return Ig.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ob(e.unaryFilter.field);return Ig.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ob(e.unaryFilter.field);return Ig.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zm()}}function Fb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ub(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Bb(t)),t=Vb(e.get(n),t);return Bb(t)}function Vb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Bb(e){return e+"\x01\x01"}function zb(e){var t=e.length;if(Sm(t>=2),2===t)return Sm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Wm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Zm(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Zm()}a=o+2}return new Wm(r)}var qb=["userId","batchId"];function Kb(e,t){return[e,Ub(t)]}function Gb(e,t,n){return[e,Ub(t),n]}var Hb={},Wb=["prefixPath","collectionGroup","readTime","documentId"],Qb=["prefixPath","collectionGroup","documentId"],Yb=["collectionGroup","readTime","prefixPath","documentId"],$b=["canonicalId","targetId"],Xb=["targetId","path"],Jb=["path","targetId"],ew=["collectionId","parent"],tw=["indexId","uid"],nw=["uid","sequenceNumber"],rw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iw=["indexId","uid","orderedDocumentKey"],aw=["userId","collectionPath","documentId"],ow=["userId","collectionPath","largestBatchId"],uw=["userId","collectionGroup","largestBatchId"],sw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),cw=[].concat((0,He.Z)(sw),["documentOverlays"]),lw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fw=lw,hw=[].concat(fw,["indexConfiguration","indexState","indexEntries"]),dw=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return(0,Qe.Z)(n)}(sy);function pw(e,t){var n=Tm(e);return dy.M(n.ie,t)}var vw=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,Qe.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ek(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=(0,Kn.Z)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=_k(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=(0,Kn.Z)(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=_k(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Gk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=xk(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Gm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Yk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&zm(this.mutations,e.mutations,(function(e,t){return Zk(e,t)}))&&zm(this.baseMutations,e.baseMutations,(function(e,t){return Zk(e,t)}))}}]),e}(),mw=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,Qe.Z)(e,null,[{key:"from",value:function(t,n,r){Sm(t.mutations.length===r.length);for(var i=Wk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yw=function(){function e(t,n){(0,We.Z)(this,e),this.largestBatchId=t,this.mutation=n}return(0,Qe.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Py.EMPTY_BYTE_STRING;(0,We.Z)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,Qe.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),kw=(0,Qe.Z)((function e(t){(0,We.Z)(this,e),this.re=t}));function bw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ww(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:yb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:fb(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xw(t.version)};else{if(!t.isUnknownDocument())return Zm();r.unknownDocument={path:n.path.toArray(),version:xw(t.version)}}return r}function ww(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ew(e){var t=new Km(e.seconds,e.nanoseconds);return Gm.fromTimestamp(t)}function _w(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Sb(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Sb(e.re,t)})),u=Km.fromMillis(t.localWriteTimeMs);return new vw(t.batchId,u,n,o)}function Iw(e){var t,n,r=Ew(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ew(e.lastLimboFreeSnapshotVersion):Gm.min();return void 0!==e.query.documents?(Sm(1===(n=e.query).documents.length),t=Hg(Vg(bb(n.documents[0])))):t=function(e){return Hg(Nb(e))}(e.query),new gw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Py.fromBase64String(e.resumeToken))}function Zw(e,t){var n,r=xw(t.snapshotVersion),i=xw(t.lastLimboFreeSnapshotVersion);n=wg(t.target)?Tb(e.re,t.target):Cb(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:kg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Sw(e){var t=Nb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wg(t,t.limit,"L"):t}function Tw(e,t){return new yw(t.largestBatchId,Sb(e.re,t.overlayMutation))}function Cw(e,t){var n=t.path.lastSegment();return[e,Ub(t.path.popLast()),n]}function Nw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:xw(r.readTime),documentKey:Ub(r.documentKey.path),largestBatchId:r.largestBatchId}}var Aw=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Dw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ew(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Dw(e).put({bundleId:(n=t).id,createTime:xw(pb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Rw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Sw(t.bundledQuery),readTime:Ew(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Rw(e).put(function(e){return{name:e.name,readTime:xw(pb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Dw(e){return pw(e,"bundles")}function Rw(e){return pw(e,"namedQueries")}var Pw=function(){function e(t,n){(0,We.Z)(this,e),this.It=t,this.userId=n}return(0,Qe.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ow(e).get(Cw(this.userId,t)).next((function(e){return e?Tw(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Kk();return fy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new yw(t,a);i.push(r.ue(e,o))})),fy.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ub(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ow(e).Y("collectionPathOverlayIndex",i))})),fy.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Kk(),a=Ub(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ow(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=(0,Kn.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Tw(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Kk(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ow(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Tw(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return Ow(e).put(function(e,t,n){var r=Cw(t,n.mutation.key),i=(0,Me.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Zb(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ow(e){return pw(e,"documentOverlays")}var Lw=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(My(e.integerValue));else if("doubleValue"in e){var n=My(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Ky(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Fy(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?cg(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Zm()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=(0,Kn.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),$m.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Mw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Fw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Mw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Lw.Te=new Lw;var jw=function(){function e(){(0,We.Z)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,Qe.Z)(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=(0,Kn.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=(0,Kn.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Fw(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Fw(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Uw=function(){function e(t){(0,We.Z)(this,e),this.Be=t}return(0,Qe.Z)(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Vw=function(){function e(t){(0,We.Z)(this,e),this.Be=t}return(0,Qe.Z)(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),Bw=function(){function e(){(0,We.Z)(this,e),this.Be=new jw,this.Le=new Uw(this.Be),this.Ue=new Vw(this.Be)}return(0,Qe.Z)(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),zw=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,Qe.Z)(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function qw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Kw(e.arrayValue,t.arrayValue))?n:0!==(n=Kw(e.directionalValue,t.directionalValue))?n:$m.comparator(e.documentKey,t.documentKey)}function Kw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Gw=function(){function e(t){(0,We.Z)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=(0,Kn.Z)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return(0,Qe.Z)(e,[{key:"We",value:function(e){var t=Jm(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=ey(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=(0,Kn.Z)(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Hw=function(){function e(){(0,We.Z)(this,e),this.Ye=new Ww}return(0,Qe.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),fy.resolve()}},{key:"getCollectionParents",value:function(e,t){return fy.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fy.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fy.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fy.resolve(null)}},{key:"getIndexType",value:function(e,t){return fy.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return fy.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fy.resolve(null)}},{key:"getMinOffset",value:function(e,t){return fy.resolve(ay.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return fy.resolve(ay.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return fy.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fy.resolve()}}]),e}(),Ww=function(){function e(){(0,We.Z)(this,e),this.index={}}return(0,Qe.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ny(Wm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ny(Wm.comparator)).toArray()}}]),e}(),Qw=new Uint8Array(0),Yw=function(){function e(t,n){(0,We.Z)(this,e),this.user=t,this.databaseId=n,this.Xe=new Ww,this.Ze=new jk((function(e){return kg(e)}),(function(e,t){return bg(e,t)})),this.uid=t.uid||""}return(0,Qe.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Ub(i)};return $w(e).put(a)}return fy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[qm(t),""],!1,!0);return $w(e).W(r).next((function(e){var r,i=(0,Kn.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(zb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Jw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ex(e);return a.next((function(e){o.put(Nw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Jw(e),r=ex(e),i=Xw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Xw(e),i=!0,a=new Map;return fy.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Yk(),o=[];return fy.forEach(a,(function(i,a){var u;xm("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(kg(t)));var s=function(e,t){var n=Jm(t);if(void 0===n)return null;var r,i=(0,Kn.Z)(xg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=(0,Kn.Z)(ey(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=(0,Kn.Z)(xg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=(0,Kn.Z)(ey(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Eg(e,o.fieldPath,e.startAt):_g(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Pg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=(0,Kn.Z)(ey(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?_g(e,o.fieldPath,e.endAt):Eg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Pg(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return fy.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=$m.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return fy.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):Qw,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,(0,He.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new zw(e,$m.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new zw(e,$m.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Gw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=(0,Kn.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return fy.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ny(Ym.comparator),r=!1,i=(0,Kn.Z)(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=(0,Kn.Z)(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Bw,i=(0,Kn.Z)(ey(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Lw.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Bw;return Lw.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Bw;return Lw.Te.ce(ng(this.databaseId,t),n.qe(function(e){var t=ey(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Bw);var i,a=0,o=(0,Kn.Z)(ey(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=(0,Kn.Z)(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&ig(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);Lw.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=(0,He.Z)(e),a=[],o=(0,Kn.Z)(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=(0,Kn.Z)(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Bw;f.seed(l.$e()),Lw.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ig&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Jw(e),i=ex(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return fy.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ny(t.sequenceNumber,new ay(Ew(t.readTime),new $m(zb(t.documentKey)),t.largestBatchId)):ny.empty(),r=e.fields.map((function(e){var t=(0,Me.Z)(e,2),n=t[0],r=t[1];return new ty(Ym.fromServerFormat(n),r)}));return new Xm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Bm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Jw(e),a=ex(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return fy.forEach(t,(function(t){return a.put(Nw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return fy.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?fy.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),fy.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?fy.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Xw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Xw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Xw(e),i=new Ny(qw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new zw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Ny(qw),r=this.an(t,e);if(null==r)return n;var i=Jm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ig(a)){var o,u=(0,Kn.Z)(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new zw(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new zw(t.indexId,e.key,Qw,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;xm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Dy(a),s=Dy(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Dy(o)):l?(i(u),u=Dy(a)):(u=Dy(a),s=Dy(o))}}(r,i,qw,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),fy.waitFor(o)}},{key:"_n",value:function(e){var t=1;return ex(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return qw(e,t)})).filter((function(e,t,n){return!t||0!==qw(e,n[t-1])}));var r=[];r.push(e);var i,a=(0,Kn.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=qw(o,e),s=qw(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Qw,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Qw,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(tx)}},{key:"getMinOffset",value:function(e,t){var n=this;return fy.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Zm()}))})).next(tx)}}]),e}();function $w(e){return pw(e,"collectionParents")}function Xw(e){return pw(e,"indexEntries")}function Jw(e){return pw(e,"indexConfiguration")}function ex(e){return pw(e,"indexState")}function tx(e){Sm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;oy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ay(t.readTime,t.documentKey,n)}var nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rx=function(){function e(t,n,r){(0,We.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,Qe.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ix(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Sm(1===u)})));var c,l=[],f=(0,Kn.Z)(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Gb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return fy.waitFor(a).next((function(){return l}))}function ax(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zm();t=e.noDocument}return JSON.stringify(t).length}rx.DEFAULT_COLLECTION_PERCENTILE=10,rx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rx.DEFAULT=new rx(41943040,rx.DEFAULT_COLLECTION_PERCENTILE,rx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rx.DISABLED=new rx(-1,0,0);var ox=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return(0,Qe.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sx(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=cx(e),o=sx(e);return o.add({}).next((function(u){Sm("number"==typeof u);var s,c=new vw(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Zb(e.re,t)})),i=n.mutations.map((function(t){return Zb(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Ny((function(e,t){return Bm(e.canonicalString(),t.canonicalString())})),d=(0,Kn.Z)(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Gb(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Hb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),fy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return sx(e).get(t).next((function(e){return e?(Sm(e.userId===n.userId),_w(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?fy.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return sx(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Sm(t.batchId>=r),a=_w(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sx(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sx(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return _w(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Kb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return cx(e).Z({range:i},(function(r,i,o){var u=(0,Me.Z)(r,3),s=u[0],c=u[1],l=u[2],f=zb(c);if(s===n.userId&&t.path.isEqual(f))return sx(e).get(l).next((function(e){if(!e)throw Zm();Sm(e.userId===n.userId),a.push(_w(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ny(Bm),i=[];return t.forEach((function(t){var a=Kb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=cx(e).Z({range:o},(function(e,i,a){var o=(0,Me.Z)(e,3),u=o[0],s=o[1],c=o[2],l=zb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),fy.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Kb(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ny(Bm);return cx(e).Z({range:o},(function(e,t,a){var o=(0,Me.Z)(e,3),s=o[0],c=o[1],l=o[2],f=zb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sx(e).get(t).next((function(e){if(null===e)throw Zm();Sm(e.userId===n.userId),r.push(_w(n.It,e))})))})),fy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ix(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),fy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return fy.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return cx(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=zb(e[1]);i.push(a)}else r.done()})).next((function(){Sm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ux(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return lx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Sm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ux(e,t,n){var r=Kb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return cx(e).Z({range:a,X:!0},(function(e,n,r){var a=(0,Me.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function sx(e){return pw(e,"mutations")}function cx(e){return pw(e,"documentMutations")}function lx(e){return pw(e,"mutationQueues")}var fx=function(){function e(t){(0,We.Z)(this,e),this.bn=t}return(0,Qe.Z)(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),hx=function(){function e(t,n){(0,We.Z)(this,e),this.referenceDelegate=t,this.It=n}return(0,Qe.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new fx(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Gm.fromTimestamp(new Km(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return dx(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Sm(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return dx(e).Z((function(o,u){var s=Iw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return fy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return dx(e).Z((function(e,n){var r=Iw(n);t(r)}))}},{key:"Vn",value:function(e){return px(e).get("targetGlobalKey").next((function(e){return Sm(null!==e),e}))}},{key:"Sn",value:function(e,t){return px(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return dx(e).put(Zw(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=kg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dx(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Iw(n);bg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=vx(e);return t.forEach((function(t){var o=Ub(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),fy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=vx(e);return fy.forEach(t,(function(t){var a=Ub(t.path);return fy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=vx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=vx(e),i=Yk();return r.Z({range:n,X:!0},(function(e,t,n){var r=zb(e[1]),a=new $m(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ub(t.path),r=IDBKeyRange.bound([n],[qm(n)],!1,!0),i=0;return vx(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=(0,Me.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return dx(e).get(t).next((function(e){return e?Iw(e):null}))}}]),e}();function dx(e){return pw(e,"targets")}function px(e){return pw(e,"targetGlobal")}function vx(e){return pw(e,"targetDocuments")}function mx(e,t){var n=(0,Me.Z)(e,2),r=n[0],i=n[1],a=(0,Me.Z)(t,2),o=a[0],u=a[1],s=Bm(r,o);return 0===s?Bm(i,u):s}var yx=function(){function e(t){(0,We.Z)(this,e),this.xn=t,this.buffer=new Ny(mx),this.Nn=0}return(0,Qe.Z)(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();mx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),gx=function(){function e(t,n,r){(0,We.Z)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return(0,Qe.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;xm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!my(e.t0)){e.next=12;break}xm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,cy(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),kx=function(){function e(t,n){(0,We.Z)(this,e),this.$n=t,this.params=n}return(0,Qe.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return fy.resolve(Ey.at);var r=new yx(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(xm("LruGarbageCollector","Garbage collection skipped; disabled"),fy.resolve(nx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(xm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),nx):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(xm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),wm()<=Tr.DEBUG&&xm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),fy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),bx=function(){function e(t,n){(0,We.Z)(this,e),this.db=t,this.garbageCollector=function(e,t){return new kx(e,t)}(this,n)}return(0,Qe.Z)(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return wx(e,n)}},{key:"removeReference",value:function(e,t,n){return wx(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return wx(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return lx(e).tt((function(r){return ux(e,r,t).next((function(e){return e&&(n=!0),fy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Gm.min()),vx(e).delete([0,Ub(o.path)])}))}));i.push(s)}})).next((function(){return fy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return wx(e,t)}},{key:"Kn",value:function(e,t){var n,r=vx(e),i=Ey.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=(0,Me.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Ey.at&&t(new $m(zb(n)),i),i=s,n=u):i=Ey.at})).next((function(){i!==Ey.at&&t(new $m(zb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function wx(e,t){return vx(e).put(function(e,t){return{targetId:0,path:Ub(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var xx=function(){function e(){(0,We.Z)(this,e),this.changes=new jk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,Qe.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,mg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fy.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ex=function(){function e(t){(0,We.Z)(this,e),this.It=t}return(0,Qe.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Sx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Sx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ww(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=mg.newInvalidDocument(t);return Sx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Tx(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:mg.newInvalidDocument(t)};return Sx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Tx(t))},(function(e,i){r={document:n.jn(t,i),size:ax(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Vk();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Vk(),i=new Sy($m.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,ax(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return fy.resolve();var r=new Ny(Nx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Tx(r.first()),Tx(r.last())),a=r.getIterator(),o=a.getNext();return Sx(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=$m.fromSegments([].concat((0,He.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Nx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Tx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ww(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sx(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Vk(),i=(0,Kn.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn($m.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Vk(),o=Cx(t,n),u=Cx(t,ay.max());return Sx(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn($m.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Ix(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Zx(e).get("remoteDocumentGlobalKey").next((function(e){return Sm(!!e),e}))}},{key:"Qn",value:function(e,t){return Zx(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=_b(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=$m.fromSegments(t.noDocument.path),i=Ew(t.noDocument.readTime);n=mg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Zm();var a=$m.fromSegments(t.unknownDocument.path),o=Ew(t.unknownDocument.version);n=mg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Km(e[0],e[1]);return Gm.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Gm.min()))return n}return mg.newInvalidDocument(e)}}]),e}();function _x(e){return new Ex(e)}var Ix=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new jk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,Qe.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ny((function(e,t){return Bm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=bw(t.Yn.It,o);i=i.add(a.path.popLast());var c=ax(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=bw(t.Yn.It,o.convertToNoDocument(Gm.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),fy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(xx);function Zx(e){return pw(e,"remoteDocumentGlobal")}function Sx(e){return pw(e,"remoteDocumentsV14")}function Tx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Cx(e,t){var n=t.documentKey.path.toArray();return[e,ww(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Nx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Bm(n[a],r[a]))return i;return(i=Bm(n.length,r.length))||((i=Bm(n[n.length-2],r[r.length-2]))||Bm(n[n.length-1],r[r.length-1]))}var Ax=(0,Qe.Z)((function e(t,n){(0,We.Z)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Dx=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,Qe.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&_k(r.mutation,e,Ry.empty(),Km.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Yk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yk(),i=Kk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=zk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Kk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Yk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Vk(),a=Hk(),o=Hk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Tk)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),_k(o.mutation,t,o.mutation.getFieldMask(),Km.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ax(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Hk(),i=new Sy((function(e,t){return e-t})),a=Yk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=(0,Kn.Z)(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ry.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Yk()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Gk();c.forEach((function(e){if(!a.has(e)){var n=xk(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return fy.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return $m.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Kg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):fy.resolve(Kk()),u=-1,s=a;return o.next((function(t){return fy.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?fy.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Yk())})).next((function(e){return{batchId:u,changes:qk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new $m(t)).next((function(e){var t=zk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=zk();return this.indexManager.getCollectionParents(e,i).next((function(o){return fy.forEach(o,(function(o){var u=function(e,t){return new jg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,mg.newInvalidDocument(n)))}));var n=zk();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&_k(a.mutation,i,Ry.empty(),Km.now()),Xg(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):fy.resolve(mg.newInvalidDocument(t))}}]),e}(),Rx=function(){function e(t){(0,We.Z)(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return(0,Qe.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return fy.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:pb(n.createTime)}),fy.resolve()}},{key:"getNamedQuery",value:function(e,t){return fy.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Sw(e.bundledQuery),readTime:pb(e.readTime)}}(t)),fy.resolve()}}]),e}(),Px=function(){function e(){(0,We.Z)(this,e),this.overlays=new Sy($m.comparator),this.es=new Map}return(0,Qe.Z)(e,[{key:"getOverlay",value:function(e,t){return fy.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Kk();return fy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),fy.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),fy.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Kk(),i=t.length+1,a=new $m(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return fy.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Sy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Kk(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Kk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return fy.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yw(t,n));var a=this.es.get(t);void 0===a&&(a=Yk(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Ox=function(){function e(){(0,We.Z)(this,e),this.ns=new Ny(Lx.ss),this.rs=new Ny(Lx.os)}return(0,Qe.Z)(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Lx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Lx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new $m(new Wm([])),r=new Lx(n,e),i=new Lx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new $m(new Wm([])),n=new Lx(t,e),r=new Lx(t,e+1),i=Yk();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Lx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Lx=function(){function e(t,n){(0,We.Z)(this,e),this.key=t,this._s=n}return(0,Qe.Z)(e,null,[{key:"ss",value:function(e,t){return $m.comparator(e.key,t.key)||Bm(e._s,t._s)}},{key:"os",value:function(e,t){return Bm(e._s,t._s)||$m.comparator(e.key,t.key)}}]),e}(),Mx=function(){function e(t,n){(0,We.Z)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ny(Lx.ss)}return(0,Qe.Z)(e,[{key:"checkEmpty",value:function(e){return fy.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new vw(i,t,n,r);this.mutationQueue.push(a);var o,u=(0,Kn.Z)(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Lx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return fy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fy.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return fy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fy.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return fy.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Lx(t,0),i=new Lx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),fy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ny(Bm);return t.forEach((function(e){var t=new Lx(e,0),i=new Lx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),fy.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;$m.isDocumentKey(i)||(i=i.child(""));var a=new Lx(new $m(i),0),o=new Ny(Bm);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),fy.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Sm(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return fy.forEach(t.mutations,(function(i){var a=new Lx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Lx(t,0),r=this.gs.firstAfterOrEqual(n);return fy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,fy.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Fx=function(){function e(t){(0,We.Z)(this,e),this.Es=t,this.docs=new Sy($m.comparator),this.size=0}return(0,Qe.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fy.resolve(n?n.document.mutableCopy():mg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Vk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():mg.newInvalidDocument(e))})),fy.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Vk(),i=new $m(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||oy(iy(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return fy.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Zm()}},{key:"As",value:function(e,t){return fy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new jx(this)}},{key:"getSize",value:function(e){return fy.resolve(this.size)}}]),e}(),jx=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this)).Yn=e,r}return(0,Qe.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),fy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(xx),Ux=function(){function e(t){(0,We.Z)(this,e),this.persistence=t,this.Rs=new jk((function(e){return kg(e)}),bg),this.lastRemoteSnapshotVersion=Gm.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ox,this.targetCount=0,this.vs=fx.Pn()}return(0,Qe.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),fy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fy.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),fy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),fy.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new fx(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,fy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),fy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,fy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return fy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),fy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),fy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return fy.resolve(n)}},{key:"containsKey",value:function(e,t){return fy.resolve(this.Ps.containsKey(t))}}]),e}(),Vx=function(){function e(t,n){var r=this;(0,We.Z)(this,e),this.Vs={},this.overlays={},this.Ss=new Ey(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Ux(this),this.indexManager=new Hw,this.remoteDocumentCache=new Fx((function(e){return r.referenceDelegate.xs(e)})),this.It=new kw(n),this.Ns=new Rx(this.It)}return(0,Qe.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Px,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Mx(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;xm("MemoryPersistence","Starting transaction:",e);var i=new Bx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return fy.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Bx=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,Qe.Z)(n)}(sy),zx=function(){function e(t){(0,We.Z)(this,e),this.persistence=t,this.Fs=new Ox,this.$s=null}return(0,Qe.Z)(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Zm()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),fy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),fy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),fy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fy.forEach(this.Ls,(function(r){var i=$m.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Gm.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return fy.or([function(){return fy.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),qx=function(){function e(t){(0,We.Z)(this,e),this.It=t}return(0,Qe.Z)(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new hy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qb,{unique:!0}),e.createObjectStore("documentMutations")}(e),Kx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=fy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Kx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return fy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:aw});t.createIndex("collectionPathOverlayIndex",ow,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",uw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Wb});t.createIndex("documentKeyIndex",Qb),t.createIndex("collectionGroupIndex",Yb)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:tw}).createIndex("sequenceNumberIndex",nw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:rw}).createIndex("documentKeyIndex",iw,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=ax(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return fy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return fy.forEach(r,(function(r){Sm(r.userId===n.userId);var i=_w(t.It,r);return ix(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Wm(n),o=function(e){return[0,Ub(e)]}(a);r.push(t.get(o).next((function(n){return n?fy.resolve():function(n){return t.put({targetId:0,path:Ub(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return fy.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ew});var n=t.store("collectionParents"),r=new Ww,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ub(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Wm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=(0,Me.Z)(e,3),r=(n[0],n[1]),a=(n[2],zb(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Iw(r),a=Zw(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new $m(Wm.fromString(i.document.name).popFirst(5)):i.noDocument?$m.fromSegments(i.noDocument.path):i.unknownDocument?$m.fromSegments(i.unknownDocument.path):Zm()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return fy.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=_x(this.It),a=new Vx(zx.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Yk();_w(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),fy.forEach(r,(function(e,r){var o=new gm(r),u=Pw.oe(n.It,o),s=a.getIndexManager(o),c=ox.oe(o,n.It,s,a.referenceDelegate);return new Dx(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new dw(t,Ey.at),e).next()}))}))}}]),e}();function Kx(e){e.createObjectStore("targetDocuments",{keyPath:Xb}).createIndex("documentTargetsIndex",Jb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$b,{unique:!0}),e.createObjectStore("targetGlobal")}var Gx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if((0,We.Z)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Nm(Cm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bx(this,i),this.ii=n+"main",this.It=new kw(s),this.ri=new dy(this.ii,this.Xs,new qx(this.It)),this.Cs=new hx(this.referenceDelegate,this.It),this.remoteDocumentCache=_x(this.It),this.Ns=new Aw,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Em("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,Qe.Z)(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Nm(Cm.FAILED_PRECONDITION,Gx);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Ey(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=(0,wn.Z)((0,bn.Z)().mark((function n(r){return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=(0,wn.Z)((0,bn.Z)().mark((function t(n){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Qx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(my(t))return xm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return xm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Wx(e).get("owner").next((function(e){return fy.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Qx(e).delete(this.clientId)}},{key:"yi",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r,i,a=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=pw(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return fy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=(0,Kn.Z)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?fy.resolve(!0):Wx(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Nm(Cm.FAILED_PRECONDITION,Gx);return!1}}return!(!t.networkEnabled||!t.inForeground)||Qx(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&xm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new dw(e,Ey.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Qx(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return ox.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Yw(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Pw.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;xm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?hw:14===i?fw:13===i?lw:12===i?cw:11===i?sw:void Zm();return this.ri.runTransaction(e,o,u,(function(i){return a=new dw(i,r.Ss?r.Ss.next():Ey.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Em("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Nm(Cm.FAILED_PRECONDITION,uy);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Wx(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Nm(Cm.FAILED_PRECONDITION,Gx)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wx(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Wx(e);return n.get("owner").next((function(e){return t.mi(e)?(xm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):fy.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Em("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!er()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return xm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Em("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Sh){Em("Failed to set zombie client id.",Sh)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Sh){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return dy.C()}}]),e}();function Wx(e){return pw(e,"owner")}function Qx(e){return pw(e,"clientMetadata")}function Yx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $x=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return(0,Qe.Z)(e,null,[{key:"Ci",value:function(t,n){var r,i=Yk(),a=Yk(),o=(0,Kn.Z)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Xx=function(){function e(){(0,We.Z)(this,e),this.xi=!1}return(0,Qe.Z)(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Bg(t))return fy.resolve(null);var r=Hg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Wg(t,null,"F"),r=Hg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Yk.apply(void 0,(0,He.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Wg(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Bg(t)||r.isEqual(Gm.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(wm()<=Tr.DEBUG&&xm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$g(t)),i.Bi(e,o,t,ry(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Ny(ek(e));return t.forEach((function(t,r){Xg(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return wm()<=Tr.DEBUG&&xm("QueryEngine","Using full collection scan to execute query:",$g(t)),this.Ni.getDocumentsMatchingQuery(e,t,ay.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Jx=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Sy(Bm),this.qi=new jk((function(e){return kg(e)}),bg),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return(0,Qe.Z)(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function eE(e,t,n,r){return new Jx(e,t,n,r)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Yk(),s=(0,Kn.Z)(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=(0,Kn.Z)(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=(0,Kn.Z)(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=(0,Kn.Z)(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t){var n=Tm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Sm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Yk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function iE(e){var t=Tm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function aE(e,t){var n=Tm(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Py.EMPTY_BYTE_STRING,Gm.min()).withLastLimboFreeSnapshotVersion(Gm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Vk(),s=Yk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(oE(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Gm.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return fy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function oE(e,t,n){var r=Yk(),i=Yk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Vk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Gm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):xm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function uE(e,t){var n=Tm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function sE(e,t){var n=Tm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,fy.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new gw(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function cE(e,t,n){return lE.apply(this,arguments)}function lE(){return lE=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tm(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),my(e.t1)){e.next=12;break}throw e.t1;case 12:xm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),lE.apply(this,arguments)}function fE(e,t,n){var r=Tm(e),i=Gm.min(),a=Yk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Tm(e),i=r.qi.get(n);return void 0!==i?fy.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Hg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Gm.min(),n?a:Yk())})).next((function(e){return pE(r,Jg(t),e),{documents:e,Hi:a}}))}))}function hE(e,t){var n=Tm(e),r=Tm(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function dE(e,t){var n=Tm(e),r=n.Ki.get(t)||Gm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,ry(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return pE(n,t,e),e}))}function pE(e,t,n){var r=e.Ki.get(t)||Gm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function vE(e,t,n,r){return mE.apply(this,arguments)}function mE(){return mE=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Tm(t),o=Yk(),u=Vk(),s=(0,Kn.Z)(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,sE(a,function(e){return Hg(Vg(Wm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return oE(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e,t){return gE.apply(this,arguments)}function gE(){return gE=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o=arguments;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Yk(),e.next=3,sE(t,Hg(Sw(n.bundledQuery)));case 3:return i=e.sent,a=Tm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=pb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Py.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function bE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function wE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var xE=function(){function e(t,n,r,i){(0,We.Z)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,Qe.Z)(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Nm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Em("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),EE=function(){function e(t,n,r){(0,We.Z)(this,e),this.targetId=t,this.state=n,this.error=r}return(0,Qe.Z)(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Nm(i.error.code,i.error.message))),a?new e(t,i.state,r):(Em("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),_E=function(){function e(t,n){(0,We.Z)(this,e),this.clientId=t,this.activeTargetIds=n}return(0,Qe.Z)(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Xk(),o=0;i&&o<r.activeTargetIds.length;++o)i=Gy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Em("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),IE=function(){function e(t,n){(0,We.Z)(this,e),this.clientId=t,this.onlineState=n}return(0,Qe.Z)(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Em("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ZE=function(){function e(){(0,We.Z)(this,e),this.activeTargetIds=Xk()}return(0,Qe.Z)(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),SE=function(){function e(t,n,r,i,a){(0,We.Z)(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Sy(Bm),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=kE(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new ZE),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return(0,Qe.Z)(e,[{key:"start",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=(0,Kn.Z)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(kE(this.persistenceKey,i)))&&(o=_E.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=(0,Kn.Z)(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(wE(this.persistenceKey,e));if(n){var r=EE.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(wE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return xm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){xm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){xm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(xm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Em("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,wn.Z)((0,bn.Z)().mark((function e(){var r,i,a,o,u,s,c;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Ey.at;if(null!=e)try{var n=JSON.parse(e);Sm("number"==typeof n),t=n}catch(e){Em("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ey.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new xE(this.currentUser,e,t,n),i=bE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=bE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=wE(this.persistenceKey,e),i=new EE(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return _E.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return xE.Zi(new gm(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return EE.Zi(r,t)}},{key:"yr",value:function(e){return IE.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:xm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Xk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),TE=function(){function e(){(0,We.Z)(this,e),this.Lr=new ZE,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,Qe.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new ZE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),CE=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),NE=function(){function e(){var t=this;(0,We.Z)(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return(0,Qe.Z)(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){xm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,Kn.Z)(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){xm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,Kn.Z)(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),AE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},DE=function(){function e(t){(0,We.Z)(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return(0,Qe.Z)(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),RE=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,Qe.Z)(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new mm;o.setWithCredentials(!0),o.listenOnce(fm.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case lm.NO_ERROR:var t=o.getResponseJson();xm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case lm.TIMEOUT:xm("Connection",'RPC "'+e+'" timed out'),a(new Nm(Cm.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:var n=o.getStatus();if(xm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cm).indexOf(t)>=0?t:Cm.UNKNOWN}(r.status);a(new Nm(u,r.message))}else a(new Nm(Cm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Nm(Cm.UNAVAILABLE,"Connection failed."));break;default:Zm()}}finally{xm("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=sm(),a=cm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new pm({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");xm("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new DE({Hr:function(e){l?xm("Connection","Not sending because WebChannel is closed:",e):(c||(xm("Connection","Opening WebChannel transport."),s.open(),c=!0),xm("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,vm.EventType.OPEN,(function(){l||xm("Connection","WebChannel transport opened.")})),h(s,vm.EventType.CLOSE,(function(){l||(l=!0,xm("Connection","WebChannel transport closed"),f.io())})),h(s,vm.EventType.ERROR,(function(e){l||(l=!0,_m("Connection","WebChannel transport errored:",e),f.io(new Nm(Cm.UNAVAILABLE,"The operation could not be completed")))})),h(s,vm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Sm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){xm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Dk[e];if(void 0!==t)return Fk(t)}(a),u=i.message;void 0===o&&(o=Cm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Nm(o,u)),s.close()}else xm("Connection","WebChannel received:",n),f.ro(n)}})),h(a,hm.STAT_EVENT,(function(e){e.stat===dm.PROXY?xm("Connection","Detected buffering proxy"):e.stat===dm.NOPROXY&&xm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){(0,We.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,Qe.Z)(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);xm("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return xm("RestConnection","Received: ",e),e}),(function(t){throw _m("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+km,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=AE[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function PE(){return"undefined"!=typeof window?window:null}function OE(){return"undefined"!=typeof document?document:null}function LE(e){return new lb(e,!0)}var ME=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,We.Z)(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return(0,Qe.Z)(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&xm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),FE=function(){function e(t,n,r,i,a,o,u,s){(0,We.Z)(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ME(t,n)}return(0,Qe.Z)(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Cm.RESOURCE_EXHAUSTED?(Em(n.toString()),Em("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Cm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,Me.Z)(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Nm(Cm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro((0,wn.Z)((0,bn.Z)().mark((function t(){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return xm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(xm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),jE=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i,a,o,u){var s;return(0,We.Z)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return(0,Qe.Z)(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Sm(void 0===t||"string"==typeof t),Py.fromBase64String(t||"")):(Sm(void 0===t||t instanceof Uint8Array),Py.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Cm.UNKNOWN:Fk(e.code);return new Nm(t,e.message||"")}(o);n=new rb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=gb(e,s.document.name),l=pb(s.document.updateTime),f=new pg({mapValue:{fields:s.document.fields}}),h=mg.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new tb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=gb(e,v.document),y=v.readTime?pb(v.readTime):Gm.min(),g=mg.newNoDocument(m,y),k=v.removedTargetIds||[];n=new tb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=gb(e,b.document),x=b.removedTargetIds||[];n=new tb([],x,w,null)}else{if(!("filter"in t))return Zm();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new Lk(_),Z=E.targetId;n=new nb(Z,I)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Gm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Gm.min():t.readTime?pb(t.readTime):Gm.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=wb(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=wg(r)?{documents:Tb(e,r)}:{query:Cb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hb(e,t.resumeToken):t.snapshotVersion.compareTo(Gm.min())>0&&(n.readTime=fb(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=wb(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(FE),UE=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i,a,o,u){var s;return(0,We.Z)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return(0,Qe.Z)(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Lt((0,Pt.Z)(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Sm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Sm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pb(e.updateTime):pb(t);return n.isEqual(Gm.min())&&(n=pb(t)),new gk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pb(e.commitTime);return this.listener.Zo(n,t)}return Sm(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=wb(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Zb(t.It,e)}))};this.Bo(n)}}]),n}(FE),VE=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i,a){var o;return(0,We.Z)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return(0,Qe.Z)(n,[{key:"su",value:function(){if(this.nu)throw new Nm(Cm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Me.Z)(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Nm(Cm.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,Me.Z)(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Nm(Cm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return(0,Qe.Z)((function e(){(0,We.Z)(this,e)}))}());var BE=function(){function e(t,n){(0,We.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return(0,Qe.Z)(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Em(t),this.ou=!1):xm("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),zE=(0,Qe.Z)((function e(t,n,r,i,a){var o=this;(0,We.Z)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=e_(o),!e.t0){e.next=5;break}return xm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Tm(t))._u.add(4),e.next=4,GE(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,qE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new BE(r,i)}));function qE(e){return KE.apply(this,arguments)}function KE(){return KE=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!e_(t)){e.next=18;break}n=(0,Kn.Z)(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),KE.apply(this,arguments)}function GE(e){return HE.apply(this,arguments)}function HE(){return HE=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,Kn.Z)(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),HE.apply(this,arguments)}function WE(e,t){var n=Tm(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),JE(n)?XE(n):C_(n).ko()&&YE(n,t))}function QE(e,t){var n=Tm(e),r=C_(n);n.du.delete(t),r.ko()&&$E(n,t),0===n.du.size&&(r.ko()?r.Fo():e_(n)&&n.gu.set("Unknown"))}function YE(e,t){e.yu.Mt(t.targetId),C_(e).zo(t)}function $E(e,t){e.yu.Mt(t),C_(e).Ho(t)}function XE(e){e.yu=new ab({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),C_(e).start(),e.gu.uu()}function JE(e){return e_(e)&&!C_(e).No()&&e.du.size>0}function e_(e){return 0===Tm(e)._u.size}function t_(e){e.yu=void 0}function n_(e){return r_.apply(this,arguments)}function r_(){return r_=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){YE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t_(t),JE(t)?(t.gu.hu(n),XE(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t,n){return u_.apply(this,arguments)}function u_(){return u_=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof rb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=(0,Kn.Z)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),xm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,s_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof tb?t.yu.Gt(n):n instanceof nb?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Gm.min())){e.next=29;break}return e.prev=14,e.next=17,iE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Py.EMPTY_BYTE_STRING,n.snapshotVersion)),$E(e,t);var r=new gw(n.target,t,1,n.sequenceNumber);YE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),xm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,s_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),u_.apply(this,arguments)}function s_(e,t,n){return c_.apply(this,arguments)}function c_(){return c_=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(my(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,GE(t);case 5:t.gu.set("Offline"),r||(r=function(){return iE(t.localStore)}),t.asyncQueue.enqueueRetryable((0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,qE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t){return t().catch((function(n){return s_(e,n,t)}))}function f_(e){return h_.apply(this,arguments)}function h_(){return h_=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tm(t),r=N_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!d_(n)){e.next=19;break}return e.prev=3,e.next=6,uE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,p_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,s_(n,e.t0);case 17:e.next=2;break;case 19:v_(n)&&m_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),h_.apply(this,arguments)}function d_(e){return e_(e)&&e.fu.length<10}function p_(e,t){e.fu.push(t);var n=N_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function v_(e){return e_(e)&&!N_(e).No()&&e.fu.length>0}function m_(e){N_(e).start()}function y_(e){return g_.apply(this,arguments)}function g_(){return g_=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N_(t).eu();case 1:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e){return b_.apply(this,arguments)}function b_(){return b_=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N_(t),r=(0,Kn.Z)(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(e,t,n){return x_.apply(this,arguments)}function x_(){return x_=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=mw.from(i,n,r),e.next=3,l_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,f_(t);case 5:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function E_(e,t){return __.apply(this,arguments)}function __(){return __=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&N_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mk(i=n.code)||i===Cm.ABORTED){e.next=7;break}return r=t.fu.shift(),N_(t).Mo(),e.next=5,l_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,f_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:v_(t)&&m_(t);case 5:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}function I_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Tm(t)).asyncQueue.verifyOperationInProgress(),xm("RemoteStore","RemoteStore received new credentials"),i=e_(r),r._u.add(3),e.next=6,GE(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,qE(r);case 12:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function S_(e,t){return T_.apply(this,arguments)}function T_(){return T_=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,qE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,GE(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function C_(e){return e.pu||(e.pu=function(e,t,n){var r=Tm(e);return r.su(),new jE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:n_.bind(null,e),Zr:i_.bind(null,e),Wo:o_.bind(null,e)}),e.wu.push(function(){var t=(0,wn.Z)((0,bn.Z)().mark((function t(n){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),JE(e)?XE(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:t_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function N_(e){return e.Iu||(e.Iu=function(e,t,n){var r=Tm(e);return r.su(),new UE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:y_.bind(null,e),Zr:E_.bind(null,e),tu:k_.bind(null,e),Zo:w_.bind(null,e)}),e.wu.push(function(){var t=(0,wn.Z)((0,bn.Z)().mark((function t(n){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,f_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(xm("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var A_=function(){function e(t,n,r,i,a){(0,We.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Am,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,Qe.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nm(Cm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function D_(e,t){if(Em("AsyncQueue","".concat(t,": ").concat(e)),my(e))return new Nm(Cm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var R_=function(){function e(t){(0,We.Z)(this,e),this.comparator=t?function(e,n){return t(e,n)||$m.comparator(e.key,n.key)}:function(e,t){return $m.comparator(e.key,t.key)},this.keyedMap=zk(),this.sortedSet=new Sy(this.comparator)}return(0,Qe.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),P_=function(){function e(){(0,We.Z)(this,e),this.Tu=new Sy($m.comparator)}return(0,Qe.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Zm():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),O_=function(){function e(t,n,r,i,a,o,u,s,c){(0,We.Z)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return(0,Qe.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,R_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),L_=(0,Qe.Z)((function e(){(0,We.Z)(this,e),this.Au=void 0,this.listeners=[]})),M_=(0,Qe.Z)((function e(){(0,We.Z)(this,e),this.queries=new jk((function(e){return Yg(e)}),Qg),this.onlineState="Unknown",this.Ru=new Set}));function F_(e,t){return j_.apply(this,arguments)}function j_(){return j_=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new L_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=D_(e.t0,"Initialization of query '".concat($g(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&q_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),j_.apply(this,arguments)}function U_(e,t){return V_.apply(this,arguments)}function V_(){return V_=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function B_(e,t){var n,r=Tm(e),i=!1,a=(0,Kn.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=(0,Kn.Z)(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&q_(r)}function z_(e,t,n){var r=Tm(e),i=r.queries.get(t);if(i){var a,o=(0,Kn.Z)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function q_(e){e.Ru.forEach((function(e){e.next()}))}var K_=function(){function e(t,n,r){(0,We.Z)(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return(0,Qe.Z)(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,Kn.Z)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new O_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=O_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),G_=function(){function e(t,n){(0,We.Z)(this,e),this.ku=t,this.byteLength=n}return(0,Qe.Z)(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),H_=function(){function e(t){(0,We.Z)(this,e),this.It=t}return(0,Qe.Z)(e,[{key:"Ji",value:function(e){return gb(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?_b(this.It,e.document,!1):mg.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return pb(e)}}]),e}(),W_=function(){function e(t,n,r){(0,We.Z)(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Q_(t)}return(0,Qe.Z)(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Wm.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new H_(this.It),i=(0,Kn.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=(0,Kn.Z)(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Yk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vE(this.localStore,new H_(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=(0,Kn.Z)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,yE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Q_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Y_=(0,Qe.Z)((function e(t){(0,We.Z)(this,e),this.key=t})),$_=(0,Qe.Z)((function e(t){(0,We.Z)(this,e),this.key=t})),X_=function(){function e(t,n){(0,We.Z)(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Yk(),this.mutatedKeys=Yk(),this.Gu=ek(t),this.Qu=new R_(this.Gu)}return(0,Qe.Z)(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new P_,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Xg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zm()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new O_(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new P_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Yk(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new $_(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Y_(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Yk();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return O_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),J_=(0,Qe.Z)((function e(t,n,r){(0,We.Z)(this,e),this.query=t,this.targetId=n,this.view=r})),eI=(0,Qe.Z)((function e(t){(0,We.Z)(this,e),this.key=t,this.nc=!1})),tI=function(){function e(t,n,r,i,a,o){(0,We.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new jk((function(e){return Yg(e)}),Qg),this.rc=new Map,this.oc=new Set,this.uc=new Sy($m.comparator),this.cc=new Map,this.ac=new Ox,this.hc={},this.lc=new Map,this.fc=fx.vn(),this.onlineState="Unknown",this.dc=void 0}return(0,Qe.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=QI(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,sE(r.localStore,Hg(n));case 8:return u=e.sent,r.isPrimaryClient&&WE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,iI(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t,n,r,i){return aI.apply(this,arguments)}function aI(){return aI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){var a,o,u;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,fE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(II(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,fE(t.localStore,n,!0);case 3:return o=e.sent,u=new X_(n,o.Hi),s=u.Wu(o.documents),c=eb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),II(t,r,l.Xu),f=new J_(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(e,t){return uI.apply(this,arguments)}function uI(){return uI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Qg(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,cE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),QE(r.remoteStore,i.targetId),EI(r,i.targetId)})).catch(cy);case 9:e.next=14;break;case 11:return EI(r,i.targetId),e.next=14,cE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function sI(e,t,n){return cI.apply(this,arguments)}function cI(){return cI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=YI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Tm(e),a=Km.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Yk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Vk(),s=Yk();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=(0,Kn.Z)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ik(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Tk(c.key,l,vg(l.value.mapValue),kk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:qk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Sy(Bm)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,TI(i,a.changes);case 9:return e.next=11,f_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=D_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),cI.apply(this,arguments)}function lI(e,t){return fI.apply(this,arguments)}function fI(){return fI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.prev=1,e.next=4,aE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Sm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Sm(n.nc):e.removedDocuments.size>0&&(Sm(n.nc),n.nc=!1))})),e.next=8,TI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),fI.apply(this,arguments)}function hI(e,t,n){var r=Tm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Tm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=(0,Kn.Z)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&q_(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function dI(e,t,n){return pI.apply(this,arguments)}function pI(){return pI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u,s,c;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Tm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Sy($m.comparator)).insert(o,mg.newNoDocument(o,Gm.min())),s=Yk().add(o),c=new Jk(Gm.min(),new Map,new Ny(Bm),u,s),e.next=9,lI(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),SI(i),e.next=16;break;case 14:return e.next=16,cE(i.localStore,n,!1).then((function(){return EI(i,n,r)})).catch(cy);case 16:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e,t){return mI.apply(this,arguments)}function mI(){return mI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),i=n.batch.batchId,e.prev=1,e.next=4,rE(r.localStore,n);case 4:return a=e.sent,xI(r,i,null),wI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,TI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mI.apply(this,arguments)}function yI(e,t,n){return gI.apply(this,arguments)}function gI(){return gI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tm(t),e.prev=1,e.next=4,function(e,t){var n=Tm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Sm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,xI(i,n,r),wI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,TI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gI.apply(this,arguments)}function kI(e,t){return bI.apply(this,arguments)}function bI(){return bI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e_((r=Tm(t)).remoteStore)||xm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Tm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=D_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),bI.apply(this,arguments)}function wI(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function xI(e,t,n){var r=Tm(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function EI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,Kn.Z)(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||_I(e,t)}))}function _I(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(QE(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),SI(e))}function II(e,t,n){var r,i=(0,Kn.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Y_?(e.ac.addReference(a.key,t),ZI(e,a)):a instanceof $_?(xm("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||_I(e,a.key)):Zm()}}catch(o){i.e(o)}finally{i.f()}}function ZI(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(xm("SyncEngine","New document in limbo: "+n),e.oc.add(r),SI(e))}function SI(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new $m(Wm.fromString(t)),r=e.fc.next();e.cc.set(r,new eI(n)),e.uc=e.uc.insert(n,r),WE(e.remoteStore,new gw(Hg(Vg(n.path)),r,2,Ey.at))}}function TI(e,t,n){return CI.apply(this,arguments)}function CI(){return CI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tm(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=$x.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u,s,c,l;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fy.forEach(n,(function(t){return fy.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fy.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),my(e.t0)){e.next=10;break}throw e.t0;case 10:xm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=(0,Kn.Z)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),CI.apply(this,arguments)}function NI(e,t){return AI.apply(this,arguments)}function AI(){return AI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Tm(t)).currentUser.isEqual(n)){e.next=11;break}return xm("SyncEngine","User change. New user:",n.toKey()),e.next=5,tE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Nm(Cm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,TI(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function DI(e,t){var n=Tm(e),r=n.cc.get(t);if(r&&r.nc)return Yk().add(r.key);var i=Yk(),a=n.rc.get(t);if(!a)return i;var o,u=(0,Kn.Z)(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function RI(e,t){return PI.apply(this,arguments)}function PI(){return PI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.next=3,fE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&II(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function OI(e,t){return LI.apply(this,arguments)}function LI(){return LI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.abrupt("return",dE(r.localStore,n).then((function(e){return TI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t,n,r){return FI.apply(this,arguments)}function FI(){return FI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){var a,o;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Tm(t),e.next=3,function(e,t){var n=Tm(e),r=Tm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):fy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,f_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(xI(a,n,i||null),wI(a,n),function(e,t){Tm(Tm(e).mutationQueue).An(t)}(a.localStore,n)):Zm();case 11:return e.next=13,TI(a,o);case 13:e.next=16;break;case 15:xm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function jI(e,t){return UI.apply(this,arguments)}function UI(){return UI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u,s,c,l;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(QI(r=Tm(t)),YI(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,VI(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,S_(r.remoteStore,!0);case 9:o=(0,Kn.Z)(a);try{for(o.s();!(u=o.n()).done;)s=u.value,WE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return EI(r,t),cE(r.localStore,t,!0)})),QE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,VI(r,c);case 21:return function(e){var t=Tm(e);t.cc.forEach((function(e,n){QE(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Sy($m.comparator)}(r),r.dc=!1,e.next=25,S_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function VI(e,t,n){return BI.apply(this,arguments)}function BI(){return BI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Tm(t),a=[],o=[],u=(0,Kn.Z)(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,sE(i.localStore,Hg(f[0]));case 11:l=e.sent,h=(0,Kn.Z)(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,RI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,hE(i.localStore,c);case 36:return y=e.sent,e.next=39,sE(i.localStore,y);case 39:return l=e.sent,e.next=42,iI(i,zI(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),BI.apply(this,arguments)}function zI(e){return Ug(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qI(e){var t=Tm(e);return Tm(Tm(t.localStore).persistence).vi()}function KI(e,t,n,r){return GI.apply(this,arguments)}function GI(){return GI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r,i){var a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Tm(t)).dc){e.next=3;break}return e.abrupt("return",void xm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,dE(a.localStore,Jg(o[0]));case 10:return u=e.sent,s=Jk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Py.EMPTY_BYTE_STRING),e.next=14,TI(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,cE(a.localStore,n,!0);case 17:return EI(a,n,i),e.abrupt("break",20);case 19:Zm();case 20:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function HI(e,t,n){return WI.apply(this,arguments)}function WI(){return WI=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=QI(t)).dc){e.next=45;break}a=(0,Kn.Z)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return xm("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,hE(i.localStore,u);case 12:return s=e.sent,e.next=15,sE(i.localStore,s);case 15:return c=e.sent,e.next=18,iI(i,zI(s),c.targetId,!1,c.resumeToken);case 18:WE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=(0,Kn.Z)(r),e.prev=30,h=(0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,cE(i.localStore,t,!1).then((function(){QE(i.remoteStore,t),EI(i,t)})).catch(cy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),WI.apply(this,arguments)}function QI(e){var t=Tm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dI.bind(null,t),t.sc.Wo=B_.bind(null,t.eventManager),t.sc.wc=z_.bind(null,t.eventManager),t}function YI(e){var t=Tm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,t),t}function $I(e,t,n){var r=Tm(e);(function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Tm(e),r=pb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Q_(i)),a=new W_(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,TI(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Tm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(_m("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var XI=function(){function e(){(0,We.Z)(this,e),this.synchronizeTabs=!1}return(0,Qe.Z)(e,[{key:"initialize",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=LE(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return eE(this.persistence,new Xx,e.initialUser,this.It)}},{key:"yc",value:function(e){return new Vx(zx.Bs,this.It)}},{key:"gc",value:function(e){return new TE}},{key:"terminate",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),JI=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a;return(0,We.Z)(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,Qe.Z)(n,[{key:"initialize",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var r=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt((0,Pt.Z)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,YI(this.Ac.syncEngine);case 6:return e.next=8,f_(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return eE(this.persistence,new Xx,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new gx(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new xy(t,this.persistence);return new wy(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rx.withCacheSize(this.cacheSizeBytes):rx.DEFAULT;return new Hx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,PE(),OE(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new TE}}]),n}(XI),eZ=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,Qe.Z)(n,[{key:"initialize",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var r,i=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt((0,Pt.Z)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof SE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:MI.bind(null,r),$r:KI.bind(null,r),Br:HI.bind(null,r),vi:qI.bind(null,r),Mr:OI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jI(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=PE();if(!SE.C(t))throw new Nm(Cm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new SE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(JI),tZ=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,[{key:"initialize",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return hI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=NI.bind(null,this.syncEngine),e.next=12,S_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new M_}},{key:"createDatastore",value:function(e){var t,n=LE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new RE(t));return function(e,t,n,r){return new VE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return hI(o.syncEngine,e,0)},a=NE.C()?new NE:new CE,new zE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new tI(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tm(t),xm("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,GE(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function nZ(e,t,n){if(!n)throw new Nm(Cm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rZ(e,t,n,r){if(!0===t&&!0===r)throw new Nm(Cm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function iZ(e){if(!$m.isDocumentKey(e))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function aZ(e){if($m.isDocumentKey(e))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oZ(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Zm()}function uZ(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nm(Cm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=oZ(e);throw new Nm(Cm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function sZ(e,t){if(t<=0)throw new Nm(Cm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var cZ=new Map,lZ=function(){function e(t){var n;if((0,We.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Nm(Cm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Nm(Cm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,rZ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,Qe.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),fZ=function(){function e(t,n,r,i){(0,We.Z)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lZ({}),this._settingsFrozen=!1}return(0,Qe.Z)(e,[{key:"app",get:function(){if(!this._app)throw new Nm(Cm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Nm(Cm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lZ(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Rm;switch(e.type){case"gapi":var t=e.client;return new Mm(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Nm(Cm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=cZ.get(e);t&&(xm("ComponentProvider","Removing Datastore"),cZ.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function hZ(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=uZ(e,fZ))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&_m("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=gm.MOCK_USER;else{o=cr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Nm(Cm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gm(s)}e._authCredentials=new Pm(new Dm(o,u))}}var dZ=function(){function e(t,n,r){(0,We.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,Qe.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new vZ(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),pZ=function(){function e(t,n,r){(0,We.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,Qe.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),vZ=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a;return(0,We.Z)(this,n),(a=t.call(this,e,r,Vg(i)))._path=i,a.type="collection",a}return(0,Qe.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new dZ(this.firestore,null,new $m(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(pZ);function mZ(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Er(e),nZ("collection","path",t),e instanceof fZ){var a=Wm.fromString.apply(Wm,[t].concat(r));return aZ(a),new vZ(e,null,a)}if(!(e instanceof dZ||e instanceof vZ))throw new Nm(Cm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Wm.fromString.apply(Wm,[t].concat(r)));return aZ(o),new vZ(e.firestore,null,o)}function yZ(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Er(e),1===arguments.length&&(t=Vm.R()),nZ("doc","path",t),e instanceof fZ){var a=Wm.fromString.apply(Wm,[t].concat(r));return iZ(a),new dZ(e,null,new $m(a))}if(!(e instanceof dZ||e instanceof vZ))throw new Nm(Cm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Wm.fromString.apply(Wm,[t].concat(r)));return iZ(o),new dZ(e.firestore,e instanceof vZ?e.converter:null,new $m(o))}function gZ(e,t){return e=Er(e),t=Er(t),(e instanceof dZ||e instanceof vZ)&&(t instanceof dZ||t instanceof vZ)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function kZ(e,t){return e=Er(e),t=Er(t),e instanceof pZ&&t instanceof pZ&&e.firestore===t.firestore&&Qg(e._query,t._query)&&e.converter===t.converter}function bZ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,wn.Z)((0,bn.Z)().mark((function r(){var i;return(0,bn.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var wZ=function(){function e(t){(0,We.Z)(this,e),this.observer=t,this.muted=!1}return(0,Qe.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Em("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),xZ=function(){function e(t,n){var r=this;(0,We.Z)(this,e),this.Pc=t,this.It=n,this.metadata=new Am,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return(0,Qe.Z)(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n,r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new G_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),EZ=function(){function e(t){(0,We.Z)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,Qe.Z)(e,[{key:"lookup",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Nm(Cm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),i=wb(r.It)+"/documents",a={documents:n.map((function(e){return yb(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Ib(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Sm(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Pk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t,n=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=$m.fromPath(t);n.mutations.push(new Ok(r,n.precondition(r)))})),e.next=7,function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),i=wb(r.It)+"/documents",a={writes:n.map((function(e){return Zb(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zm();t=Gm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nm(Cm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Gm.min())?kk.exists(!1):kk.updateTime(t):kk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gm.min()))throw new Nm(Cm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kk.updateTime(t)}return kk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),_Z=function(){function e(t,n,r,i,a){(0,We.Z)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new ME(this.asyncQueue,"transaction_retry")}return(0,Qe.Z)(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro((0,wn.Z)((0,bn.Z)().mark((function t(){var n,r;return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new EZ(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!qy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Mk(t)}return!1}}]),e}(),IZ=function(){function e(t,n,r,i){var a=this;(0,We.Z)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gm.UNAUTHENTICATED,this.clientId=Vm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return xm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,Qe.Z)(e,[{key:"getConfiguration",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Nm(Cm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Am;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,wn.Z)((0,bn.Z)().mark((function n(){var r;return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=D_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ZZ(e,t){return SZ.apply(this,arguments)}function SZ(){return SZ=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),xm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,tE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),SZ.apply(this,arguments)}function TZ(e,t){return CZ.apply(this,arguments)}function CZ(){return CZ=(0,wn.Z)((0,bn.Z)().mark((function e(t,n){var r,i;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,NZ(t);case 3:return r=e.sent,xm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return I_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return I_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),CZ.apply(this,arguments)}function NZ(e){return AZ.apply(this,arguments)}function AZ(){return AZ=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return xm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ZZ(t,new XI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),AZ.apply(this,arguments)}function DZ(e){return RZ.apply(this,arguments)}function RZ(){return RZ=(0,wn.Z)((0,bn.Z)().mark((function e(t){return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return xm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,TZ(t,new tZ);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),RZ.apply(this,arguments)}function PZ(e){return NZ(e).then((function(e){return e.persistence}))}function OZ(e){return NZ(e).then((function(e){return e.localStore}))}function LZ(e){return DZ(e).then((function(e){return e.remoteStore}))}function MZ(e){return DZ(e).then((function(e){return e.syncEngine}))}function FZ(e){return DZ(e).then((function(e){return e.datastore}))}function jZ(e){return UZ.apply(this,arguments)}function UZ(){return UZ=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n,r;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DZ(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=nI.bind(null,n.syncEngine),r.onUnlisten=oI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),UZ.apply(this,arguments)}function VZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Am;return e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function i(){return(0,bn.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wZ({next:function(a){t.enqueueAndForget((function(){return U_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Nm(Cm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Nm(Cm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new K_(Vg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return F_(e,o)},i.next=3,jZ(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function BZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Am;return e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function i(){return(0,bn.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wZ({next:function(n){t.enqueueAndForget((function(){return U_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Nm(Cm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new K_(n,a,{includeMetadataChanges:!0,Nu:!0});return F_(e,o)},i.next=3,jZ(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var zZ=function(){function e(){var t=this;(0,We.Z)(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ME(this,"async_queue_retry"),this.Wc=function(){var e=OE();e&&xm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=OE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return(0,Qe.Z)(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=OE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new Am;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t=this;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),my(e.t0)){e.next=12;break}throw e.t0;case 12:xm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Em("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=A_.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&Zm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=(0,Kn.Z)(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,Kn.Z)(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function qZ(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=(0,Kn.Z)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var KZ=function(){function e(){(0,We.Z)(this,e),this._progressObserver={},this._taskCompletionResolver=new Am,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,Qe.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),GZ=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i,a){var o;return(0,We.Z)(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new zZ,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return(0,Qe.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||WZ(this),this._firestoreClient.terminate()}}]),n}(fZ);function HZ(e){return e._firestoreClient||WZ(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WZ(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new By(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new IZ(e._authCredentials,e._appCheckCredentials,e._queue,r)}function QZ(e,t,n){var r=new Am;return e.asyncQueue.enqueue((0,wn.Z)((0,bn.Z)().mark((function i(){var a;return(0,bn.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ZZ(e,n);case 3:return i.next=5,TZ(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Cm.FAILED_PRECONDITION||e.code===Cm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:_m("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function YZ(e){return function(e){return e.asyncQueue.enqueue((0,wn.Z)((0,bn.Z)().mark((function t(){var n,r;return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PZ(e);case 2:return n=t.sent,t.next=5,LZ(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Tm(e);return t._u.delete(0),qE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(HZ(e=uZ(e,GZ)))}function $Z(e){return function(e){return e.asyncQueue.enqueue((0,wn.Z)((0,bn.Z)().mark((function t(){var n,r;return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PZ(e);case 2:return n=t.sent,t.next=5,LZ(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Tm(t))._u.add(0),e.next=4,GE(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(HZ(e=uZ(e,GZ)))}function XZ(e,t){var n=HZ(e=uZ(e,GZ)),r=new KZ;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new xZ(e,t)}(function(e,t){if(e instanceof Uint8Array)return bZ(e,t);if(e instanceof ArrayBuffer)return bZ(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,LE(t));e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function t(){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$I,t.next=3,MZ(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function JZ(e,t){return function(e,t){return e.asyncQueue.enqueue((0,wn.Z)((0,bn.Z)().mark((function n(){return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Tm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,OZ(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(HZ(e=uZ(e,GZ)),t).then((function(t){return t?new pZ(e,null,t.query):null}))}function eS(e){if(e._initialized||e._terminated)throw new Nm(Cm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var tS=function(){function e(t){(0,We.Z)(this,e),this._byteString=t}return(0,Qe.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Py.fromBase64String(t))}catch(t){throw new Nm(Cm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Py.fromUint8Array(t))}}]),e}(),nS=function(){function e(){(0,We.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ym(n)}return(0,Qe.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var rS=(0,Qe.Z)((function e(t){(0,We.Z)(this,e),this._methodName=t})),iS=function(){function e(t,n){if((0,We.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new Nm(Cm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Nm(Cm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,Qe.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Bm(this._lat,e._lat)||Bm(this._long,e._long)}}]),e}(),aS=/^__.*__$/,oS=function(){function e(t,n,r){(0,We.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Qe.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Tk(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sk(e,this.data,t,this.fieldTransforms)}}]),e}(),uS=function(){function e(t,n,r){(0,We.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Qe.Z)(e,[{key:"toMutation",value:function(e,t){return new Tk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function sS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zm()}}var cS=function(){function e(t,n,r,i,a,o){(0,We.Z)(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,Qe.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return CS(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(sS(this.sa)&&aS.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),lS=function(){function e(t,n,r){(0,We.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||LE(t)}return(0,Qe.Z)(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new cS({sa:e,methodName:t,fa:n,path:Ym.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function fS(e){var t=e._freezeSettings(),n=LE(e._databaseId);return new lS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);IS("Data must be an object, but it was:",o,r);var u,s,c=ES(r,o);if(a.merge)u=new Ry(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=(0,Kn.Z)(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=ZS(t,d,n);if(!o.contains(p))throw new Nm(Cm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));NS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Ry(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new oS(new pg(c),u,s)}var dS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(rS);function pS(e,t,n){return new cS({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var vS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n,[{key:"_toFieldTransform",value:function(e){return new yk(e.path,new ck)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(rS),mS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e))._a=r,i}return(0,Qe.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=pS(this,e,!0),n=this._a.map((function(e){return xS(e,t)})),r=new lk(n);return new yk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rS),yS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e))._a=r,i}return(0,Qe.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=pS(this,e,!0),n=this._a.map((function(e){return xS(e,t)})),r=new hk(n);return new yk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rS),gS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e)).wa=r,i}return(0,Qe.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new pk(e.It,ik(e.It,this.wa));return new yk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rS);function kS(e,t,n,r){var i=e.da(1,t,n);IS("Data must be an object, but it was:",i,r);var a=[],o=pg.empty();Iy(r,(function(e,r){var u=TS(t,e,n);r=Er(r);var s=i.ca(u);if(r instanceof dS)a.push(u);else{var c=xS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ry(a);return new uS(o,u,i.fieldTransforms)}function bS(e,t,n,r,i,a){var o=e.da(1,t,n),u=[ZS(t,r,n)],s=[i];if(a.length%2!=0)throw new Nm(Cm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(ZS(t,a[c])),s.push(a[c+1]);for(var l=[],f=pg.empty(),h=u.length-1;h>=0;--h)if(!NS(l,u[h])){var d=u[h],p=s[h];p=Er(p);var v=o.ca(d);if(p instanceof dS)l.push(d);else{var m=xS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ry(l);return new uS(f,y,o.fieldTransforms)}function wS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return xS(n,e.da(r?4:3,t))}function xS(e,t){if(_S(e=Er(e)))return IS("Unsupported field value:",t,e),ES(e,t);if(e instanceof rS)return function(e,t){if(!sS(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=(0,Kn.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=xS(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Er(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ik(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Km.fromDate(e);return{timestampValue:fb(t.It,n)}}if(e instanceof Km){var r=new Km(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fb(t.It,r)}}if(e instanceof iS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tS)return{bytesValue:hb(t.It,e._byteString)};if(e instanceof dZ){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(oZ(e)))}(e,t)}function ES(e,t){var n={};return Zy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Iy(e,(function(e,r){var i=xS(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function _S(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Km||e instanceof iS||e instanceof tS||e instanceof dZ||e instanceof rS)}function IS(e,t,n){if(!_S(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=oZ(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function ZS(e,t,n){if((t=Er(t))instanceof nS)return t._internalPath;if("string"==typeof t)return TS(e,t);throw CS("Field path arguments must be of type string or ",e,!1,void 0,n)}var SS=new RegExp("[~\\*/\\[\\]]");function TS(e,t,n){if(t.search(SS)>=0)throw CS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,dh.Z)(nS,(0,He.Z)(t.split(".")))._internalPath}catch(r){throw CS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function CS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Nm(Cm.INVALID_ARGUMENT,u+e+s)}function NS(e,t){return e.some((function(e){return e.isEqual(t)}))}var AS=function(){function e(t,n,r,i,a){(0,We.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,Qe.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new dZ(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new DS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(RS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),DS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n,[{key:"data",value:function(){return Lt((0,Pt.Z)(n.prototype),"data",this).call(this)}}]),n}(AS);function RS(e,t){return"string"==typeof t?TS(e,t):t instanceof nS?t._internalPath:t._delegate._internalPath}function PS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Nm(Cm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var OS=(0,Qe.Z)((function e(){(0,We.Z)(this,e)}));function LS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var MS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a;return(0,We.Z)(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return(0,Qe.Z)(n,[{key:"_apply",value:function(e){var t=fS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){WS(o,a);var s,c=[],l=(0,Kn.Z)(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(HS(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=HS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||WS(o,a),u=wS(n,"where",o,"in"===a||"not-in"===a);var h=Ig.create(i,a,u);return function(e,t){if(t.dt()){var n=qg(e);if(null!==n&&!n.isEqual(t.field))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=zg(e);null!==r&&QS(e,t.field,r)}var i=function(e,t){var n,r=(0,Kn.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new pZ(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new jg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(OS);var FS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return(0,Qe.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Og(t,n);return function(e,t){if(null===zg(e)){var n=qg(e);null!==n&&QS(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new pZ(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new jg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(OS);var jS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a;return(0,We.Z)(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return(0,Qe.Z)(n,[{key:"_apply",value:function(e){return new pZ(e.firestore,e.converter,Wg(e._query,this.Ia,this.Ta))}}]),n}(OS);var US=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a;return(0,We.Z)(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return(0,Qe.Z)(n,[{key:"_apply",value:function(e){var t=GS(e,this.type,this.Ea,this.Aa);return new pZ(e.firestore,e.converter,function(e,t){return new jg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(OS);function VS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new US("startAt",t,!0)}function BS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new US("startAfter",t,!1)}var zS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i){var a;return(0,We.Z)(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return(0,Qe.Z)(n,[{key:"_apply",value:function(e){var t=GS(e,this.type,this.Ea,this.Aa);return new pZ(e.firestore,e.converter,function(e,t){return new jg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(OS);function qS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zS("endBefore",t,!1)}function KS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zS("endAt",t,!0)}function GS(e,t,n,r){if(n[0]=Er(n[0]),n[0]instanceof AS)return function(e,t,n,r,i){if(!r)throw new Nm(Cm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=(0,Kn.Z)(Gg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ng(t,r.key));else{var c=r.data.field(s.field);if(jy(c))throw new Nm(Cm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Pg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=fS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Nm(Cm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Kg(e)&&-1!==c.indexOf("/"))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Wm.fromString(c));if(!$m.isDocumentKey(l))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new $m(l);u.push(ng(t,f))}else{var h=wS(n,r,c);u.push(h)}}return new Pg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function HS(e,t,n){if("string"==typeof(n=Er(n))){if(""===n)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kg(t)&&-1!==n.indexOf("/"))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Wm.fromString(n));if(!$m.isDocumentKey(r))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ng(e,new $m(r))}if(n instanceof dZ)return ng(e,n._key);throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(oZ(n),"."))}function WS(e,t){if(!Array.isArray(e)||0===e.length)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function QS(e,t,n){if(!n.isEqual(t))throw new Nm(Cm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var YS=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return My(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Iy(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new iS(My(e.latitude),My(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Uy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ly(e);return new Km(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Wm.fromString(e);Sm(jb(n));var r=new zy(n.get(1),n.get(3)),i=new $m(n.popFirst(5));return r.isEqual(t)||Em("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function $S(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var XS=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,Qe.Z)(n,[{key:"convertBytes",value:function(e){return new tS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dZ(this.firestore,null,t)}}]),n}(YS),JS=function(){function e(t,n){(0,We.Z)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,Qe.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),eT=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r,i,a,o,u){var s;return(0,We.Z)(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,Qe.Z)(n,[{key:"exists",value:function(){return Lt((0,Pt.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new tT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(RS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(AS),tT=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lt((0,Pt.Z)(n.prototype),"data",this).call(this,e)}}]),n}(eT),nT=function(){function e(t,n,r,i){(0,We.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new JS(i.hasPendingWrites,i.fromCache),this.query=r}return(0,Qe.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new tT(n._firestore,n._userDataWriter,r.key,r,new JS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nm(Cm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new tT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new JS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new tT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new JS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:rT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function rT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zm()}}function iT(e,t){return e instanceof eT&&t instanceof eT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof nT&&t instanceof nT&&e._firestore===t._firestore&&kZ(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var aT=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,Qe.Z)(n,[{key:"convertBytes",value:function(e){return new tS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dZ(this.firestore,null,t)}}]),n}(YS);function oT(e){e=uZ(e,dZ);var t=uZ(e.firestore,GZ),n=HZ(t),r=new aT(t);return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function r(){return(0,bn.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Tm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Nm(Cm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=D_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,OZ(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new eT(t,r,e._key,n,new JS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function uT(e){e=uZ(e,pZ);var t=uZ(e.firestore,GZ),n=HZ(t),r=new aT(t);return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function r(){return(0,bn.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fE(t,n,!0);case 3:i=e.sent,a=new X_(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=D_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,OZ(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new nT(t,r,e,n)}))}function sT(e,t,n){e=uZ(e,dZ);var r=uZ(e.firestore,GZ),i=$S(e.converter,t,n);return hT(r,[hS(fS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,kk.none())])}function cT(e,t,n){e=uZ(e,dZ);for(var r=uZ(e.firestore,GZ),i=fS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return hT(r,[("string"==typeof(t=Er(t))||t instanceof nS?bS(i,"updateDoc",e._key,t,n,o):kS(i,"updateDoc",e._key,t)).toMutation(e._key,kk.exists(!0))])}function lT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Er(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||qZ(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(qZ(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof dZ)l=uZ(e.firestore,GZ),f=Vg(e._key.path),c={next:function(t){n[s]&&n[s](dT(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=uZ(e,pZ);l=uZ(p.firestore,GZ),f=p._query;var v=new aT(l);c={next:function(e){n[s]&&n[s](new nT(l,v,p,e))},error:n[s+1],complete:n[s+2]},PS(e._query)}return function(e,t,n,r){var i=new wZ(r),a=new K_(t,i,n);return e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function t(){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=F_,t.next=3,jZ(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function t(){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=U_,t.next=3,jZ(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(HZ(l),f,h,c)}function fT(e,t){return function(e,t){var n=new wZ(t);return e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function t(){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Tm(e).Ru.add(t),t.next()},t.next=3,jZ(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function t(){return(0,bn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Tm(e).Ru.delete(t)},t.next=3,jZ(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(HZ(e=uZ(e,GZ)),qZ(t)?t:{next:t})}function hT(e,t){return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function r(){return(0,bn.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=sI,r.next=3,MZ(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(HZ(e),t)}function dT(e,t,n){var r=n.docs.get(t._key),i=new aT(e);return new eT(e,i,t._key,r,new JS(n.hasPendingWrites,n.fromCache),t.converter)}var pT={maxAttempts:5},vT=function(){function e(t,n){(0,We.Z)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fS(t)}return(0,Qe.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=mT(e,this._firestore),i=$S(r.converter,t,n),a=hS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,kk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=mT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Er(t))||t instanceof nS?bS(this._dataReader,"WriteBatch.update",i._key,t,n,o):kS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,kk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=mT(e,this._firestore);return this._mutations=this._mutations.concat(new Pk(t._key,kk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Nm(Cm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function mT(e,t){if((e=Er(e)).firestore!==t)throw new Nm(Cm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var yT=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,Qe.Z)(n,[{key:"get",value:function(e){var t=this,r=mT(e,this._firestore),i=new aT(this._firestore);return Lt((0,Pt.Z)(n.prototype),"get",this).call(this,e).then((function(e){return new eT(t._firestore,i,r._key,e._document,new JS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){(0,We.Z)(this,e),this._firestore=t,this._transaction=n,this._dataReader=fS(t)}return(0,Qe.Z)(e,[{key:"get",value:function(e){var t=this,n=mT(e,this._firestore),r=new XS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Zm();var i=e[0];if(i.isFoundDocument())return new AS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AS(t._firestore,r,n._key,null,n.converter);throw Zm()}))}},{key:"set",value:function(e,t,n){var r=mT(e,this._firestore),i=$S(r.converter,t,n),a=hS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=mT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Er(t))||t instanceof nS?bS(this._dataReader,"Transaction.update",i._key,t,n,o):kS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=mT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function gT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mS("arrayUnion",t)}function kT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){km=e}(yi),li(new _r("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new GZ(new Om(e.getProvider("auth-internal")),new jm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nm(Cm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ei(ym,"3.7.2",e),Ei(ym,"3.7.2","esm2017")}();function bT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function wT(){if("undefined"===typeof Uint8Array)throw new Nm("unimplemented","Uint8Arrays are not available in this environment.")}function xT(){if("undefined"==typeof atob)throw new Nm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ET=function(){function e(t){(0,We.Z)(this,e),this._delegate=t}return(0,Qe.Z)(e,[{key:"toBase64",value:function(){return xT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return wT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return xT(),new e(tS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return wT(),new e(tS.fromUint8Array(t))}}]),e}();function _T(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=(0,Kn.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var IT=function(){function e(){(0,We.Z)(this,e)}return(0,Qe.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){eS(e=uZ(e,GZ));var n=HZ(e),r=e._freezeSettings(),i=new tZ;return QZ(n,i,new JI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){eS(e=uZ(e,GZ));var t=HZ(e),n=e._freezeSettings(),r=new tZ;return QZ(t,r,new eZ(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Nm(Cm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Am;return e._queue.enqueueAndForgetEvenWhileRestricted((0,wn.Z)((0,bn.Z)().mark((function n(){return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(t){var n;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dy.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,dy.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Yx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),ZT=function(){function e(t,n,r){var i=this;(0,We.Z)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof zy||(this._appCompat=t)}return(0,Qe.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||_m("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hZ(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return YZ(this._delegate)}},{key:"disableNetwork",value:function(){return $Z(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&rZ("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Am;return e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function n(){return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=kI,n.next=3,MZ(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(HZ(e=uZ(e,GZ)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return fT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Nm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new UT(this,mZ(this._delegate,e))}catch(MN){throw DT(MN,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new AT(this,yZ(this._delegate,e))}catch(MN){throw DT(MN,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new MT(this,function(e,t){if(e=uZ(e,fZ),nZ("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nm(Cm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new pZ(e,null,function(e){return new jg(Wm.emptyPath(),e)}(t))}(this._delegate,e))}catch(MN){throw DT(MN,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=uZ(e,GZ);var r=Object.assign(Object.assign({},pT),n);return function(e){if(e.maxAttempts<1)throw new Nm(Cm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Am;return e.asyncQueue.enqueueAndForget((0,wn.Z)((0,bn.Z)().mark((function i(){var a;return(0,bn.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,FZ(e);case 2:a=i.sent,new _Z(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(HZ(e),(function(n){return t(new yT(e,n))}),r)}(this._delegate,(function(n){return e(new TT(t,n))}))}},{key:"batch",value:function(){var e=this;return HZ(this._delegate),new CT(new vT(this._delegate,(function(t){return hT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return XZ(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return JZ(this._delegate,e).then((function(e){return e?new MT(t,e):null}))}}]),e}(),ST=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e){var r;return(0,We.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,Qe.Z)(n,[{key:"convertBytes",value:function(e){return new ET(new tS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return AT.forKey(t,this.firestore,null)}}]),n}(YS);var TT=function(){function e(t,n){(0,We.Z)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ST(t)}return(0,Qe.Z)(e,[{key:"get",value:function(e){var t=this,n=VT(e);return this._delegate.get(n).then((function(e){return new OT(t._firestore,new eT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=VT(e);return n?(bT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VT(e);return this._delegate.delete(t),this}}]),e}(),CT=function(){function e(t){(0,We.Z)(this,e),this._delegate=t}return(0,Qe.Z)(e,[{key:"set",value:function(e,t,n){var r=VT(e);return n?(bT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),NT=function(){function e(t,n,r){(0,We.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,Qe.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new tT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new LT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ST(t),n),i.set(n,a)),a}}]),e}();NT.INSTANCES=new WeakMap;var AT=function(){function e(t,n){(0,We.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ST(t)}return(0,Qe.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new UT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new UT(this.firestore,mZ(this._delegate,e))}catch(MN){throw DT(MN,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Er(e))instanceof dZ&&gZ(this._delegate,e)}},{key:"set",value:function(e,t){t=bT("DocumentReference.set",t);try{return t?sT(this._delegate,e,t):sT(this._delegate,e)}catch(MN){throw DT(MN,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?cT(this._delegate,e):cT.apply(void 0,[this._delegate,e,t].concat(r))}catch(MN){throw DT(MN,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return hT(uZ(e.firestore,GZ),[new Pk(e._key,kk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=RT(n),a=PT(n,(function(t){return new OT(e.firestore,new eT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return lT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?oT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uZ(e,dZ);var t=uZ(e.firestore,GZ);return VZ(HZ(t),e._key,{source:"server"}).then((function(n){return dT(t,e,n)}))}(this._delegate):function(e){e=uZ(e,dZ);var t=uZ(e.firestore,GZ);return VZ(HZ(t),e._key).then((function(n){return dT(t,e,n)}))}(this._delegate),t.then((function(e){return new OT(n.firestore,new eT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Nm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new dZ(n._delegate,r,new $m(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new dZ(n._delegate,r,t))}}]),e}();function DT(e,t,n){return e.message=e.message.replace(t,n),e}function RT(e){var t,n=(0,Kn.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!_T(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function PT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=_T(e[0])?e[0]:_T(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var OT=function(){function e(t,n){(0,We.Z)(this,e),this._firestore=t,this._delegate=n}return(0,Qe.Z)(e,[{key:"ref",get:function(){return new AT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return iT(this._delegate,e._delegate)}}]),e}(),LT=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(){return(0,We.Z)(this,n),t.apply(this,arguments)}return(0,Qe.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Zm()}(void 0!==t),t}}]),n}(OT),MT=function(){function e(t,n){(0,We.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ST(t)}return(0,Qe.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,LS(this._delegate,function(e,t,n){var r=t,i=RS("where",e);return new MS(i,r,n)}(t,n,r)))}catch(MN){throw DT(MN,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,LS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=RS("orderBy",e);return new FS(n,t)}(t,n)))}catch(MN){throw DT(MN,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,LS(this._delegate,function(e){return sZ("limit",e),new jS("limit",e,"F")}(t)))}catch(MN){throw DT(MN,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,LS(this._delegate,function(e){return sZ("limitToLast",e),new jS("limitToLast",e,"L")}(t)))}catch(MN){throw DT(MN,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,LS(this._delegate,VS.apply(void 0,arguments)))}catch(MN){throw DT(MN,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,LS(this._delegate,BS.apply(void 0,arguments)))}catch(MN){throw DT(MN,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,LS(this._delegate,qS.apply(void 0,arguments)))}catch(MN){throw DT(MN,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,LS(this._delegate,KS.apply(void 0,arguments)))}catch(MN){throw DT(MN,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return kZ(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uZ(e,pZ);var t=uZ(e.firestore,GZ),n=HZ(t),r=new aT(t);return BZ(n,e._query,{source:"server"}).then((function(n){return new nT(t,r,e,n)}))}(this._delegate):function(e){e=uZ(e,pZ);var t=uZ(e.firestore,GZ),n=HZ(t),r=new aT(t);return PS(e._query),BZ(n,e._query).then((function(n){return new nT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new jT(n.firestore,new nT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=RT(n),a=PT(n,(function(t){return new jT(e.firestore,new nT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return lT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),FT=function(){function e(t,n){(0,We.Z)(this,e),this._firestore=t,this._delegate=n}return(0,Qe.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new LT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),jT=function(){function e(t,n){(0,We.Z)(this,e),this._firestore=t,this._delegate=n}return(0,Qe.Z)(e,[{key:"query",get:function(){return new MT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new LT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new FT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new LT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return iT(this._delegate,e._delegate)}}]),e}(),UT=function(e){(0,Mt.Z)(n,e);var t=(0,Ft.Z)(n);function n(e,r){var i;return(0,We.Z)(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return(0,Qe.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new AT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new AT(this.firestore,void 0===e?yZ(this._delegate):yZ(this._delegate,e))}catch(MN){throw DT(MN,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=uZ(e.firestore,GZ),r=yZ(e),i=$S(e.converter,t);return hT(n,[hS(fS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new AT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return gZ(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(NT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(MT);function VT(e){return uZ(e,dZ)}var BT=function(){function e(){(0,We.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=(0,dh.Z)(nS,n)}return(0,Qe.Z)(e,[{key:"isEqual",value:function(e){return(e=Er(e))instanceof nS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ym.keyField().canonicalString())}}]),e}(),zT=function(){function e(t){(0,We.Z)(this,e),this._delegate=t}return(0,Qe.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new vS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new dS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=gT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=kT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new gS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),qT={Firestore:ZT,GeoPoint:iS,Timestamp:Km,Blob:ET,Transaction:TT,WriteBatch:CT,DocumentReference:AT,DocumentSnapshot:OT,Query:MT,QueryDocumentSnapshot:LT,QuerySnapshot:jT,CollectionReference:UT,FieldPath:BT,FieldValue:zT,setLogLevel:function(e){!function(e){bm.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new _r("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},qT)))}(e,(function(e,t){return new ZT(e,t,new IT)})),e.registerVersion("@firebase/firestore-compat","0.2.2")}(Hi);Hi.initializeApp({apiKey:"AIzaSyBPqv2koV2kJHFV5dCcvgjIWkdgZ46eUOE",authDomain:"portfolio-8f090.firebaseapp.com",projectId:"portfolio-8f090",storageBucket:"portfolio-8f090.appspot.com",messagingSenderId:"112888837427",appId:"1:112888837427:web:de9e11b3815a6de44b7a46"}),Hi.auth=Hi.auth(),Hi.db=Hi.firestore();var KT=Hi;function GT(e){return KT.db.doc("profile-data/".concat(e)).get()}var HT=["as","bsPrefix","className"],WT=["className"];function QT(e){var t=e.as,n=e.bsPrefix,r=e.className,i=l(e,HT);n=S(n,"col");var a=T(),o=C(),u=[],c=[];return a.forEach((function(e){var t,r,a,s=i[e];delete i[e],"object"===typeof s&&null!=s?(t=s.span,r=s.offset,a=s.order):t=s;var l=e!==o?"-".concat(e):"";t&&u.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&c.push("order".concat(l,"-").concat(a)),null!=r&&c.push("offset".concat(l,"-").concat(r))})),[s(s({},i),{},{className:h().apply(void 0,[r].concat(u,c))}),{as:t,bsPrefix:n,spans:u}]}var YT=t.forwardRef((function(e,t){var n=QT(e),r=(0,Me.Z)(n,2),i=r[0],a=i.className,o=l(i,WT),u=r[1],c=u.as,f=void 0===c?"div":c,d=u.bsPrefix,p=u.spans;return(0,E.jsx)(f,s(s({},o),{},{ref:t,className:h()(a,!p.length&&d)}))}));YT.displayName="Col";var $T=["animation","bg","bsPrefix","size"],XT=["className"];function JT(e){var t=e.animation,n=e.bg,r=e.bsPrefix,i=e.size,a=l(e,$T);r=S(r,"placeholder");var o=QT(a),u=(0,Me.Z)(o,1)[0],c=u.className;return s(s({},l(u,XT)),{},{className:h()(c,t?"".concat(r,"-").concat(t):r,i&&"".concat(r,"-").concat(i),n&&"bg-".concat(n))})}var eC=["as","disabled"];function tC(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var nC=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,eC),a=tC(Object.assign({tagName:n,disabled:r},i)),o=(0,Me.Z)(a,2),u=o[0],s=o[1].tagName;return(0,E.jsx)(s,Object.assign({},i,u,{ref:t}))}));nC.displayName="Button";var rC=nC,iC=["as","bsPrefix","variant","size","active","className"],aC=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,u=e.className,c=l(e,iC),f=S(r,"btn"),d=tC(s({tagName:n},c)),p=(0,Me.Z)(d,2),v=p[0],m=p[1].tagName;return(0,E.jsx)(m,s(s(s({},v),c),{},{ref:t,className:h()(u,f,o&&"active",i&&"".concat(f,"-").concat(i),a&&"".concat(f,"-").concat(a),c.href&&c.disabled&&"disabled")}))}));aC.displayName="Button",aC.defaultProps={variant:"primary",active:!1,disabled:!1};var oC=aC,uC=t.forwardRef((function(e,t){var n=JT(e);return(0,E.jsx)(oC,s(s({},n),{},{ref:t,disabled:!0,tabIndex:-1}))}));uC.displayName="PlaceholderButton";var sC=uC,cC=["as"],lC=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"span":n,i=JT(l(e,cC));return(0,E.jsx)(r,s(s({},i),{},{ref:t}))}));lC.displayName="Placeholder";var fC=Object.assign(lC,{Button:sC});n(573);var hC=t.createContext(null);hC.displayName="NavContext";var dC=hC,pC=t.createContext(null),vC=["as","active","eventKey"];function mC(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,t.useContext)(p),c=(0,t.useContext)(dC),l=(0,t.useContext)(pC),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=n?n:null),v=c.getControlledId(null!=n?n:null);h[Ye("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=v)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),u&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Re((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[h,{isActive:f}]}var yC=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?rC:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,vC),u=mC(Object.assign({key:d(a,o.href),active:i},o)),s=(0,Me.Z)(u,2),c=s[0],l=s[1];return c[Ye("active")]=l.isActive,(0,E.jsx)(r,Object.assign({},o,c,{ref:t}))}));yC.displayName="NavItem";var gC=yC,kC=["as","onSelect","activeKey","role","onKeyDown"];var bC=function(){},wC=Ye("event-key"),xC=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,kC),h=(0,t.useReducer)((function(e){return!e}),!1)[1],v=(0,t.useRef)(!1),m=(0,t.useContext)(p),y=(0,t.useContext)(pC);y&&(c=c||"tablist",s=y.activeKey,r=y.getControlledId,i=y.getControllerId);var g=(0,t.useRef)(null),k=function(e){var t=g.current;if(!t)return null;var n=Ut(t,"[".concat(wC,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},b=function(e,t){null!=e&&(null==u||u(e,t),null==m||m(e,t))};(0,t.useEffect)((function(){if(g.current&&v.current){var e=g.current.querySelector("[".concat(wC,"][aria-selected=true]"));null==e||e.focus()}v.current=!1}));var w=ve(n,g);return(0,E.jsx)(p.Provider,{value:b,children:(0,E.jsx)(dC.Provider,{value:{role:c,activeKey:d(s),getControlledId:r||bC,getControllerId:i||bC},children:(0,E.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),y){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=k(-1);break;case"ArrowRight":case"ArrowDown":t=k(1);break;default:return}if(t)e.preventDefault(),b(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),v.current=!0,h()}},ref:w,role:c}))})})}));xC.displayName="Nav";var EC=Object.assign(xC,{Item:gC}),_C=D("nav-item");new WeakMap;var IC=["onKeyDown"];var ZC=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,IC),a=tC(Object.assign({tagName:"a"},i)),o=(0,Me.Z)(a,1)[0],u=Re((function(e){o.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,E.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,E.jsx)("a",Object.assign({ref:t},i,o,{onKeyDown:u}))}));ZC.displayName="Anchor";var SC=ZC,TC=["bsPrefix","className","as","active","eventKey"],CC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?SC:i,o=e.active,u=e.eventKey,c=l(e,TC);n=S(n,"nav-link");var f=mC(s({key:d(u,c.href),active:o},c)),p=(0,Me.Z)(f,2),v=p[0],m=p[1];return(0,E.jsx)(a,s(s(s({},c),v),{},{ref:t,className:h()(r,n,c.disabled&&"disabled",m.isActive&&"active")}))}));CC.displayName="NavLink",CC.defaultProps={disabled:!1};var NC=CC,AC=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],DC=t.forwardRef((function(e,n){var r,i,a,u=g(e,{activeKey:"onSelect"}),c=u.as,f=void 0===c?"div":c,d=u.bsPrefix,p=u.variant,v=u.fill,m=u.justify,y=u.navbar,k=u.navbarScroll,b=u.className,w=u.activeKey,x=l(u,AC),_=S(d,"nav"),I=!1,Z=(0,t.useContext)(Te),T=(0,t.useContext)(Zn);return Z?(i=Z.bsPrefix,I=null==y||y):T&&(a=T.cardHeaderBsPrefix),(0,E.jsx)(EC,s({as:f,ref:n,activeKey:w,className:h()(b,(r={},(0,o.Z)(r,_,!I),(0,o.Z)(r,"".concat(i,"-nav"),I),(0,o.Z)(r,"".concat(i,"-nav-scroll"),I&&k),(0,o.Z)(r,"".concat(a,"-").concat(p),!!a),(0,o.Z)(r,"".concat(_,"-").concat(p),!!p),(0,o.Z)(r,"".concat(_,"-fill"),v),(0,o.Z)(r,"".concat(_,"-justified"),m),r))},x))}));DC.displayName="Nav",DC.defaultProps={justify:!1,fill:!1};var RC=Object.assign(DC,{Item:_C,Link:NC}),PC=n(564);var OC=function(){return(0,E.jsxs)(RC,{className:"justify-content-center",variant:"tabs",defaultActiveKey:"/",children:[(0,E.jsx)(RC.Item,{children:(0,E.jsx)(PC.J,{to:"/host-portfolio/",children:(0,E.jsx)(RC.Link,{children:"Info"})})}),(0,E.jsx)(RC.Item,{children:(0,E.jsx)(PC.J,{to:"/host-portfolio/projects",children:(0,E.jsx)(RC.Link,{children:"Projects"})})})]})},LC={headerProfile:"Header_headerProfile__tluMq",headerCard:"Header_headerCard__X0Uv+",bodyProfile:"Header_bodyProfile__MsXCe",imageContainer:"Header_imageContainer__P++E7",imageBanner:"Header_imageBanner__THLpL",imageProfile:"Header_imageProfile__Ak1gJ",headerFormButton:"Header_headerFormButton__71E5Q"},MC=n.p+"static/media/bannerImage.576be15c2c9d8d377d65.jpeg",FC=n.p+"static/media/profileImage.7bb400c337c71abf813a.jpg";var jC=function(){return(0,E.jsx)("div",{className:LC.headerProfile,children:(0,E.jsxs)(Vn,{className:LC.headerCard,children:[(0,E.jsxs)("div",{className:LC.imageContainer,children:[(0,E.jsx)(Vn.Img,{className:"".concat(LC.box," ").concat(LC.imageBanner),variant:"top",src:MC}),(0,E.jsx)(qn,{className:"".concat(LC.box," ").concat(LC.imageProfile),src:FC,roundedCircle:!0})]}),(0,E.jsx)("div",{className:LC.bodyProfile,children:(0,E.jsxs)(Vn.Body,{children:[(0,E.jsx)(fC,{as:Vn.Title,animation:"glow",children:(0,E.jsx)(fC,{xs:4})}),(0,E.jsxs)(fC,{as:Vn.Text,animation:"glow",children:[(0,E.jsx)(fC,{xs:2})," ",(0,E.jsx)(fC,{xs:2})," "," ",(0,E.jsx)(fC,{xs:4})]}),(0,E.jsxs)(fC,{as:Vn.Text,animation:"glow",children:[(0,E.jsx)(fC,{xs:3})," ",(0,E.jsx)(fC,{xs:3})]})]})}),(0,E.jsx)(OC,{})]})})};function UC(e,t){return Array.isArray(e)?e.includes(t):e===t}var VC=t.createContext({});VC.displayName="AccordionContext";var BC=VC,zC=["as","bsPrefix","className","children","eventKey"],qC=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"div":r,a=e.bsPrefix,o=e.className,u=e.children,c=e.eventKey,f=l(e,zC),d=(0,t.useContext)(BC).activeEventKey;return a=S(a,"accordion-collapse"),(0,E.jsx)(Ze,s(s({ref:n,in:UC(d,c)},f),{},{className:h()(o,a),children:(0,E.jsx)(i,{children:t.Children.only(u)})}))}));qC.displayName="AccordionCollapse";var KC=qC,GC=t.createContext({eventKey:""});GC.displayName="AccordionItemContext";var HC=GC,WC=["as","bsPrefix","className"],QC=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"div":r,a=e.bsPrefix,o=e.className,u=l(e,WC);a=S(a,"accordion-body");var c=(0,t.useContext)(HC).eventKey;return(0,E.jsx)(KC,{eventKey:c,children:(0,E.jsx)(i,s(s({ref:n},u),{},{className:h()(o,a)}))})}));QC.displayName="AccordionBody";var YC=QC,$C=["as","bsPrefix","className","onClick"];function XC(e,n){var r=(0,t.useContext)(BC),i=r.activeEventKey,a=r.onSelect,o=r.alwaysOpen;return function(t){var r=e===i?null:e;o&&(r=Array.isArray(i)?i.includes(e)?i.filter((function(t){return t!==e})):[].concat((0,He.Z)(i),[e]):[e]),null==a||a(r,t),null==n||n(t)}}var JC=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"button":r,a=e.bsPrefix,o=e.className,u=e.onClick,c=l(e,$C);a=S(a,"accordion-button");var f=(0,t.useContext)(HC).eventKey,d=XC(f,u),p=(0,t.useContext)(BC).activeEventKey;return"button"===i&&(c.type="button"),(0,E.jsx)(i,s(s({ref:n,onClick:d},c),{},{"aria-expanded":f===p,className:h()(o,a,!UC(p,f)&&"collapsed")}))}));JC.displayName="AccordionButton";var eN=JC,tN=["as","bsPrefix","className","children","onClick"],nN=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"h2":n,i=e.bsPrefix,a=e.className,o=e.children,u=e.onClick,c=l(e,tN);return i=S(i,"accordion-header"),(0,E.jsx)(r,s(s({ref:t},c),{},{className:h()(a,i),children:(0,E.jsx)(eN,{onClick:u,children:o})}))}));nN.displayName="AccordionHeader";var rN=nN,iN=["as","bsPrefix","className","eventKey"],aN=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"div":r,a=e.bsPrefix,o=e.className,u=e.eventKey,c=l(e,iN);a=S(a,"accordion-item");var f=(0,t.useMemo)((function(){return{eventKey:u}}),[u]);return(0,E.jsx)(HC.Provider,{value:f,children:(0,E.jsx)(i,s(s({ref:n},c),{},{className:h()(o,a)}))})}));aN.displayName="AccordionItem";var oN=aN,uN=["as","activeKey","bsPrefix","className","onSelect","flush","alwaysOpen"],sN=t.forwardRef((function(e,n){var r=g(e,{activeKey:"onSelect"}),i=r.as,a=void 0===i?"div":i,o=r.activeKey,u=r.bsPrefix,c=r.className,f=r.onSelect,d=r.flush,p=r.alwaysOpen,v=l(r,uN),m=S(u,"accordion"),y=(0,t.useMemo)((function(){return{activeEventKey:o,onSelect:f,alwaysOpen:p}}),[o,f,p]);return(0,E.jsx)(BC.Provider,{value:y,children:(0,E.jsx)(a,s(s({ref:n},v),{},{className:h()(c,m,d&&"".concat(m,"-flush"))}))})}));sN.displayName="Accordion";var cN=Object.assign(sN,{Button:eN,Collapse:KC,Item:oN,Header:rN,Body:YC}),lN="ContactInfoAccordion_info__ze-6I";var fN=function(e){var t=e.children,n=XC(e.eventKey);return(0,E.jsx)(Vn.Text,{onClick:n,className:lN,children:t})};var hN=function(e){var t=e.telephone,n=e.email;return(0,E.jsxs)(cN,{defaultActiveKey:"0",children:[(0,E.jsx)(fN,{children:"Contact information"}),(0,E.jsx)(cN.Collapse,{children:(0,E.jsxs)(Vn.Text,{children:["Email: ",n]})}),(0,E.jsx)(cN.Collapse,{children:(0,E.jsxs)(Vn.Text,{children:["Phone: ",t]})})]})};var dN=function(){var e=(0,t.useState)(!0),n=(0,Me.Z)(e,2),r=n[0],i=n[1],a=(0,t.useState)({name:"",ocupation:"",location:"",telephone:"",email:""}),o=(0,Me.Z)(a,2),u=o[0],s=o[1];return(0,t.useEffect)((function(){var e=function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GT("header-data");case 3:t=e.sent,s(t.data()),i(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),r?(0,E.jsx)(jC,{}):(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{className:LC.headerProfile,children:(0,E.jsxs)(Vn,{className:LC.headerCard,children:[(0,E.jsxs)("div",{className:LC.imageContainer,children:[(0,E.jsx)(Vn.Img,{className:"".concat(LC.box," ").concat(LC.imageBanner),variant:"top",src:MC}),(0,E.jsx)(qn,{className:"".concat(LC.box," ").concat(LC.imageProfile),src:FC,roundedCircle:!0})]}),(0,E.jsx)("div",{className:LC.bodyProfile,children:(0,E.jsxs)(Vn.Body,{children:[(0,E.jsx)("div",{className:"justify-spacebetween",children:(0,E.jsx)(Vn.Title,{children:u.name})}),(0,E.jsx)(Vn.Subtitle,{children:u.ocupation}),(0,E.jsx)(Vn.Text,{children:u.location}),(0,E.jsx)(hN,{telephone:u.telephone,email:u.email})]})}),(0,E.jsx)(OC,{})]})})})};var pN=function(){return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(Vn,{children:(0,E.jsxs)(Vn.Body,{children:[(0,E.jsx)(Vn.Title,{children:(0,E.jsx)(fC,{as:Vn.Title,animation:"glow",children:(0,E.jsx)(fC,{xs:4})})}),(0,E.jsx)(Vn.Text,{children:(0,E.jsxs)(fC,{as:Vn.Text,animation:"glow",children:[(0,E.jsx)(fC,{xs:7})," ",(0,E.jsx)(fC,{xs:4})," ",(0,E.jsx)(fC,{xs:4})," ",(0,E.jsx)(fC,{xs:6})," ",(0,E.jsx)(fC,{xs:8})]})})]})})})};var vN=function(){var e=(0,t.useState)(!0),n=(0,Me.Z)(e,2),r=n[0],i=n[1],a=(0,t.useState)(""),o=(0,Me.Z)(a,2),u=o[0],s=o[1];return(0,t.useEffect)((function(){var e=function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GT("about-data");case 3:t=e.sent,s(t.data().about),i(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),r?(0,E.jsx)(pN,{}):(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(Vn,{children:(0,E.jsxs)(Vn.Body,{children:[(0,E.jsx)("div",{className:"justify-spacebetween",children:(0,E.jsx)(Vn.Title,{children:"About me"})}),(0,E.jsx)(Vn.Text,{children:u})]})})})};function mN(e){return KT.db.collection("".concat(e)).get()}var yN={element:"ListElement_element__2wwwG",elementBody:"ListElement_elementBody__qoLSX"};var gN=function(e){var t=e.element;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("hr",{}),(0,E.jsxs)(Vn.Body,{className:yN.elementBody,children:[(0,E.jsx)(Vn.Subtitle,{children:t.name}),(0,E.jsx)(Vn.Text,{children:t.description}),(0,E.jsxs)(Vn.Text,{children:[t.from," - ",t.to]})]})]})};function kN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I,r=[];return Object.entries(e).forEach((function(e){var i=(0,Me.Z)(e,2),a=i[0],o=i[1];null!=o&&("object"===typeof o?t.forEach((function(e){var t=o[e];if(null!=t){var i=e!==n?"-".concat(e):"";r.push("".concat(a).concat(i,"-").concat(t))}})):r.push("".concat(a,"-").concat(o)))})),r}var bN=["as","bsPrefix","className","direction","gap"],wN=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=e.direction,u=e.gap,c=l(e,bN);i=S(i,"horizontal"===o?"hstack":"vstack");var f=T(),d=C();return(0,E.jsx)(r,s(s({},c),{},{ref:t,className:h().apply(void 0,[a,i].concat((0,He.Z)(kN({gap:u,breakpoints:f,minBreakpoint:d}))))}))}));wN.displayName="Stack";var xN=wN,EN=["bsPrefix","variant","animation","size","as","className"],_N=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=e.size,o=e.as,u=void 0===o?"div":o,c=e.className,f=l(e,EN);n=S(n,"spinner");var d="".concat(n,"-").concat(i);return(0,E.jsx)(u,s(s({ref:t},f),{},{className:h()(c,d,a&&"".concat(d,"-").concat(a),r&&"text-".concat(r))}))}));_N.displayName="Spinner";var IN=_N;var ZN=function(){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("hr",{}),(0,E.jsxs)("div",{className:yN.element,children:[(0,E.jsx)("div",{className:yN.elementSpinner,children:(0,E.jsx)(IN,{animation:"border",role:"status",children:(0,E.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),(0,E.jsxs)(fC,{as:Vn.Text,animation:"glow",style:{width:"100%"},children:[(0,E.jsx)(fC,{xs:7})," ",(0,E.jsx)(fC,{xs:4})," ",(0,E.jsx)(fC,{xs:4})," ",(0,E.jsx)(fC,{xs:6})," ",(0,E.jsx)(fC,{xs:8})]})]})]})};var SN=function(){return(0,E.jsx)(Vn,{children:(0,E.jsxs)(Vn.Body,{children:[(0,E.jsx)(Vn.Title,{children:(0,E.jsx)(fC,{as:Vn.Title,animation:"glow",children:(0,E.jsx)(fC,{xs:4})})}),(0,E.jsx)(xN,{direction:"vertical",gap:3,children:function(){for(var e=[],t=0;t<=2;t++)e.push((0,E.jsx)(ZN,{}));return e}()}),(0,E.jsx)("hr",{})]})})};var TN=function(e){var n=e.title,r=e.url,i=(0,t.useState)([]),a=(0,Me.Z)(i,2),o=a[0],u=a[1],s=(0,t.useState)(!0),c=(0,Me.Z)(s,2),l=c[0],f=c[1];return(0,t.useEffect)((function(){var e=function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mN(r);case 3:t=e.sent,u(t.docs),f(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),l?(0,E.jsx)(SN,{}):(0,E.jsx)(Vn,{children:(0,E.jsxs)(Vn.Body,{children:[(0,E.jsx)(Vn.Title,{children:n}),o.map((function(e){return(0,E.jsx)(gN,{element:e.data()})}))]})})};var CN=function(){return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{children:[(0,E.jsx)(vN,{}),(0,E.jsx)(TN,{title:"Education",url:"education"})]})})},NN="ProjectElement_projectTitle__Ev9ku",AN="ProjectElement_descriptionText__19lDP";var DN=function(e){var t=e.element;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("hr",{}),(0,E.jsxs)(Vn.Body,{children:[(0,E.jsx)(Vn.Subtitle,{children:(0,E.jsx)("a",{href:t.url,className:NN,children:t.name})}),(0,E.jsx)(Vn.Text,{children:(0,E.jsx)("div",{className:AN,children:t.description})})]})]})};var RN=function(){return(0,E.jsx)(Vn,{children:(0,E.jsxs)(Vn.Body,{children:[(0,E.jsx)(Vn.Title,{children:(0,E.jsx)(fC,{as:Vn.Title,animation:"glow",children:(0,E.jsx)(fC,{xs:4})})}),(0,E.jsx)(xN,{direction:"vertical",gap:3,children:function(){for(var e=[],t=0;t<=0;t++)e.push((0,E.jsx)(ZN,{}));return e}()}),(0,E.jsx)("hr",{})]})})};var PN=function(){var e=(0,t.useState)([]),n=(0,Me.Z)(e,2),r=n[0],i=n[1],a=(0,t.useState)(!0),o=(0,Me.Z)(a,2),u=o[0],s=o[1];return(0,t.useEffect)((function(){var e=function(){var e=(0,wn.Z)((0,bn.Z)().mark((function e(){var t;return(0,bn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mN("proyects");case 3:t=e.sent,i(t.docs),s(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),u?(0,E.jsx)(RN,{}):(0,E.jsx)(Vn,{children:(0,E.jsxs)(Vn.Body,{children:[(0,E.jsx)(Vn.Title,{children:"Projects"}),r.map((function(e){return(0,E.jsx)(DN,{element:e.data()})}))]})})};var ON=function(){return(0,E.jsxs)(i.BrowserRouter,{children:[(0,E.jsx)("div",{className:"nav",children:(0,E.jsx)(kn,{})}),(0,E.jsxs)("div",{className:"center",children:[(0,E.jsx)(dN,{}),(0,E.jsxs)(a.Z5,{children:[(0,E.jsx)(a.AW,{path:"/host-portfolio/",element:(0,E.jsx)(CN,{})}),(0,E.jsx)(a.AW,{path:"/host-portfolio/projects",element:(0,E.jsx)(PN,{})})]})]})]})},LN=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,E.jsx)(t.StrictMode,{children:(0,E.jsx)(ON,{})})),LN()}()}();
//# sourceMappingURL=main.5ed959dc.js.map